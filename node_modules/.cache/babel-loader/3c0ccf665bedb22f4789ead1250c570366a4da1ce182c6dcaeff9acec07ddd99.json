{"ast":null,"code":"export const xtreamLogin = async (server, username, password) => {\n  try {\n    var _data$user_info;\n    if (!server || !username || !password) {\n      throw new Error('Të gjitha fushat janë të detyrueshme');\n    }\n    let baseUrl = server.trim();\n    if (!baseUrl.startsWith('http')) {\n      baseUrl = 'https://' + baseUrl;\n    }\n    baseUrl = baseUrl.replace(/\\/+$/, '');\n    const response = await fetch(`${baseUrl}/player_api.php`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: new URLSearchParams({\n        username,\n        password,\n        action: 'handshake'\n      })\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n    const data = await response.json();\n    if (!(data !== null && data !== void 0 && (_data$user_info = data.user_info) !== null && _data$user_info !== void 0 && _data$user_info.auth)) {\n      return {\n        success: false,\n        error: 'Kredencialet e gabuara'\n      };\n    }\n    return {\n      success: true,\n      data,\n      server: baseUrl\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: error.message || 'Nuk u lidh me serverin'\n    };\n  }\n};\nexport const getAllContent = async (server, username, password) => {\n  try {\n    let baseUrl = server.trim();\n    if (!baseUrl.startsWith('http')) baseUrl = 'https://' + baseUrl;\n    baseUrl = baseUrl.replace(/\\/+$/, '');\n    const [live, movies, series] = await Promise.all([fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_live_streams`).then(res => res.json()), fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_vod_streams`).then(res => res.json()), fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_series`).then(res => res.json())]);\n    return {\n      live: Array.isArray(live) ? live : [],\n      movies: Array.isArray(movies) ? movies : [],\n      series: Array.isArray(series) ? series : []\n    };\n  } catch (error) {\n    console.error('Error getting content:', error);\n    return {\n      live: [],\n      movies: [],\n      series: []\n    };\n  }\n};\nexport const getAllCategories = async (server, username, password) => {\n  try {\n    let baseUrl = server.trim();\n    if (!baseUrl.startsWith('http')) baseUrl = 'https://' + baseUrl;\n    baseUrl = baseUrl.replace(/\\/+$/, '');\n    const [live, movies, series] = await Promise.all([fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_live_categories`).then(res => res.json()), fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_vod_categories`).then(res => res.json()), fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_series_categories`).then(res => res.json())]);\n    return {\n      live: Array.isArray(live) ? live : [],\n      movies: Array.isArray(movies) ? movies : [],\n      series: Array.isArray(series) ? series : [],\n      all: [...(Array.isArray(live) ? live : []), ...(Array.isArray(movies) ? movies : []), ...(Array.isArray(series) ? series : [])]\n    };\n  } catch (error) {\n    console.error('Error getting categories:', error);\n    return {\n      live: [],\n      movies: [],\n      series: [],\n      all: []\n    };\n  }\n};\nexport const buildStreamUrl = (server, username, password, streamId, type, extension = '') => {\n  let baseUrl = server.trim();\n  if (!baseUrl.startsWith('http')) baseUrl = 'https://' + baseUrl;\n  baseUrl = baseUrl.replace(/\\/+$/, '');\n  if (type === 'live') {\n    return `${baseUrl}/live/${username}/${password}/${streamId}.m3u8`;\n  } else if (type === 'movie') {\n    return `${baseUrl}/movie/${username}/${password}/${streamId}.${extension || 'mp4'}`;\n  } else if (type === 'series') {\n    return `${baseUrl}/series/${username}/${password}/${streamId}.m3u8`;\n  }\n  return '';\n};\nexport const getEPG = async (server, username, password, streamId) => {\n  try {\n    let baseUrl = server.trim();\n    if (!baseUrl.startsWith('http')) baseUrl = 'https://' + baseUrl;\n    baseUrl = baseUrl.replace(/\\/+$/, '');\n    const response = await fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_short_epg&stream_id=${streamId}&limit=5`);\n    const data = await response.json();\n    return Array.isArray(data.epg_listings) ? data.epg_listings : [];\n  } catch (error) {\n    console.error('Error getting EPG:', error);\n    return [];\n  }\n};\n// Shto në fund të xtream.js\n\n// =====================\n// M3U SERVICES\n// =====================\n\nexport const fetchM3UFromUrl = async url => {\n  try {\n    // Provo fillimisht pa proxy\n    try {\n      const response = await fetch(url, {\n        mode: 'cors',\n        headers: {\n          'Accept': 'text/plain, application/vnd.apple.mpegurl, application/x-mpegurl'\n        }\n      });\n      if (response.ok) {\n        return await response.text();\n      }\n    } catch (directError) {\n      console.log('Direct fetch failed, trying proxies...', directError);\n    }\n\n    // Proxy alternatives\n    const proxies = [`https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`, `https://corsproxy.io/?${encodeURIComponent(url)}`, `https://proxy.cors.sh/${encodeURIComponent(url)}`, `https://cors-anywhere.herokuapp.com/${url}`];\n\n    // Provo secilin proxy\n    for (const proxyUrl of proxies) {\n      try {\n        console.log('Trying proxy:', proxyUrl);\n        const response = await fetch(proxyUrl, {\n          headers: {\n            'Origin': window.location.origin\n          }\n        });\n        if (response.ok) {\n          const text = await response.text();\n          // Verifiko nështë M3U i vlefshëm\n          if (text.includes('#EXTM3U') || text.includes('#EXTINF:')) {\n            return text;\n          }\n        }\n      } catch (proxyError) {\n        console.log('Proxy failed:', proxyError);\n        continue;\n      }\n    }\n    throw new Error('Nuk arrihet të ngarkohet M3U nga URL e dhënë');\n  } catch (error) {\n    console.error('M3U fetch error:', error);\n    throw new Error('Nuk u ngarkua M3U playlist. Kontrollo URL-në.');\n  }\n};\nexport const parseM3U = m3uText => {\n  const lines = m3uText.split('\\n');\n  const channels = [];\n  let currentChannel = null;\n  let id = 1;\n\n  // Verifiko nështë M3U valid\n  if (!m3uText.includes('#EXTM3U') && !m3uText.includes('#EXTINF:')) {\n    throw new Error('Skedari nuk është M3U i vlefshëm');\n  }\n  lines.forEach(line => {\n    line = line.trim();\n    if (line.startsWith('#EXTINF:')) {\n      currentChannel = {\n        id: `m3u_${id}`,\n        stream_id: `m3u_${id}`,\n        type: 'live',\n        stream_type: 'live'\n      };\n\n      // Extract duration and name\n      const durationMatch = line.match(/#EXTINF:(-?\\d+)/);\n      if (durationMatch) {\n        currentChannel.duration = parseInt(durationMatch[1]);\n      }\n\n      // Extract name (everything after the last comma)\n      const nameParts = line.split(',');\n      if (nameParts.length > 1) {\n        currentChannel.name = nameParts[nameParts.length - 1].trim();\n      }\n\n      // Extract tvg-logo\n      const logoMatch = line.match(/tvg-logo=\"([^\"]*)\"/);\n      if (logoMatch) {\n        currentChannel.logo = logoMatch[1];\n        currentChannel.stream_icon = logoMatch[1];\n      }\n\n      // Extract group-title (category)\n      const groupMatch = line.match(/group-title=\"([^\"]*)\"/);\n      if (groupMatch) {\n        currentChannel.category = groupMatch[1];\n        currentChannel.category_name = groupMatch[1];\n      }\n\n      // Extract tvg-id\n      const tvgIdMatch = line.match(/tvg-id=\"([^\"]*)\"/);\n      if (tvgIdMatch) {\n        currentChannel.tvg_id = tvgIdMatch[1];\n      }\n\n      // Extract tvg-name\n      const tvgNameMatch = line.match(/tvg-name=\"([^\"]*)\"/);\n      if (tvgNameMatch) {\n        currentChannel.tvg_name = tvgNameMatch[1];\n      }\n    } else if (line && !line.startsWith('#') && currentChannel) {\n      // This is the stream URL\n      currentChannel.stream_url = line;\n      currentChannel.url = line;\n\n      // Set default name if not found\n      if (!currentChannel.name) {\n        currentChannel.name = `Kanali ${id}`;\n      }\n\n      // Set default category if not found\n      if (!currentChannel.category) {\n        currentChannel.category = 'Të tjera';\n        currentChannel.category_name = 'Të tjera';\n      }\n      channels.push({\n        ...currentChannel\n      });\n      id++;\n      currentChannel = null;\n    }\n  });\n\n  // Nëse nuk u gjet asnjë kanal, provo format tjetër\n  if (channels.length === 0) {\n    // Provo të lexosh çdo rresht si URL\n    lines.forEach(line => {\n      line = line.trim();\n      if (line && !line.startsWith('#') && line.startsWith('http')) {\n        channels.push({\n          id: `m3u_${id}`,\n          stream_id: `m3u_${id}`,\n          name: `Kanali ${id}`,\n          stream_url: line,\n          url: line,\n          category: 'Të tjera',\n          category_name: 'Të tjera',\n          type: 'live',\n          stream_type: 'live'\n        });\n        id++;\n      }\n    });\n  }\n  return channels;\n};","map":{"version":3,"names":["xtreamLogin","server","username","password","_data$user_info","Error","baseUrl","trim","startsWith","replace","response","fetch","method","headers","body","URLSearchParams","action","ok","status","data","json","user_info","auth","success","error","message","getAllContent","live","movies","series","Promise","all","then","res","Array","isArray","console","getAllCategories","buildStreamUrl","streamId","type","extension","getEPG","epg_listings","fetchM3UFromUrl","url","mode","text","directError","log","proxies","encodeURIComponent","proxyUrl","window","location","origin","includes","proxyError","parseM3U","m3uText","lines","split","channels","currentChannel","id","forEach","line","stream_id","stream_type","durationMatch","match","duration","parseInt","nameParts","length","name","logoMatch","logo","stream_icon","groupMatch","category","category_name","tvgIdMatch","tvg_id","tvgNameMatch","tvg_name","stream_url","push"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/services/xtream.jsx"],"sourcesContent":["export const xtreamLogin = async (server, username, password) => {\r\n  try {\r\n    if (!server || !username || !password) {\r\n      throw new Error('Të gjitha fushat janë të detyrueshme');\r\n    }\r\n\r\n    let baseUrl = server.trim();\r\n    if (!baseUrl.startsWith('http')) {\r\n      baseUrl = 'https://' + baseUrl;\r\n    }\r\n    baseUrl = baseUrl.replace(/\\/+$/, '');\r\n\r\n    const response = await fetch(`${baseUrl}/player_api.php`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n      },\r\n      body: new URLSearchParams({\r\n        username,\r\n        password,\r\n        action: 'handshake'\r\n      })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    \r\n    if (!data?.user_info?.auth) {\r\n      return { success: false, error: 'Kredencialet e gabuara' };\r\n    }\r\n\r\n    return { \r\n      success: true, \r\n      data,\r\n      server: baseUrl\r\n    };\r\n  } catch (error) {\r\n    return { \r\n      success: false, \r\n      error: error.message || 'Nuk u lidh me serverin' \r\n    };\r\n  }\r\n};\r\n\r\nexport const getAllContent = async (server, username, password) => {\r\n  try {\r\n    let baseUrl = server.trim();\r\n    if (!baseUrl.startsWith('http')) baseUrl = 'https://' + baseUrl;\r\n    baseUrl = baseUrl.replace(/\\/+$/, '');\r\n\r\n    const [live, movies, series] = await Promise.all([\r\n      fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_live_streams`).then(res => res.json()),\r\n      fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_vod_streams`).then(res => res.json()),\r\n      fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_series`).then(res => res.json())\r\n    ]);\r\n\r\n    return {\r\n      live: Array.isArray(live) ? live : [],\r\n      movies: Array.isArray(movies) ? movies : [],\r\n      series: Array.isArray(series) ? series : []\r\n    };\r\n  } catch (error) {\r\n    console.error('Error getting content:', error);\r\n    return { live: [], movies: [], series: [] };\r\n  }\r\n};\r\n\r\nexport const getAllCategories = async (server, username, password) => {\r\n  try {\r\n    let baseUrl = server.trim();\r\n    if (!baseUrl.startsWith('http')) baseUrl = 'https://' + baseUrl;\r\n    baseUrl = baseUrl.replace(/\\/+$/, '');\r\n\r\n    const [live, movies, series] = await Promise.all([\r\n      fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_live_categories`).then(res => res.json()),\r\n      fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_vod_categories`).then(res => res.json()),\r\n      fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_series_categories`).then(res => res.json())\r\n    ]);\r\n\r\n    return {\r\n      live: Array.isArray(live) ? live : [],\r\n      movies: Array.isArray(movies) ? movies : [],\r\n      series: Array.isArray(series) ? series : [],\r\n      all: [...(Array.isArray(live) ? live : []), ...(Array.isArray(movies) ? movies : []), ...(Array.isArray(series) ? series : [])]\r\n    };\r\n  } catch (error) {\r\n    console.error('Error getting categories:', error);\r\n    return { live: [], movies: [], series: [], all: [] };\r\n  }\r\n};\r\n\r\nexport const buildStreamUrl = (server, username, password, streamId, type, extension = '') => {\r\n  let baseUrl = server.trim();\r\n  if (!baseUrl.startsWith('http')) baseUrl = 'https://' + baseUrl;\r\n  baseUrl = baseUrl.replace(/\\/+$/, '');\r\n\r\n  if (type === 'live') {\r\n    return `${baseUrl}/live/${username}/${password}/${streamId}.m3u8`;\r\n  } else if (type === 'movie') {\r\n    return `${baseUrl}/movie/${username}/${password}/${streamId}.${extension || 'mp4'}`;\r\n  } else if (type === 'series') {\r\n    return `${baseUrl}/series/${username}/${password}/${streamId}.m3u8`;\r\n  }\r\n  return '';\r\n};\r\n\r\nexport const getEPG = async (server, username, password, streamId) => {\r\n  try {\r\n    let baseUrl = server.trim();\r\n    if (!baseUrl.startsWith('http')) baseUrl = 'https://' + baseUrl;\r\n    baseUrl = baseUrl.replace(/\\/+$/, '');\r\n\r\n    const response = await fetch(`${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_short_epg&stream_id=${streamId}&limit=5`);\r\n    const data = await response.json();\r\n    return Array.isArray(data.epg_listings) ? data.epg_listings : [];\r\n  } catch (error) {\r\n    console.error('Error getting EPG:', error);\r\n    return [];\r\n  }\r\n};\r\n// Shto në fund të xtream.js\r\n\r\n// =====================\r\n// M3U SERVICES\r\n// =====================\r\n\r\nexport const fetchM3UFromUrl = async (url) => {\r\n  try {\r\n    // Provo fillimisht pa proxy\r\n    try {\r\n      const response = await fetch(url, {\r\n        mode: 'cors',\r\n        headers: {\r\n          'Accept': 'text/plain, application/vnd.apple.mpegurl, application/x-mpegurl'\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        return await response.text();\r\n      }\r\n    } catch (directError) {\r\n      console.log('Direct fetch failed, trying proxies...', directError);\r\n    }\r\n\r\n    // Proxy alternatives\r\n    const proxies = [\r\n      `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`,\r\n      `https://corsproxy.io/?${encodeURIComponent(url)}`,\r\n      `https://proxy.cors.sh/${encodeURIComponent(url)}`,\r\n      `https://cors-anywhere.herokuapp.com/${url}`\r\n    ];\r\n\r\n    // Provo secilin proxy\r\n    for (const proxyUrl of proxies) {\r\n      try {\r\n        console.log('Trying proxy:', proxyUrl);\r\n        const response = await fetch(proxyUrl, {\r\n          headers: {\r\n            'Origin': window.location.origin\r\n          }\r\n        });\r\n        \r\n        if (response.ok) {\r\n          const text = await response.text();\r\n          // Verifiko nështë M3U i vlefshëm\r\n          if (text.includes('#EXTM3U') || text.includes('#EXTINF:')) {\r\n            return text;\r\n          }\r\n        }\r\n      } catch (proxyError) {\r\n        console.log('Proxy failed:', proxyError);\r\n        continue;\r\n      }\r\n    }\r\n\r\n    throw new Error('Nuk arrihet të ngarkohet M3U nga URL e dhënë');\r\n  } catch (error) {\r\n    console.error('M3U fetch error:', error);\r\n    throw new Error('Nuk u ngarkua M3U playlist. Kontrollo URL-në.');\r\n  }\r\n};\r\n\r\nexport const parseM3U = (m3uText) => {\r\n  const lines = m3uText.split('\\n');\r\n  const channels = [];\r\n  let currentChannel = null;\r\n  let id = 1;\r\n\r\n  // Verifiko nështë M3U valid\r\n  if (!m3uText.includes('#EXTM3U') && !m3uText.includes('#EXTINF:')) {\r\n    throw new Error('Skedari nuk është M3U i vlefshëm');\r\n  }\r\n\r\n  lines.forEach(line => {\r\n    line = line.trim();\r\n    \r\n    if (line.startsWith('#EXTINF:')) {\r\n      currentChannel = {\r\n        id: `m3u_${id}`,\r\n        stream_id: `m3u_${id}`,\r\n        type: 'live',\r\n        stream_type: 'live'\r\n      };\r\n      \r\n      // Extract duration and name\r\n      const durationMatch = line.match(/#EXTINF:(-?\\d+)/);\r\n      if (durationMatch) {\r\n        currentChannel.duration = parseInt(durationMatch[1]);\r\n      }\r\n      \r\n      // Extract name (everything after the last comma)\r\n      const nameParts = line.split(',');\r\n      if (nameParts.length > 1) {\r\n        currentChannel.name = nameParts[nameParts.length - 1].trim();\r\n      }\r\n      \r\n      // Extract tvg-logo\r\n      const logoMatch = line.match(/tvg-logo=\"([^\"]*)\"/);\r\n      if (logoMatch) {\r\n        currentChannel.logo = logoMatch[1];\r\n        currentChannel.stream_icon = logoMatch[1];\r\n      }\r\n      \r\n      // Extract group-title (category)\r\n      const groupMatch = line.match(/group-title=\"([^\"]*)\"/);\r\n      if (groupMatch) {\r\n        currentChannel.category = groupMatch[1];\r\n        currentChannel.category_name = groupMatch[1];\r\n      }\r\n      \r\n      // Extract tvg-id\r\n      const tvgIdMatch = line.match(/tvg-id=\"([^\"]*)\"/);\r\n      if (tvgIdMatch) {\r\n        currentChannel.tvg_id = tvgIdMatch[1];\r\n      }\r\n      \r\n      // Extract tvg-name\r\n      const tvgNameMatch = line.match(/tvg-name=\"([^\"]*)\"/);\r\n      if (tvgNameMatch) {\r\n        currentChannel.tvg_name = tvgNameMatch[1];\r\n      }\r\n      \r\n    } else if (line && !line.startsWith('#') && currentChannel) {\r\n      // This is the stream URL\r\n      currentChannel.stream_url = line;\r\n      currentChannel.url = line;\r\n      \r\n      // Set default name if not found\r\n      if (!currentChannel.name) {\r\n        currentChannel.name = `Kanali ${id}`;\r\n      }\r\n      \r\n      // Set default category if not found\r\n      if (!currentChannel.category) {\r\n        currentChannel.category = 'Të tjera';\r\n        currentChannel.category_name = 'Të tjera';\r\n      }\r\n      \r\n      channels.push({ ...currentChannel });\r\n      id++;\r\n      currentChannel = null;\r\n    }\r\n  });\r\n\r\n  // Nëse nuk u gjet asnjë kanal, provo format tjetër\r\n  if (channels.length === 0) {\r\n    // Provo të lexosh çdo rresht si URL\r\n    lines.forEach(line => {\r\n      line = line.trim();\r\n      if (line && !line.startsWith('#') && line.startsWith('http')) {\r\n        channels.push({\r\n          id: `m3u_${id}`,\r\n          stream_id: `m3u_${id}`,\r\n          name: `Kanali ${id}`,\r\n          stream_url: line,\r\n          url: line,\r\n          category: 'Të tjera',\r\n          category_name: 'Të tjera',\r\n          type: 'live',\r\n          stream_type: 'live'\r\n        });\r\n        id++;\r\n      }\r\n    });\r\n  }\r\n\r\n  return channels;\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}