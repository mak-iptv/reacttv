{"ast":null,"code":"// iptvService.js - VERSION I KORRIGJUAR\n\n// Funksion universal për IPTV API me opsione të ndryshme\nconst fetchIPTVData = async (server, user, pass, action, options = {}) => {\n  try {\n    console.log(`Fetching ${action} from ${server}`);\n\n    // Opsioni 1: Përdor proxy (parazgjedhja)\n    if (!options.direct) {\n      try {\n        const proxyUrl = `/api/iptv?server=${encodeURIComponent(server)}&user=${user}&pass=${pass}&action=${action}`;\n        console.log(\"Trying proxy:\", proxyUrl);\n        const res = await fetch(proxyUrl, {\n          signal: options.signal\n        });\n        if (!res.ok) {\n          console.warn(`Proxy failed with status ${res.status}, trying direct...`);\n          throw new Error(`Proxy HTTP ${res.status}`);\n        }\n        const contentType = res.headers.get('content-type') || '';\n        if (!contentType.includes('application/json')) {\n          // Merrni tekstin për të parë çfarë po kthehet\n          const text = await res.text();\n          console.warn(`Proxy returned non-JSON content (${contentType}):`, text.substring(0, 200));\n\n          // Kontrolloni nëse është HTML error page\n          if (text.includes('<!DOCTYPE') || text.includes('<html')) {\n            throw new Error('Proxy returned HTML page (might be an error)');\n          }\n\n          // Provoni të parse si JSON nëse mundet\n          try {\n            const data = JSON.parse(text);\n            return data;\n          } catch {\n            throw new Error('Invalid response format from proxy');\n          }\n        }\n        const data = await res.json();\n        console.log(`${action} data received via proxy:`, (data === null || data === void 0 ? void 0 : data.length) || 'No data');\n        return data;\n      } catch (proxyError) {\n        console.warn(`Proxy failed for ${action}:`, proxyError.message);\n      }\n    }\n\n    // Opsioni 2: Lidhje direkte me API-n Xtream\n    console.log(`Trying direct connection to Xtream API for ${action}...`);\n    let apiUrl;\n    const cleanServer = server.replace(/\\/$/, '');\n    switch (action) {\n      case 'get_live_streams':\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=get_live_streams`;\n        break;\n      case 'get_vod_streams':\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=get_vod_streams`;\n        break;\n      case 'get_series':\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=get_series`;\n        break;\n      case 'get_live_categories':\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=get_live_categories`;\n        break;\n      case 'handshake':\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=handshake`;\n        break;\n      default:\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=${action}`;\n    }\n    const res = await fetch(apiUrl, {\n      signal: options.signal,\n      headers: {\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\n        'Accept': 'application/json, text/plain, */*',\n        'Cache-Control': 'no-cache'\n      }\n    });\n    if (!res.ok) {\n      throw new Error(`Direct API HTTP ${res.status}: ${res.statusText}`);\n    }\n    const text = await res.text();\n    console.log(`Direct API response for ${action} (first 500 chars):`, text.substring(0, 500));\n\n    // Kontrolloni nëse përgjigja është HTML në vend të JSON\n    if (text.includes('<!DOCTYPE') || text.includes('<html')) {\n      throw new Error('Server returned HTML instead of JSON. Check credentials and server URL.');\n    }\n\n    // Provoni të parse JSON\n    try {\n      const data = JSON.parse(text);\n      console.log(`${action} data received directly:`, (data === null || data === void 0 ? void 0 : data.length) || 'No data');\n      return data;\n    } catch (jsonError) {\n      console.error('JSON parse error:', jsonError);\n      console.error('Response text:', text.substring(0, 500));\n\n      // Kontrolloni për mesazhe të thjeshta të gabimit\n      if (text.toLowerCase().includes('invalid') || text.toLowerCase().includes('error')) {\n        throw new Error(`Server error: ${text.substring(0, 100)}`);\n      }\n      throw new Error('Invalid JSON response from server');\n    }\n  } catch (error) {\n    console.error(`Error fetching ${action}:`, error);\n\n    // Kontrolloni për gabime specifike\n    if (error.message.includes('CORS')) {\n      throw new Error('CORS error. Server might not allow direct browser access. Try using proxy.');\n    }\n    if (error.message.includes('Failed to fetch')) {\n      throw new Error('Cannot connect to server. Check if server is online and URL is correct.');\n    }\n    throw error;\n  }\n};\n\n// Funksion për M3U (përdor proxy ose direkt)\nconst fetchM3U = async (url, options = {}) => {\n  try {\n    console.log(\"Fetching M3U:\", url);\n\n    // Së pari provoni proxy\n    if (!options.direct) {\n      try {\n        const res = await fetch(`/api/m3u?url=${encodeURIComponent(url)}`, {\n          signal: options.signal\n        });\n        if (!res.ok) {\n          throw new Error(`Proxy HTTP ${res.status}`);\n        }\n        const text = await res.text();\n        return text;\n      } catch (proxyError) {\n        console.warn('M3U proxy failed:', proxyError.message);\n      }\n    }\n\n    // Pastaj provoni direkt\n    const res = await fetch(url, {\n      signal: options.signal,\n      headers: {\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\n        'Accept': 'text/plain, */*',\n        'Cache-Control': 'no-cache'\n      }\n    });\n    if (!res.ok) {\n      throw new Error(`Direct HTTP ${res.status}: ${res.statusText}`);\n    }\n    const text = await res.text();\n    return text;\n  } catch (err) {\n    console.error(\"M3U fetch error:\", err);\n    throw err;\n  }\n};\n\n// Funksion për të ndërtuar stream URL\nconst buildStream = (server, user, pass, type, id) => {\n  console.log('Building stream URL:', {\n    server,\n    user,\n    pass,\n    type,\n    id\n  });\n  if (!server || !user || !pass || !id) {\n    console.error('Missing parameters for buildStream');\n    return '';\n  }\n  const cleanServer = server.replace(/\\/$/, \"\");\n\n  // Versioni standard Xtream\n  let streamUrl = `${cleanServer}/live/${user}/${pass}/${id}.m3u8`;\n  if (type === \"movie\") {\n    streamUrl = `${cleanServer}/movie/${user}/${pass}/${id}.m3u8`;\n  } else if (type === \"series\") {\n    streamUrl = `${cleanServer}/series/${user}/${pass}/${id}.m3u8`;\n  }\n  console.log('Built stream URL:', streamUrl);\n  return streamUrl;\n};\n\n// Funksion për të testuar lidhjen\nconst testConnection = async (server, user, pass) => {\n  try {\n    console.log('Testing connection to:', server);\n\n    // Provoni handshake\n    const data = await fetchIPTVData(server, user, pass, 'handshake', {\n      direct: true\n    });\n    if (data && data.user_info) {\n      return {\n        success: true,\n        message: 'Lidhja u krye me sukses!',\n        userInfo: data.user_info,\n        serverInfo: data.server_info\n      };\n    }\n    return {\n      success: false,\n      message: 'Lidhja u krye por nuk u morën të dhëna të vlefshme'\n    };\n  } catch (error) {\n    console.error('Connection test failed:', error);\n\n    // Provoni një kërkesë më të thjeshtë\n    try {\n      const testUrl = `${server.replace(/\\/$/, '')}/player_api.php?username=${user}&password=${pass}&action=get_live_categories`;\n      const response = await fetch(testUrl, {\n        method: 'HEAD',\n        mode: 'no-cors'\n      });\n      return {\n        success: false,\n        message: `Serveri është i arritshëm, por kredencialet mund të jenë të gabuara. Gabim: ${error.message}`\n      };\n    } catch (headError) {\n      return {\n        success: false,\n        message: `Nuk mund të lidhemi me serverin. Kontrolloni URL-në dhe lidhjen në internet. Gabim: ${error.message}`\n      };\n    }\n  }\n};\n\n// Funksionet e gatshme për të thirrur API-të\nconst getLive = async (server, user, pass, options = {}) => {\n  console.log(\"Fetching live streams...\");\n  const data = await fetchIPTVData(server, user, pass, \"get_live_streams\", options);\n  return Array.isArray(data) ? data : [];\n};\nconst getMovies = async (server, user, pass, options = {}) => {\n  console.log(\"Fetching movies...\");\n  const data = await fetchIPTVData(server, user, pass, \"get_vod_streams\", options);\n  return Array.isArray(data) ? data : [];\n};\nconst getSeries = async (server, user, pass, options = {}) => {\n  console.log(\"Fetching series...\");\n  const data = await fetchIPTVData(server, user, pass, \"get_series\", options);\n  return Array.isArray(data) ? data : [];\n};\nconst getCategories = async (server, user, pass, options = {}) => {\n  console.log(\"Fetching categories...\");\n  const data = await fetchIPTVData(server, user, pass, \"get_live_categories\", options);\n  return Array.isArray(data) ? data : [];\n};\n\n// Opsional: funksion autentikimi\nconst authenticate = async (server, user, pass, options = {}) => {\n  console.log(\"Authenticating...\");\n  const data = await fetchIPTVData(server, user, pass, \"handshake\", options);\n  return data;\n};\n\n// Eksporti i të gjitha funksioneve - VETËM NJË HERË\nexport { fetchM3U, buildStream, getLive, getMovies, getSeries, getCategories, authenticate, testConnection, fetchIPTVData };\n\n// MOS EKSPORTO DEFAULT nëse tashmë keni eksport të veçantë\n// export default { ... }; // KOMENTOJE KËTË NËSE PO PËRDOR EKSPORT TË VEÇANTË","map":{"version":3,"names":["fetchIPTVData","server","user","pass","action","options","console","log","direct","proxyUrl","encodeURIComponent","res","fetch","signal","ok","warn","status","Error","contentType","headers","get","includes","text","substring","data","JSON","parse","json","length","proxyError","message","apiUrl","cleanServer","replace","statusText","jsonError","error","toLowerCase","fetchM3U","url","err","buildStream","type","id","streamUrl","testConnection","user_info","success","userInfo","serverInfo","server_info","testUrl","response","method","mode","headError","getLive","Array","isArray","getMovies","getSeries","getCategories","authenticate"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/services/iptvService.js"],"sourcesContent":["// iptvService.js - VERSION I KORRIGJUAR\r\n\r\n// Funksion universal për IPTV API me opsione të ndryshme\r\nconst fetchIPTVData = async (server, user, pass, action, options = {}) => {\r\n  try {\r\n    console.log(`Fetching ${action} from ${server}`);\r\n    \r\n    // Opsioni 1: Përdor proxy (parazgjedhja)\r\n    if (!options.direct) {\r\n      try {\r\n        const proxyUrl = `/api/iptv?server=${encodeURIComponent(server)}&user=${user}&pass=${pass}&action=${action}`;\r\n        console.log(\"Trying proxy:\", proxyUrl);\r\n        \r\n        const res = await fetch(proxyUrl, { \r\n          signal: options.signal\r\n        });\r\n        \r\n        if (!res.ok) {\r\n          console.warn(`Proxy failed with status ${res.status}, trying direct...`);\r\n          throw new Error(`Proxy HTTP ${res.status}`);\r\n        }\r\n        \r\n        const contentType = res.headers.get('content-type') || '';\r\n        if (!contentType.includes('application/json')) {\r\n          // Merrni tekstin për të parë çfarë po kthehet\r\n          const text = await res.text();\r\n          console.warn(`Proxy returned non-JSON content (${contentType}):`, text.substring(0, 200));\r\n          \r\n          // Kontrolloni nëse është HTML error page\r\n          if (text.includes('<!DOCTYPE') || text.includes('<html')) {\r\n            throw new Error('Proxy returned HTML page (might be an error)');\r\n          }\r\n          \r\n          // Provoni të parse si JSON nëse mundet\r\n          try {\r\n            const data = JSON.parse(text);\r\n            return data;\r\n          } catch {\r\n            throw new Error('Invalid response format from proxy');\r\n          }\r\n        }\r\n        \r\n        const data = await res.json();\r\n        console.log(`${action} data received via proxy:`, data?.length || 'No data');\r\n        return data;\r\n      } catch (proxyError) {\r\n        console.warn(`Proxy failed for ${action}:`, proxyError.message);\r\n      }\r\n    }\r\n    \r\n    // Opsioni 2: Lidhje direkte me API-n Xtream\r\n    console.log(`Trying direct connection to Xtream API for ${action}...`);\r\n    \r\n    let apiUrl;\r\n    const cleanServer = server.replace(/\\/$/, '');\r\n    \r\n    switch (action) {\r\n      case 'get_live_streams':\r\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=get_live_streams`;\r\n        break;\r\n      case 'get_vod_streams':\r\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=get_vod_streams`;\r\n        break;\r\n      case 'get_series':\r\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=get_series`;\r\n        break;\r\n      case 'get_live_categories':\r\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=get_live_categories`;\r\n        break;\r\n      case 'handshake':\r\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=handshake`;\r\n        break;\r\n      default:\r\n        apiUrl = `${cleanServer}/player_api.php?username=${user}&password=${pass}&action=${action}`;\r\n    }\r\n    \r\n    const res = await fetch(apiUrl, { \r\n      signal: options.signal,\r\n      headers: {\r\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\r\n        'Accept': 'application/json, text/plain, */*',\r\n        'Cache-Control': 'no-cache'\r\n      }\r\n    });\r\n    \r\n    if (!res.ok) {\r\n      throw new Error(`Direct API HTTP ${res.status}: ${res.statusText}`);\r\n    }\r\n    \r\n    const text = await res.text();\r\n    console.log(`Direct API response for ${action} (first 500 chars):`, text.substring(0, 500));\r\n    \r\n    // Kontrolloni nëse përgjigja është HTML në vend të JSON\r\n    if (text.includes('<!DOCTYPE') || text.includes('<html')) {\r\n      throw new Error('Server returned HTML instead of JSON. Check credentials and server URL.');\r\n    }\r\n    \r\n    // Provoni të parse JSON\r\n    try {\r\n      const data = JSON.parse(text);\r\n      console.log(`${action} data received directly:`, data?.length || 'No data');\r\n      return data;\r\n    } catch (jsonError) {\r\n      console.error('JSON parse error:', jsonError);\r\n      console.error('Response text:', text.substring(0, 500));\r\n      \r\n      // Kontrolloni për mesazhe të thjeshta të gabimit\r\n      if (text.toLowerCase().includes('invalid') || text.toLowerCase().includes('error')) {\r\n        throw new Error(`Server error: ${text.substring(0, 100)}`);\r\n      }\r\n      \r\n      throw new Error('Invalid JSON response from server');\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error(`Error fetching ${action}:`, error);\r\n    \r\n    // Kontrolloni për gabime specifike\r\n    if (error.message.includes('CORS')) {\r\n      throw new Error('CORS error. Server might not allow direct browser access. Try using proxy.');\r\n    }\r\n    \r\n    if (error.message.includes('Failed to fetch')) {\r\n      throw new Error('Cannot connect to server. Check if server is online and URL is correct.');\r\n    }\r\n    \r\n    throw error;\r\n  }\r\n};\r\n\r\n// Funksion për M3U (përdor proxy ose direkt)\r\nconst fetchM3U = async (url, options = {}) => {\r\n  try {\r\n    console.log(\"Fetching M3U:\", url);\r\n    \r\n    // Së pari provoni proxy\r\n    if (!options.direct) {\r\n      try {\r\n        const res = await fetch(`/api/m3u?url=${encodeURIComponent(url)}`, {\r\n          signal: options.signal\r\n        });\r\n        \r\n        if (!res.ok) {\r\n          throw new Error(`Proxy HTTP ${res.status}`);\r\n        }\r\n        \r\n        const text = await res.text();\r\n        return text;\r\n      } catch (proxyError) {\r\n        console.warn('M3U proxy failed:', proxyError.message);\r\n      }\r\n    }\r\n    \r\n    // Pastaj provoni direkt\r\n    const res = await fetch(url, {\r\n      signal: options.signal,\r\n      headers: {\r\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\r\n        'Accept': 'text/plain, */*',\r\n        'Cache-Control': 'no-cache'\r\n      }\r\n    });\r\n    \r\n    if (!res.ok) {\r\n      throw new Error(`Direct HTTP ${res.status}: ${res.statusText}`);\r\n    }\r\n    \r\n    const text = await res.text();\r\n    return text;\r\n    \r\n  } catch (err) {\r\n    console.error(\"M3U fetch error:\", err);\r\n    throw err;\r\n  }\r\n};\r\n\r\n// Funksion për të ndërtuar stream URL\r\nconst buildStream = (server, user, pass, type, id) => {\r\n  console.log('Building stream URL:', { server, user, pass, type, id });\r\n  \r\n  if (!server || !user || !pass || !id) {\r\n    console.error('Missing parameters for buildStream');\r\n    return '';\r\n  }\r\n  \r\n  const cleanServer = server.replace(/\\/$/, \"\");\r\n  \r\n  // Versioni standard Xtream\r\n  let streamUrl = `${cleanServer}/live/${user}/${pass}/${id}.m3u8`;\r\n  \r\n  if (type === \"movie\") {\r\n    streamUrl = `${cleanServer}/movie/${user}/${pass}/${id}.m3u8`;\r\n  } else if (type === \"series\") {\r\n    streamUrl = `${cleanServer}/series/${user}/${pass}/${id}.m3u8`;\r\n  }\r\n  \r\n  console.log('Built stream URL:', streamUrl);\r\n  return streamUrl;\r\n};\r\n\r\n// Funksion për të testuar lidhjen\r\nconst testConnection = async (server, user, pass) => {\r\n  try {\r\n    console.log('Testing connection to:', server);\r\n    \r\n    // Provoni handshake\r\n    const data = await fetchIPTVData(server, user, pass, 'handshake', { direct: true });\r\n    \r\n    if (data && data.user_info) {\r\n      return {\r\n        success: true,\r\n        message: 'Lidhja u krye me sukses!',\r\n        userInfo: data.user_info,\r\n        serverInfo: data.server_info\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'Lidhja u krye por nuk u morën të dhëna të vlefshme'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('Connection test failed:', error);\r\n    \r\n    // Provoni një kërkesë më të thjeshtë\r\n    try {\r\n      const testUrl = `${server.replace(/\\/$/, '')}/player_api.php?username=${user}&password=${pass}&action=get_live_categories`;\r\n      const response = await fetch(testUrl, { \r\n        method: 'HEAD',\r\n        mode: 'no-cors'\r\n      });\r\n      \r\n      return {\r\n        success: false,\r\n        message: `Serveri është i arritshëm, por kredencialet mund të jenë të gabuara. Gabim: ${error.message}`\r\n      };\r\n    } catch (headError) {\r\n      return {\r\n        success: false,\r\n        message: `Nuk mund të lidhemi me serverin. Kontrolloni URL-në dhe lidhjen në internet. Gabim: ${error.message}`\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\n// Funksionet e gatshme për të thirrur API-të\r\nconst getLive = async (server, user, pass, options = {}) => {\r\n  console.log(\"Fetching live streams...\");\r\n  const data = await fetchIPTVData(server, user, pass, \"get_live_streams\", options);\r\n  return Array.isArray(data) ? data : [];\r\n};\r\n\r\nconst getMovies = async (server, user, pass, options = {}) => {\r\n  console.log(\"Fetching movies...\");\r\n  const data = await fetchIPTVData(server, user, pass, \"get_vod_streams\", options);\r\n  return Array.isArray(data) ? data : [];\r\n};\r\n\r\nconst getSeries = async (server, user, pass, options = {}) => {\r\n  console.log(\"Fetching series...\");\r\n  const data = await fetchIPTVData(server, user, pass, \"get_series\", options);\r\n  return Array.isArray(data) ? data : [];\r\n};\r\n\r\nconst getCategories = async (server, user, pass, options = {}) => {\r\n  console.log(\"Fetching categories...\");\r\n  const data = await fetchIPTVData(server, user, pass, \"get_live_categories\", options);\r\n  return Array.isArray(data) ? data : [];\r\n};\r\n\r\n// Opsional: funksion autentikimi\r\nconst authenticate = async (server, user, pass, options = {}) => {\r\n  console.log(\"Authenticating...\");\r\n  const data = await fetchIPTVData(server, user, pass, \"handshake\", options);\r\n  return data;\r\n};\r\n\r\n// Eksporti i të gjitha funksioneve - VETËM NJË HERË\r\nexport {\r\n  fetchM3U,\r\n  buildStream,\r\n  getLive,\r\n  getMovies,\r\n  getSeries,\r\n  getCategories,\r\n  authenticate,\r\n  testConnection,\r\n  fetchIPTVData\r\n};\r\n\r\n// MOS EKSPORTO DEFAULT nëse tashmë keni eksport të veçantë\r\n// export default { ... }; // KOMENTOJE KËTË NËSE PO PËRDOR EKSPORT TË VEÇANTË"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}