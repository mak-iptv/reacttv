{"ast":null,"code":"// iptvService.js - VERSION I PËRSHTATUR ME PROXY\n\n// Funksion universal për IPTV API përmes proxy\nconst fetchFromProxy = async (server, user, pass, action, options = {}) => {\n  try {\n    // Ndërto URL-në e proxy\n    const proxyUrl = `/api/iptv?server=${encodeURIComponent(server)}&user=${user}&pass=${pass}&action=${action}`;\n    console.log(\"Fetching from proxy:\", proxyUrl);\n    const res = await fetch(proxyUrl, {\n      signal: options.signal,\n      headers: {\n        'Accept': 'application/json',\n        'Cache-Control': 'no-cache'\n      }\n    });\n    if (!res.ok) {\n      const errorText = await res.text();\n      console.error(`Proxy returned error ${res.status}:`, errorText.substring(0, 200));\n      throw new Error(`Proxy HTTP ${res.status}: ${res.statusText}`);\n    }\n\n    // Kontrolloni Content-Type\n    const contentType = res.headers.get('content-type') || '';\n    if (!contentType.includes('application/json')) {\n      // Marrim tekstin për të parë çfarë po kthehet\n      const text = await res.text();\n      console.warn(`Proxy returned non-JSON (${contentType}):`, text.substring(0, 300));\n\n      // Kontrolloni nëse është HTML error\n      if (text.includes('<!DOCTYPE') || text.includes('<html')) {\n        throw new Error('Proxy returned HTML error page');\n      }\n\n      // Kontrolloni nëse është mesazh i thjeshtë\n      if (text.includes('error') || text.includes('Error') || text.includes('invalid')) {\n        throw new Error(`Proxy error: ${text.substring(0, 150)}`);\n      }\n\n      // Provoni të parse si JSON\n      try {\n        const data = JSON.parse(text);\n        return data;\n      } catch {\n        throw new Error('Invalid JSON from proxy');\n      }\n    }\n    const data = await res.json();\n    console.log(`${action} data received:`, Array.isArray(data) ? `${data.length} items` : 'Object data');\n    return data;\n  } catch (error) {\n    console.error(`Error in fetchFromProxy for ${action}:`, error);\n    throw error;\n  }\n};\n\n// Funksion për M3U përmes proxy\nconst fetchM3U = async (url, options = {}) => {\n  try {\n    console.log(\"Fetching M3U via proxy:\", url);\n    const res = await fetch(`/api/m3u?url=${encodeURIComponent(url)}`, {\n      signal: options.signal,\n      headers: {\n        'Accept': 'text/plain, */*',\n        'Cache-Control': 'no-cache'\n      }\n    });\n    if (!res.ok) {\n      const errorText = await res.text();\n      console.error(`M3U Proxy returned error ${res.status}:`, errorText.substring(0, 200));\n      throw new Error(`M3U Proxy HTTP ${res.status}: ${res.statusText}`);\n    }\n    const text = await res.text();\n    console.log('M3U fetched, length:', text.length);\n\n    // Kontrolloni nëse është error message\n    if (text.includes('<!DOCTYPE') || text.includes('<html')) {\n      throw new Error('M3U proxy returned HTML error page');\n    }\n    return text;\n  } catch (err) {\n    console.error(\"M3U fetch error:\", err);\n    throw err;\n  }\n};\n\n// Funksion për të ndërtuar stream URL\nconst buildStream = (server, user, pass, type, id) => {\n  console.log('Building stream URL:', {\n    server,\n    user,\n    pass,\n    type,\n    id\n  });\n  if (!server || !user || !pass || !id) {\n    console.error('Missing parameters for buildStream');\n    return '';\n  }\n  const cleanServer = server.replace(/\\/$/, \"\");\n\n  // Versioni standard Xtream\n  let streamUrl = `${cleanServer}/live/${user}/${pass}/${id}.m3u8`;\n  if (type === \"movie\") {\n    streamUrl = `${cleanServer}/movie/${user}/${pass}/${id}.m3u8`;\n  } else if (type === \"series\") {\n    streamUrl = `${cleanServer}/series/${user}/${pass}/${id}.m3u8`;\n  }\n  console.log('Built stream URL:', streamUrl);\n  return streamUrl;\n};\n\n// Funksion për të testuar lidhjen përmes proxy\nconst testConnection = async (server, user, pass) => {\n  try {\n    console.log('Testing connection via proxy:', server);\n    const data = await fetchFromProxy(server, user, pass, 'handshake');\n    if (data && data.user_info) {\n      return {\n        success: true,\n        message: 'Lidhja u krye me sukses!',\n        userInfo: data.user_info,\n        serverInfo: data.server_info\n      };\n    }\n    return {\n      success: false,\n      message: 'Lidhja u krye por nuk u morën të dhëna të vlefshme'\n    };\n  } catch (error) {\n    console.error('Connection test failed:', error);\n\n    // Kontrolloni llojin e gabimit\n    if (error.message.includes('CORS')) {\n      return {\n        success: false,\n        message: 'Problem CORS. Kontrolloni konfigurimin e proxy.'\n      };\n    }\n    if (error.message.includes('Failed to fetch')) {\n      return {\n        success: false,\n        message: 'Nuk mund të lidhemi me proxy server. Kontrolloni nëse proxy serveri është në linjë.'\n      };\n    }\n    if (error.message.includes('HTML error page')) {\n      return {\n        success: false,\n        message: 'Proxy serveri ktheu një faqe gabimi. Kontrolloni kredencialet dhe URL-në.'\n      };\n    }\n    return {\n      success: false,\n      message: `Gabim në lidhje: ${error.message}`\n    };\n  }\n};\n\n// Funksione bazë për marrjen e të dhënave\nconst getLive = async (server, user, pass, options = {}) => {\n  console.log(\"Fetching live streams via proxy...\");\n  try {\n    const data = await fetchFromProxy(server, user, pass, \"get_live_streams\", options);\n    return Array.isArray(data) ? data : [];\n  } catch (error) {\n    console.error(\"Failed to get live streams:\", error);\n    return [];\n  }\n};\nconst getMovies = async (server, user, pass, options = {}) => {\n  console.log(\"Fetching movies via proxy...\");\n  try {\n    const data = await fetchFromProxy(server, user, pass, \"get_vod_streams\", options);\n    return Array.isArray(data) ? data : [];\n  } catch (error) {\n    console.error(\"Failed to get movies:\", error);\n    return [];\n  }\n};\nconst getSeries = async (server, user, pass, options = {}) => {\n  console.log(\"Fetching series via proxy...\");\n  try {\n    const data = await fetchFromProxy(server, user, pass, \"get_series\", options);\n    return Array.isArray(data) ? data : [];\n  } catch (error) {\n    console.error(\"Failed to get series:\", error);\n    return [];\n  }\n};\nconst getCategories = async (server, user, pass, options = {}) => {\n  console.log(\"Fetching categories via proxy...\");\n  try {\n    const data = await fetchFromProxy(server, user, pass, \"get_live_categories\", options);\n    return Array.isArray(data) ? data : [];\n  } catch (error) {\n    console.error(\"Failed to get categories:\", error);\n    return [];\n  }\n};\n\n// Funksion autentikimi\nconst authenticate = async (server, user, pass, options = {}) => {\n  console.log(\"Authenticating via proxy...\");\n  return fetchFromProxy(server, user, pass, \"handshake\", options);\n};\n\n// Funksion për të kontrolluar nëse URL është e aksesueshme\nconst checkUrlAccessibility = async url => {\n  try {\n    const response = await fetch(url, {\n      method: 'HEAD',\n      mode: 'no-cors' // Kjo nuk kthen përgjigje të lexueshme, por tregon nëse serveri është i arritshëm\n    });\n    return {\n      accessible: true,\n      message: 'URL është e arritshme'\n    };\n  } catch (error) {\n    return {\n      accessible: false,\n      message: `URL nuk është e arritshme: ${error.message}`\n    };\n  }\n};\n\n// Eksporti i të gjitha funksioneve\nexport { fetchM3U, buildStream, getLive, getMovies, getSeries, getCategories, authenticate, testConnection, checkUrlAccessibility, fetchFromProxy };","map":{"version":3,"names":["fetchFromProxy","server","user","pass","action","options","proxyUrl","encodeURIComponent","console","log","res","fetch","signal","headers","ok","errorText","text","error","status","substring","Error","statusText","contentType","get","includes","warn","data","JSON","parse","json","Array","isArray","length","fetchM3U","url","err","buildStream","type","id","cleanServer","replace","streamUrl","testConnection","user_info","success","message","userInfo","serverInfo","server_info","getLive","getMovies","getSeries","getCategories","authenticate","checkUrlAccessibility","response","method","mode","accessible"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/services/iptvService.js"],"sourcesContent":["// iptvService.js - VERSION I PËRSHTATUR ME PROXY\r\n\r\n// Funksion universal për IPTV API përmes proxy\r\nconst fetchFromProxy = async (server, user, pass, action, options = {}) => {\r\n  try {\r\n    // Ndërto URL-në e proxy\r\n    const proxyUrl = `/api/iptv?server=${encodeURIComponent(server)}&user=${user}&pass=${pass}&action=${action}`;\r\n    console.log(\"Fetching from proxy:\", proxyUrl);\r\n    \r\n    const res = await fetch(proxyUrl, { \r\n      signal: options.signal,\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Cache-Control': 'no-cache'\r\n      }\r\n    });\r\n    \r\n    if (!res.ok) {\r\n      const errorText = await res.text();\r\n      console.error(`Proxy returned error ${res.status}:`, errorText.substring(0, 200));\r\n      throw new Error(`Proxy HTTP ${res.status}: ${res.statusText}`);\r\n    }\r\n    \r\n    // Kontrolloni Content-Type\r\n    const contentType = res.headers.get('content-type') || '';\r\n    \r\n    if (!contentType.includes('application/json')) {\r\n      // Marrim tekstin për të parë çfarë po kthehet\r\n      const text = await res.text();\r\n      console.warn(`Proxy returned non-JSON (${contentType}):`, text.substring(0, 300));\r\n      \r\n      // Kontrolloni nëse është HTML error\r\n      if (text.includes('<!DOCTYPE') || text.includes('<html')) {\r\n        throw new Error('Proxy returned HTML error page');\r\n      }\r\n      \r\n      // Kontrolloni nëse është mesazh i thjeshtë\r\n      if (text.includes('error') || text.includes('Error') || text.includes('invalid')) {\r\n        throw new Error(`Proxy error: ${text.substring(0, 150)}`);\r\n      }\r\n      \r\n      // Provoni të parse si JSON\r\n      try {\r\n        const data = JSON.parse(text);\r\n        return data;\r\n      } catch {\r\n        throw new Error('Invalid JSON from proxy');\r\n      }\r\n    }\r\n    \r\n    const data = await res.json();\r\n    console.log(`${action} data received:`, Array.isArray(data) ? `${data.length} items` : 'Object data');\r\n    return data;\r\n    \r\n  } catch (error) {\r\n    console.error(`Error in fetchFromProxy for ${action}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Funksion për M3U përmes proxy\r\nconst fetchM3U = async (url, options = {}) => {\r\n  try {\r\n    console.log(\"Fetching M3U via proxy:\", url);\r\n    \r\n    const res = await fetch(`/api/m3u?url=${encodeURIComponent(url)}`, {\r\n      signal: options.signal,\r\n      headers: {\r\n        'Accept': 'text/plain, */*',\r\n        'Cache-Control': 'no-cache'\r\n      }\r\n    });\r\n    \r\n    if (!res.ok) {\r\n      const errorText = await res.text();\r\n      console.error(`M3U Proxy returned error ${res.status}:`, errorText.substring(0, 200));\r\n      throw new Error(`M3U Proxy HTTP ${res.status}: ${res.statusText}`);\r\n    }\r\n    \r\n    const text = await res.text();\r\n    console.log('M3U fetched, length:', text.length);\r\n    \r\n    // Kontrolloni nëse është error message\r\n    if (text.includes('<!DOCTYPE') || text.includes('<html')) {\r\n      throw new Error('M3U proxy returned HTML error page');\r\n    }\r\n    \r\n    return text;\r\n    \r\n  } catch (err) {\r\n    console.error(\"M3U fetch error:\", err);\r\n    throw err;\r\n  }\r\n};\r\n\r\n// Funksion për të ndërtuar stream URL\r\nconst buildStream = (server, user, pass, type, id) => {\r\n  console.log('Building stream URL:', { server, user, pass, type, id });\r\n  \r\n  if (!server || !user || !pass || !id) {\r\n    console.error('Missing parameters for buildStream');\r\n    return '';\r\n  }\r\n  \r\n  const cleanServer = server.replace(/\\/$/, \"\");\r\n  \r\n  // Versioni standard Xtream\r\n  let streamUrl = `${cleanServer}/live/${user}/${pass}/${id}.m3u8`;\r\n  \r\n  if (type === \"movie\") {\r\n    streamUrl = `${cleanServer}/movie/${user}/${pass}/${id}.m3u8`;\r\n  } else if (type === \"series\") {\r\n    streamUrl = `${cleanServer}/series/${user}/${pass}/${id}.m3u8`;\r\n  }\r\n  \r\n  console.log('Built stream URL:', streamUrl);\r\n  return streamUrl;\r\n};\r\n\r\n// Funksion për të testuar lidhjen përmes proxy\r\nconst testConnection = async (server, user, pass) => {\r\n  try {\r\n    console.log('Testing connection via proxy:', server);\r\n    \r\n    const data = await fetchFromProxy(server, user, pass, 'handshake');\r\n    \r\n    if (data && data.user_info) {\r\n      return {\r\n        success: true,\r\n        message: 'Lidhja u krye me sukses!',\r\n        userInfo: data.user_info,\r\n        serverInfo: data.server_info\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'Lidhja u krye por nuk u morën të dhëna të vlefshme'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('Connection test failed:', error);\r\n    \r\n    // Kontrolloni llojin e gabimit\r\n    if (error.message.includes('CORS')) {\r\n      return {\r\n        success: false,\r\n        message: 'Problem CORS. Kontrolloni konfigurimin e proxy.'\r\n      };\r\n    }\r\n    \r\n    if (error.message.includes('Failed to fetch')) {\r\n      return {\r\n        success: false,\r\n        message: 'Nuk mund të lidhemi me proxy server. Kontrolloni nëse proxy serveri është në linjë.'\r\n      };\r\n    }\r\n    \r\n    if (error.message.includes('HTML error page')) {\r\n      return {\r\n        success: false,\r\n        message: 'Proxy serveri ktheu një faqe gabimi. Kontrolloni kredencialet dhe URL-në.'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: `Gabim në lidhje: ${error.message}`\r\n    };\r\n  }\r\n};\r\n\r\n// Funksione bazë për marrjen e të dhënave\r\nconst getLive = async (server, user, pass, options = {}) => {\r\n  console.log(\"Fetching live streams via proxy...\");\r\n  try {\r\n    const data = await fetchFromProxy(server, user, pass, \"get_live_streams\", options);\r\n    return Array.isArray(data) ? data : [];\r\n  } catch (error) {\r\n    console.error(\"Failed to get live streams:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nconst getMovies = async (server, user, pass, options = {}) => {\r\n  console.log(\"Fetching movies via proxy...\");\r\n  try {\r\n    const data = await fetchFromProxy(server, user, pass, \"get_vod_streams\", options);\r\n    return Array.isArray(data) ? data : [];\r\n  } catch (error) {\r\n    console.error(\"Failed to get movies:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nconst getSeries = async (server, user, pass, options = {}) => {\r\n  console.log(\"Fetching series via proxy...\");\r\n  try {\r\n    const data = await fetchFromProxy(server, user, pass, \"get_series\", options);\r\n    return Array.isArray(data) ? data : [];\r\n  } catch (error) {\r\n    console.error(\"Failed to get series:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nconst getCategories = async (server, user, pass, options = {}) => {\r\n  console.log(\"Fetching categories via proxy...\");\r\n  try {\r\n    const data = await fetchFromProxy(server, user, pass, \"get_live_categories\", options);\r\n    return Array.isArray(data) ? data : [];\r\n  } catch (error) {\r\n    console.error(\"Failed to get categories:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// Funksion autentikimi\r\nconst authenticate = async (server, user, pass, options = {}) => {\r\n  console.log(\"Authenticating via proxy...\");\r\n  return fetchFromProxy(server, user, pass, \"handshake\", options);\r\n};\r\n\r\n// Funksion për të kontrolluar nëse URL është e aksesueshme\r\nconst checkUrlAccessibility = async (url) => {\r\n  try {\r\n    const response = await fetch(url, { \r\n      method: 'HEAD',\r\n      mode: 'no-cors' // Kjo nuk kthen përgjigje të lexueshme, por tregon nëse serveri është i arritshëm\r\n    });\r\n    return { accessible: true, message: 'URL është e arritshme' };\r\n  } catch (error) {\r\n    return { \r\n      accessible: false, \r\n      message: `URL nuk është e arritshme: ${error.message}` \r\n    };\r\n  }\r\n};\r\n\r\n// Eksporti i të gjitha funksioneve\r\nexport {\r\n  fetchM3U,\r\n  buildStream,\r\n  getLive,\r\n  getMovies,\r\n  getSeries,\r\n  getCategories,\r\n  authenticate,\r\n  testConnection,\r\n  checkUrlAccessibility,\r\n  fetchFromProxy\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}