{"ast":null,"code":"// services/xtream.js - VERSIONI I THJESHTE QÃ‹ PUNON\n\n/**\r\n * Nderto URL-nÃ« e Xtream API\r\n */\nconst buildUrl = (server, user, pass, action = '') => {\n  let baseUrl = server.trim();\n  if (baseUrl.endsWith('/')) {\n    baseUrl = baseUrl.slice(0, -1);\n  }\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\n    baseUrl = 'http://' + baseUrl;\n  }\n  if (action) {\n    return `${baseUrl}/player_api.php?username=${user}&password=${pass}&action=${action}`;\n  } else {\n    return `${baseUrl}/player_api.php?username=${user}&password=${pass}`;\n  }\n};\n\n/**\r\n * Fetch VETÃ‹M me AllOrigins Proxy - KY PUNON GJITHMONÃ‹\r\n */\nconst fetchWithAllOrigins = async url => {\n  const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;\n  console.log('ðŸ”„ Proxy:', proxyUrl);\n  const response = await fetch(proxyUrl);\n  const text = await response.text();\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    console.error('JSON Parse error:', e);\n    return {\n      error: 'Invalid JSON'\n    };\n  }\n};\n\n/**\r\n * LOGIN - VetÃ«m me AllOrigins\r\n */\nexport const xtreamLogin = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, '');\n    console.log('ðŸ”‘ Login URL:', url);\n    const data = await fetchWithAllOrigins(url);\n    console.log('ðŸ”‘ Login response:', data);\n    if (data && data.user_info) {\n      if (data.user_info.auth === 1 || data.user_info.status === 'Active') {\n        return {\n          success: true,\n          data: data.user_info,\n          server: server\n        };\n      }\n    }\n    return {\n      success: false,\n      error: 'Kredencialet e gabuara'\n    };\n  } catch (error) {\n    console.error('âŒ Login error:', error);\n    return {\n      success: false,\n      error: 'Nuk u lidh me serverin'\n    };\n  }\n};\n\n/**\r\n * LIVE STREAMS\r\n */\nexport const getLiveStreams = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_live_streams');\n    console.log('ðŸ“º Live URL:', url);\n    const data = await fetchWithAllOrigins(url);\n    if (!data) return [];\n    if (!Array.isArray(data)) return [];\n    return data.map(channel => ({\n      id: channel.stream_id,\n      stream_id: channel.stream_id,\n      name: channel.name || 'Pa emÃ«r',\n      title: channel.name || 'Pa emÃ«r',\n      logo: channel.stream_icon || null,\n      poster: channel.stream_icon || null,\n      cover: channel.stream_icon || null,\n      category_id: channel.category_id,\n      category: channel.category_name || 'TÃ« tjera',\n      category_name: channel.category_name || 'TÃ« tjera',\n      epg_channel_id: channel.epg_channel_id,\n      type: 'live',\n      stream_url: null\n    }));\n  } catch (error) {\n    console.error('âŒ getLiveStreams error:', error);\n    return [];\n  }\n};\n\n/**\r\n * LIVE CATEGORIES\r\n */\nexport const getLiveCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_live_categories');\n    console.log('ðŸ·ï¸ Live Categories URL:', url);\n    const data = await fetchWithAllOrigins(url);\n    if (!data) return [];\n    if (!Array.isArray(data)) return [];\n    return data.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name || 'TÃ« tjera',\n      title: cat.category_name || 'TÃ« tjera',\n      type: 'live'\n    }));\n  } catch (error) {\n    console.error('âŒ getLiveCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * MOVIES\r\n */\nexport const getMovies = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_vod_streams');\n    console.log('ðŸŽ¬ Movies URL:', url);\n    const data = await fetchWithAllOrigins(url);\n    if (!data) return [];\n    if (!Array.isArray(data)) return [];\n    return data.map(movie => ({\n      id: movie.stream_id,\n      stream_id: movie.stream_id,\n      name: movie.name || 'Pa titull',\n      title: movie.name || 'Pa titull',\n      logo: movie.stream_icon || null,\n      poster: movie.stream_icon || null,\n      cover: movie.stream_icon || null,\n      category_id: movie.category_id,\n      category: movie.category_name || 'Filma',\n      category_name: movie.category_name || 'Filma',\n      year: movie.year || null,\n      rating: movie.rating || null,\n      container_extension: movie.container_extension || 'mp4',\n      type: 'movie'\n    }));\n  } catch (error) {\n    console.error('âŒ getMovies error:', error);\n    return [];\n  }\n};\n\n/**\r\n * MOVIES CATEGORIES\r\n */\nexport const getMovieCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_vod_categories');\n    console.log('ðŸ·ï¸ Movie Categories URL:', url);\n    const data = await fetchWithAllOrigins(url);\n    if (!data) return [];\n    if (!Array.isArray(data)) return [];\n    return data.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name || 'Filma',\n      title: cat.category_name || 'Filma',\n      type: 'movie'\n    }));\n  } catch (error) {\n    console.error('âŒ getMovieCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES\r\n */\nexport const getSeries = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_series');\n    console.log('ðŸ“º Series URL:', url);\n    const data = await fetchWithAllOrigins(url);\n    if (!data) return [];\n    if (!Array.isArray(data)) return [];\n    return data.map(s => {\n      var _s$seasons;\n      return {\n        id: s.series_id,\n        series_id: s.series_id,\n        name: s.name || 'Pa titull',\n        title: s.name || 'Pa titull',\n        logo: s.cover || null,\n        poster: s.cover || null,\n        cover: s.cover || null,\n        category_id: s.category_id,\n        category: s.category_name || 'Seriale',\n        category_name: s.category_name || 'Seriale',\n        year: s.year || null,\n        rating: s.rating || null,\n        season_count: ((_s$seasons = s.seasons) === null || _s$seasons === void 0 ? void 0 : _s$seasons.length) || 0,\n        type: 'series'\n      };\n    });\n  } catch (error) {\n    console.error('âŒ getSeries error:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES CATEGORIES\r\n */\nexport const getSeriesCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_series_categories');\n    console.log('ðŸ·ï¸ Series Categories URL:', url);\n    const data = await fetchWithAllOrigins(url);\n    if (!data) return [];\n    if (!Array.isArray(data)) return [];\n    return data.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name || 'Seriale',\n      title: cat.category_name || 'Seriale',\n      type: 'series'\n    }));\n  } catch (error) {\n    console.error('âŒ getSeriesCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * EPG\r\n */\nexport const getEPG = async (server, user, pass, streamId) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_epg');\n    const fullUrl = `${url}&stream_id=${streamId}`;\n    console.log('ðŸ“… EPG URL:', fullUrl);\n    const data = await fetchWithAllOrigins(fullUrl);\n    if (!data || !data.epg_listings) {\n      return [];\n    }\n    return data.epg_listings.map(epg => ({\n      id: epg.id,\n      title: epg.title || 'Pa titull',\n      description: epg.description || '',\n      start: epg.start,\n      end: epg.end,\n      start_timestamp: epg.start_timestamp,\n      end_timestamp: epg.end_timestamp\n    }));\n  } catch (error) {\n    console.error('âŒ getEPG error:', error);\n    return [];\n  }\n};\n\n/**\r\n * BUILD STREAM URL\r\n */\nexport const buildStreamUrl = (server, user, pass, streamId, type = 'live', extension = 'm3u8') => {\n  let baseUrl = server.trim();\n  if (baseUrl.endsWith('/')) {\n    baseUrl = baseUrl.slice(0, -1);\n  }\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\n    baseUrl = 'http://' + baseUrl;\n  }\n  switch (type) {\n    case 'live':\n      return `${baseUrl}/live/${user}/${pass}/${streamId}.m3u8`;\n    case 'movie':\n      return `${baseUrl}/movie/${user}/${pass}/${streamId}.${extension}`;\n    case 'series':\n      return `${baseUrl}/series/${user}/${pass}/${streamId}.mp4`;\n    default:\n      return `${baseUrl}/live/${user}/${pass}/${streamId}.m3u8`;\n  }\n};\n\n/**\r\n * ALL CATEGORIES\r\n */\nexport const getAllCategories = async (server, user, pass) => {\n  const [liveCats, movieCats, seriesCats] = await Promise.all([getLiveCategories(server, user, pass).catch(() => []), getMovieCategories(server, user, pass).catch(() => []), getSeriesCategories(server, user, pass).catch(() => [])]);\n  return {\n    live: liveCats,\n    movies: movieCats,\n    series: seriesCats,\n    all: [...liveCats.map(c => ({\n      ...c,\n      type: 'live'\n    })), ...movieCats.map(c => ({\n      ...c,\n      type: 'movie'\n    })), ...seriesCats.map(c => ({\n      ...c,\n      type: 'series'\n    }))]\n  };\n};\n\n/**\r\n * ALL CONTENT\r\n */\nexport const getAllContent = async (server, user, pass) => {\n  const [live, movies, series] = await Promise.all([getLiveStreams(server, user, pass).catch(() => []), getMovies(server, user, pass).catch(() => []), getSeries(server, user, pass).catch(() => [])]);\n  return {\n    live,\n    movies,\n    series\n  };\n};\nexport default {\n  xtreamLogin,\n  getLiveStreams,\n  getLiveCategories,\n  getMovies,\n  getMovieCategories,\n  getSeries,\n  getSeriesCategories,\n  getEPG,\n  buildStreamUrl,\n  getAllCategories,\n  getAllContent\n};","map":{"version":3,"names":["buildUrl","server","user","pass","action","baseUrl","trim","endsWith","slice","startsWith","fetchWithAllOrigins","url","proxyUrl","encodeURIComponent","console","log","response","fetch","text","JSON","parse","e","error","xtreamLogin","data","user_info","auth","status","success","getLiveStreams","Array","isArray","map","channel","id","stream_id","name","title","logo","stream_icon","poster","cover","category_id","category","category_name","epg_channel_id","type","stream_url","getLiveCategories","cat","getMovies","movie","year","rating","container_extension","getMovieCategories","getSeries","s","_s$seasons","series_id","season_count","seasons","length","getSeriesCategories","getEPG","streamId","fullUrl","epg_listings","epg","description","start","end","start_timestamp","end_timestamp","buildStreamUrl","extension","getAllCategories","liveCats","movieCats","seriesCats","Promise","all","catch","live","movies","series","c","getAllContent"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/services/xtream.jsx"],"sourcesContent":["// services/xtream.js - VERSIONI I THJESHTE QÃ‹ PUNON\r\n\r\n/**\r\n * Nderto URL-nÃ« e Xtream API\r\n */\r\nconst buildUrl = (server, user, pass, action = '') => {\r\n  let baseUrl = server.trim();\r\n  \r\n  if (baseUrl.endsWith('/')) {\r\n    baseUrl = baseUrl.slice(0, -1);\r\n  }\r\n  \r\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\r\n    baseUrl = 'http://' + baseUrl;\r\n  }\r\n  \r\n  if (action) {\r\n    return `${baseUrl}/player_api.php?username=${user}&password=${pass}&action=${action}`;\r\n  } else {\r\n    return `${baseUrl}/player_api.php?username=${user}&password=${pass}`;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch VETÃ‹M me AllOrigins Proxy - KY PUNON GJITHMONÃ‹\r\n */\r\nconst fetchWithAllOrigins = async (url) => {\r\n  const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;\r\n  console.log('ðŸ”„ Proxy:', proxyUrl);\r\n  \r\n  const response = await fetch(proxyUrl);\r\n  const text = await response.text();\r\n  \r\n  try {\r\n    return JSON.parse(text);\r\n  } catch (e) {\r\n    console.error('JSON Parse error:', e);\r\n    return { error: 'Invalid JSON' };\r\n  }\r\n};\r\n\r\n/**\r\n * LOGIN - VetÃ«m me AllOrigins\r\n */\r\nexport const xtreamLogin = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, '');\r\n    console.log('ðŸ”‘ Login URL:', url);\r\n    \r\n    const data = await fetchWithAllOrigins(url);\r\n    console.log('ðŸ”‘ Login response:', data);\r\n    \r\n    if (data && data.user_info) {\r\n      if (data.user_info.auth === 1 || data.user_info.status === 'Active') {\r\n        return {\r\n          success: true,\r\n          data: data.user_info,\r\n          server: server\r\n        };\r\n      }\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      error: 'Kredencialet e gabuara'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Login error:', error);\r\n    return {\r\n      success: false,\r\n      error: 'Nuk u lidh me serverin'\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * LIVE STREAMS\r\n */\r\nexport const getLiveStreams = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_live_streams');\r\n    console.log('ðŸ“º Live URL:', url);\r\n    \r\n    const data = await fetchWithAllOrigins(url);\r\n    \r\n    if (!data) return [];\r\n    if (!Array.isArray(data)) return [];\r\n    \r\n    return data.map(channel => ({\r\n      id: channel.stream_id,\r\n      stream_id: channel.stream_id,\r\n      name: channel.name || 'Pa emÃ«r',\r\n      title: channel.name || 'Pa emÃ«r',\r\n      logo: channel.stream_icon || null,\r\n      poster: channel.stream_icon || null,\r\n      cover: channel.stream_icon || null,\r\n      category_id: channel.category_id,\r\n      category: channel.category_name || 'TÃ« tjera',\r\n      category_name: channel.category_name || 'TÃ« tjera',\r\n      epg_channel_id: channel.epg_channel_id,\r\n      type: 'live',\r\n      stream_url: null\r\n    }));\r\n  } catch (error) {\r\n    console.error('âŒ getLiveStreams error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * LIVE CATEGORIES\r\n */\r\nexport const getLiveCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_live_categories');\r\n    console.log('ðŸ·ï¸ Live Categories URL:', url);\r\n    \r\n    const data = await fetchWithAllOrigins(url);\r\n    \r\n    if (!data) return [];\r\n    if (!Array.isArray(data)) return [];\r\n    \r\n    return data.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name || 'TÃ« tjera',\r\n      title: cat.category_name || 'TÃ« tjera',\r\n      type: 'live'\r\n    }));\r\n  } catch (error) {\r\n    console.error('âŒ getLiveCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * MOVIES\r\n */\r\nexport const getMovies = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_vod_streams');\r\n    console.log('ðŸŽ¬ Movies URL:', url);\r\n    \r\n    const data = await fetchWithAllOrigins(url);\r\n    \r\n    if (!data) return [];\r\n    if (!Array.isArray(data)) return [];\r\n    \r\n    return data.map(movie => ({\r\n      id: movie.stream_id,\r\n      stream_id: movie.stream_id,\r\n      name: movie.name || 'Pa titull',\r\n      title: movie.name || 'Pa titull',\r\n      logo: movie.stream_icon || null,\r\n      poster: movie.stream_icon || null,\r\n      cover: movie.stream_icon || null,\r\n      category_id: movie.category_id,\r\n      category: movie.category_name || 'Filma',\r\n      category_name: movie.category_name || 'Filma',\r\n      year: movie.year || null,\r\n      rating: movie.rating || null,\r\n      container_extension: movie.container_extension || 'mp4',\r\n      type: 'movie'\r\n    }));\r\n  } catch (error) {\r\n    console.error('âŒ getMovies error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * MOVIES CATEGORIES\r\n */\r\nexport const getMovieCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_vod_categories');\r\n    console.log('ðŸ·ï¸ Movie Categories URL:', url);\r\n    \r\n    const data = await fetchWithAllOrigins(url);\r\n    \r\n    if (!data) return [];\r\n    if (!Array.isArray(data)) return [];\r\n    \r\n    return data.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name || 'Filma',\r\n      title: cat.category_name || 'Filma',\r\n      type: 'movie'\r\n    }));\r\n  } catch (error) {\r\n    console.error('âŒ getMovieCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES\r\n */\r\nexport const getSeries = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series');\r\n    console.log('ðŸ“º Series URL:', url);\r\n    \r\n    const data = await fetchWithAllOrigins(url);\r\n    \r\n    if (!data) return [];\r\n    if (!Array.isArray(data)) return [];\r\n    \r\n    return data.map(s => ({\r\n      id: s.series_id,\r\n      series_id: s.series_id,\r\n      name: s.name || 'Pa titull',\r\n      title: s.name || 'Pa titull',\r\n      logo: s.cover || null,\r\n      poster: s.cover || null,\r\n      cover: s.cover || null,\r\n      category_id: s.category_id,\r\n      category: s.category_name || 'Seriale',\r\n      category_name: s.category_name || 'Seriale',\r\n      year: s.year || null,\r\n      rating: s.rating || null,\r\n      season_count: s.seasons?.length || 0,\r\n      type: 'series'\r\n    }));\r\n  } catch (error) {\r\n    console.error('âŒ getSeries error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES CATEGORIES\r\n */\r\nexport const getSeriesCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series_categories');\r\n    console.log('ðŸ·ï¸ Series Categories URL:', url);\r\n    \r\n    const data = await fetchWithAllOrigins(url);\r\n    \r\n    if (!data) return [];\r\n    if (!Array.isArray(data)) return [];\r\n    \r\n    return data.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name || 'Seriale',\r\n      title: cat.category_name || 'Seriale',\r\n      type: 'series'\r\n    }));\r\n  } catch (error) {\r\n    console.error('âŒ getSeriesCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * EPG\r\n */\r\nexport const getEPG = async (server, user, pass, streamId) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_epg');\r\n    const fullUrl = `${url}&stream_id=${streamId}`;\r\n    console.log('ðŸ“… EPG URL:', fullUrl);\r\n    \r\n    const data = await fetchWithAllOrigins(fullUrl);\r\n    \r\n    if (!data || !data.epg_listings) {\r\n      return [];\r\n    }\r\n\r\n    return data.epg_listings.map(epg => ({\r\n      id: epg.id,\r\n      title: epg.title || 'Pa titull',\r\n      description: epg.description || '',\r\n      start: epg.start,\r\n      end: epg.end,\r\n      start_timestamp: epg.start_timestamp,\r\n      end_timestamp: epg.end_timestamp\r\n    }));\r\n  } catch (error) {\r\n    console.error('âŒ getEPG error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * BUILD STREAM URL\r\n */\r\nexport const buildStreamUrl = (server, user, pass, streamId, type = 'live', extension = 'm3u8') => {\r\n  let baseUrl = server.trim();\r\n  \r\n  if (baseUrl.endsWith('/')) {\r\n    baseUrl = baseUrl.slice(0, -1);\r\n  }\r\n  \r\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\r\n    baseUrl = 'http://' + baseUrl;\r\n  }\r\n\r\n  switch (type) {\r\n    case 'live':\r\n      return `${baseUrl}/live/${user}/${pass}/${streamId}.m3u8`;\r\n    case 'movie':\r\n      return `${baseUrl}/movie/${user}/${pass}/${streamId}.${extension}`;\r\n    case 'series':\r\n      return `${baseUrl}/series/${user}/${pass}/${streamId}.mp4`;\r\n    default:\r\n      return `${baseUrl}/live/${user}/${pass}/${streamId}.m3u8`;\r\n  }\r\n};\r\n\r\n/**\r\n * ALL CATEGORIES\r\n */\r\nexport const getAllCategories = async (server, user, pass) => {\r\n  const [liveCats, movieCats, seriesCats] = await Promise.all([\r\n    getLiveCategories(server, user, pass).catch(() => []),\r\n    getMovieCategories(server, user, pass).catch(() => []),\r\n    getSeriesCategories(server, user, pass).catch(() => [])\r\n  ]);\r\n\r\n  return {\r\n    live: liveCats,\r\n    movies: movieCats,\r\n    series: seriesCats,\r\n    all: [\r\n      ...liveCats.map(c => ({ ...c, type: 'live' })),\r\n      ...movieCats.map(c => ({ ...c, type: 'movie' })),\r\n      ...seriesCats.map(c => ({ ...c, type: 'series' }))\r\n    ]\r\n  };\r\n};\r\n\r\n/**\r\n * ALL CONTENT\r\n */\r\nexport const getAllContent = async (server, user, pass) => {\r\n  const [live, movies, series] = await Promise.all([\r\n    getLiveStreams(server, user, pass).catch(() => []),\r\n    getMovies(server, user, pass).catch(() => []),\r\n    getSeries(server, user, pass).catch(() => [])\r\n  ]);\r\n\r\n  return {\r\n    live,\r\n    movies,\r\n    series\r\n  };\r\n};\r\n\r\nexport default {\r\n  xtreamLogin,\r\n  getLiveStreams,\r\n  getLiveCategories,\r\n  getMovies,\r\n  getMovieCategories,\r\n  getSeries,\r\n  getSeriesCategories,\r\n  getEPG,\r\n  buildStreamUrl,\r\n  getAllCategories,\r\n  getAllContent\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}