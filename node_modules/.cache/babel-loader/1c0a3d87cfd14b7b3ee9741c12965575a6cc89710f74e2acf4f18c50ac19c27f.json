{"ast":null,"code":"import { TABS, STREAM_TYPES } from '../constants/iptv';\n\n/**\r\n * Merr emrin e itemit\r\n */\nexport function getItemName(item) {\n  return (item === null || item === void 0 ? void 0 : item.name) || (item === null || item === void 0 ? void 0 : item.title) || (item === null || item === void 0 ? void 0 : item.stream_display_name) || 'Pa emër';\n}\n\n/**\r\n * Merr ID e itemit\r\n */\nexport function getItemId(item) {\n  return (item === null || item === void 0 ? void 0 : item.stream_id) || (item === null || item === void 0 ? void 0 : item.series_id) || (item === null || item === void 0 ? void 0 : item.id) || null;\n}\n\n/**\r\n * Merr kategorinë e itemit\r\n */\nexport function getItemCategory(item, activeTab = TABS.LIVE) {\n  const category = (item === null || item === void 0 ? void 0 : item.category) || (item === null || item === void 0 ? void 0 : item.category_name) || (item === null || item === void 0 ? void 0 : item.genre) || (item === null || item === void 0 ? void 0 : item.group);\n  if (category && category.trim() !== '') {\n    return category.trim();\n  }\n\n  // Default categories based on tab\n  if (activeTab === TABS.LIVE) return 'Të tjera';\n  if (activeTab === TABS.MOVIES) return 'Filma';\n  if (activeTab === TABS.SERIES) return 'Seriale';\n  return 'Të tjera';\n}\n\n/**\r\n * Merr URL e logos\r\n */\nexport function getItemLogo(item) {\n  return (item === null || item === void 0 ? void 0 : item.logo) || (item === null || item === void 0 ? void 0 : item.stream_icon) || (item === null || item === void 0 ? void 0 : item.poster) || (item === null || item === void 0 ? void 0 : item.cover) || (item === null || item === void 0 ? void 0 : item.thumbnail) || null;\n}\n\n/**\r\n * Merr tipin e stream-it\r\n */\nexport function getStreamType(item, activeTab = TABS.LIVE) {\n  if (item !== null && item !== void 0 && item.type) return item.type;\n  if (activeTab === TABS.LIVE) return STREAM_TYPES.LIVE;\n  if (activeTab === TABS.MOVIES) return STREAM_TYPES.MOVIE;\n  if (activeTab === TABS.SERIES) return STREAM_TYPES.SERIES;\n  return STREAM_TYPES.LIVE;\n}\n\n/**\r\n * Kontrollon nëse item është live\r\n */\nexport function isLiveStream(item, activeTab) {\n  return getStreamType(item, activeTab) === STREAM_TYPES.LIVE;\n}\n\n/**\r\n * Kontrollon nëse item është movie\r\n */\nexport function isMovie(item, activeTab) {\n  return getStreamType(item, activeTab) === STREAM_TYPES.MOVIE;\n}\n\n/**\r\n * Kontrollon nëse item është series\r\n */\nexport function isSeries(item, activeTab) {\n  return getStreamType(item, activeTab) === STREAM_TYPES.SERIES;\n}\n\n/**\r\n * Formaton kohën e EPG\r\n */\nexport function formatEpgTime(timestamp) {\n  if (!timestamp) return '';\n  const date = new Date(timestamp * 1000);\n  return date.toLocaleTimeString([], {\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n}\n\n/**\r\n * Formaton datën e EPG\r\n */\nexport function formatEpgDate(timestamp) {\n  if (!timestamp) return '';\n  const date = new Date(timestamp * 1000);\n  return date.toLocaleDateString([], {\n    day: '2-digit',\n    month: '2-digit',\n    year: 'numeric'\n  });\n}\n\n/**\r\n * Grupon item-at sipas kategorisë\r\n */\nexport function groupItemsByCategory(items, activeTab) {\n  if (!items || !items.length) return {};\n  return items.reduce((acc, item) => {\n    const category = getItemCategory(item, activeTab);\n    if (!acc[category]) {\n      acc[category] = [];\n    }\n    acc[category].push(item);\n    return acc;\n  }, {});\n}\n\n/**\r\n * Filtron item-at sipas kërkimit\r\n */\nexport function filterItemsBySearch(items, searchQuery) {\n  if (!searchQuery || !items.length) return items;\n  const q = searchQuery.toLowerCase();\n  return items.filter(item => {\n    var _item$description;\n    return getItemName(item).toLowerCase().includes(q) || (item === null || item === void 0 ? void 0 : (_item$description = item.description) === null || _item$description === void 0 ? void 0 : _item$description.toLowerCase().includes(q));\n  });\n}\n\n/**\r\n * Merr URL e duhur për avatar fallback\r\n */\nexport function getAvatarUrl(name, theme = 'dark', size = 48) {\n  const bg = theme === 'dark' ? '1e293b' : 'e2e8f0';\n  const color = theme === 'dark' ? 'fff' : '0f172a';\n  return `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&size=${size}&background=${bg}&color=${color}`;\n}\n\n/**\r\n * Kontrollon nëse item është në favorites\r\n */\nexport function isFavorite(item, favorites) {\n  const id = getItemId(item);\n  return favorites.includes(id);\n}\n\n/**\r\n * Merr statistikat e kategorive\r\n */\nexport function getCategoryStats(items, activeTab) {\n  const stats = {};\n  const grouped = groupItemsByCategory(items, activeTab);\n  Object.keys(grouped).forEach(category => {\n    stats[category] = grouped[category].length;\n  });\n  return stats;\n}","map":{"version":3,"names":["TABS","STREAM_TYPES","getItemName","item","name","title","stream_display_name","getItemId","stream_id","series_id","id","getItemCategory","activeTab","LIVE","category","category_name","genre","group","trim","MOVIES","SERIES","getItemLogo","logo","stream_icon","poster","cover","thumbnail","getStreamType","type","MOVIE","isLiveStream","isMovie","isSeries","formatEpgTime","timestamp","date","Date","toLocaleTimeString","hour","minute","formatEpgDate","toLocaleDateString","day","month","year","groupItemsByCategory","items","length","reduce","acc","push","filterItemsBySearch","searchQuery","q","toLowerCase","filter","_item$description","includes","description","getAvatarUrl","theme","size","bg","color","encodeURIComponent","isFavorite","favorites","getCategoryStats","stats","grouped","Object","keys","forEach"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/utils/streamHelpers.js"],"sourcesContent":["import { TABS, STREAM_TYPES } from '../constants/iptv';\r\n\r\n/**\r\n * Merr emrin e itemit\r\n */\r\nexport function getItemName(item) {\r\n  return item?.name || item?.title || item?.stream_display_name || 'Pa emër';\r\n}\r\n\r\n/**\r\n * Merr ID e itemit\r\n */\r\nexport function getItemId(item) {\r\n  return item?.stream_id || item?.series_id || item?.id || null;\r\n}\r\n\r\n/**\r\n * Merr kategorinë e itemit\r\n */\r\nexport function getItemCategory(item, activeTab = TABS.LIVE) {\r\n  const category = item?.category || \r\n                   item?.category_name || \r\n                   item?.genre || \r\n                   item?.group;\r\n  \r\n  if (category && category.trim() !== '') {\r\n    return category.trim();\r\n  }\r\n  \r\n  // Default categories based on tab\r\n  if (activeTab === TABS.LIVE) return 'Të tjera';\r\n  if (activeTab === TABS.MOVIES) return 'Filma';\r\n  if (activeTab === TABS.SERIES) return 'Seriale';\r\n  \r\n  return 'Të tjera';\r\n}\r\n\r\n/**\r\n * Merr URL e logos\r\n */\r\nexport function getItemLogo(item) {\r\n  return item?.logo || \r\n         item?.stream_icon || \r\n         item?.poster || \r\n         item?.cover || \r\n         item?.thumbnail || \r\n         null;\r\n}\r\n\r\n/**\r\n * Merr tipin e stream-it\r\n */\r\nexport function getStreamType(item, activeTab = TABS.LIVE) {\r\n  if (item?.type) return item.type;\r\n  \r\n  if (activeTab === TABS.LIVE) return STREAM_TYPES.LIVE;\r\n  if (activeTab === TABS.MOVIES) return STREAM_TYPES.MOVIE;\r\n  if (activeTab === TABS.SERIES) return STREAM_TYPES.SERIES;\r\n  \r\n  return STREAM_TYPES.LIVE;\r\n}\r\n\r\n/**\r\n * Kontrollon nëse item është live\r\n */\r\nexport function isLiveStream(item, activeTab) {\r\n  return getStreamType(item, activeTab) === STREAM_TYPES.LIVE;\r\n}\r\n\r\n/**\r\n * Kontrollon nëse item është movie\r\n */\r\nexport function isMovie(item, activeTab) {\r\n  return getStreamType(item, activeTab) === STREAM_TYPES.MOVIE;\r\n}\r\n\r\n/**\r\n * Kontrollon nëse item është series\r\n */\r\nexport function isSeries(item, activeTab) {\r\n  return getStreamType(item, activeTab) === STREAM_TYPES.SERIES;\r\n}\r\n\r\n/**\r\n * Formaton kohën e EPG\r\n */\r\nexport function formatEpgTime(timestamp) {\r\n  if (!timestamp) return '';\r\n  const date = new Date(timestamp * 1000);\r\n  return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n}\r\n\r\n/**\r\n * Formaton datën e EPG\r\n */\r\nexport function formatEpgDate(timestamp) {\r\n  if (!timestamp) return '';\r\n  const date = new Date(timestamp * 1000);\r\n  return date.toLocaleDateString([], { \r\n    day: '2-digit', \r\n    month: '2-digit', \r\n    year: 'numeric' \r\n  });\r\n}\r\n\r\n/**\r\n * Grupon item-at sipas kategorisë\r\n */\r\nexport function groupItemsByCategory(items, activeTab) {\r\n  if (!items || !items.length) return {};\r\n  \r\n  return items.reduce((acc, item) => {\r\n    const category = getItemCategory(item, activeTab);\r\n    if (!acc[category]) {\r\n      acc[category] = [];\r\n    }\r\n    acc[category].push(item);\r\n    return acc;\r\n  }, {});\r\n}\r\n\r\n/**\r\n * Filtron item-at sipas kërkimit\r\n */\r\nexport function filterItemsBySearch(items, searchQuery) {\r\n  if (!searchQuery || !items.length) return items;\r\n  \r\n  const q = searchQuery.toLowerCase();\r\n  return items.filter(item => \r\n    getItemName(item).toLowerCase().includes(q) ||\r\n    item?.description?.toLowerCase().includes(q)\r\n  );\r\n}\r\n\r\n/**\r\n * Merr URL e duhur për avatar fallback\r\n */\r\nexport function getAvatarUrl(name, theme = 'dark', size = 48) {\r\n  const bg = theme === 'dark' ? '1e293b' : 'e2e8f0';\r\n  const color = theme === 'dark' ? 'fff' : '0f172a';\r\n  return `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&size=${size}&background=${bg}&color=${color}`;\r\n}\r\n\r\n/**\r\n * Kontrollon nëse item është në favorites\r\n */\r\nexport function isFavorite(item, favorites) {\r\n  const id = getItemId(item);\r\n  return favorites.includes(id);\r\n}\r\n\r\n/**\r\n * Merr statistikat e kategorive\r\n */\r\nexport function getCategoryStats(items, activeTab) {\r\n  const stats = {};\r\n  const grouped = groupItemsByCategory(items, activeTab);\r\n  \r\n  Object.keys(grouped).forEach(category => {\r\n    stats[category] = grouped[category].length;\r\n  });\r\n  \r\n  return stats;\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}