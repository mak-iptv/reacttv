{"ast":null,"code":"// services/xtream.js\n\n/**\r\n * Nderto URL-n√´ e Xtream API direkt pa proxy\r\n */\nconst buildUrl = (server, user, pass, action = '') => {\n  let baseUrl = server.trim();\n\n  // Pastro URL-n√´\n  if (baseUrl.endsWith('/')) {\n    baseUrl = baseUrl.slice(0, -1);\n  }\n\n  // Shto protocol n√´se mungon\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\n    baseUrl = 'http://' + baseUrl; // P√´rdor http si default\n  }\n\n  // Player API URL\n  if (action) {\n    return `${baseUrl}/player_api.php?username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}&action=${action}`;\n  } else {\n    return `${baseUrl}/player_api.php?username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}`;\n  }\n};\n\n/**\r\n * Fetch direkt pa proxy p√´r testim\r\n */\nconst fetchDirect = async url => {\n  console.log('üåê Fetching:', url);\n  try {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 sekonda timeout\n\n    const response = await fetch(url, {\n      signal: controller.signal,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials: 'omit'\n    });\n    clearTimeout(timeoutId);\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n    const text = await response.text();\n    console.log('üì¶ Response:', text.substring(0, 200) + '...');\n\n    // P√´rpiqu t√´ parse-oj JSON\n    try {\n      return JSON.parse(text);\n    } catch (e) {\n      console.error('‚ùå JSON Parse error:', e);\n      return {\n        error: 'Invalid JSON response',\n        raw: text.substring(0, 500)\n      };\n    }\n  } catch (error) {\n    console.error('‚ùå Fetch error:', error.message);\n    throw error;\n  }\n};\n\n/**\r\n * LOGIN - Verifikon kredencialet\r\n */\nexport const xtreamLogin = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, '');\n    console.log('üîë Login URL:', url);\n    const data = await fetchDirect(url);\n    console.log('üîë Login response:', data);\n    if (data && data.user_info) {\n      if (data.user_info.auth === 1 || data.user_info.status === 'Active') {\n        return {\n          success: true,\n          data: data.user_info,\n          server: server\n        };\n      }\n    }\n    return {\n      success: false,\n      error: 'Kredencialet e gabuara ose serveri nuk p√´rgjigjet'\n    };\n  } catch (error) {\n    console.error('‚ùå Login error:', error);\n    return {\n      success: false,\n      error: error.message || 'Nuk u lidh me serverin'\n    };\n  }\n};\n\n/**\r\n * LIVE STREAMS - Kanalet\r\n */\nexport const getLiveStreams = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_live_streams');\n    console.log('üì∫ Live URL:', url);\n    const data = await fetchDirect(url);\n    if (!data) {\n      return [];\n    }\n    if (data.error) {\n      console.error('Live streams error:', data.error);\n      return [];\n    }\n\n    // N√´se data √´sht√´ objekt me live array\n    let streams = [];\n    if (Array.isArray(data)) {\n      streams = data;\n    } else if (data.live) {\n      streams = data.live;\n    } else if (data.channels) {\n      streams = data.channels;\n    }\n    return streams.map(channel => ({\n      id: channel.stream_id,\n      stream_id: channel.stream_id,\n      name: channel.name || 'Pa em√´r',\n      title: channel.name || 'Pa em√´r',\n      logo: channel.stream_icon || channel.logo || null,\n      poster: channel.stream_icon || null,\n      cover: channel.stream_icon || null,\n      category_id: channel.category_id,\n      category: channel.category_name || 'T√´ tjera',\n      category_name: channel.category_name || 'T√´ tjera',\n      epg_channel_id: channel.epg_channel_id,\n      tv_archive: channel.tv_archive === 1,\n      tv_archive_duration: channel.tv_archive_duration || 0,\n      type: 'live',\n      stream_url: null,\n      added: channel.added,\n      custom_sid: channel.custom_sid,\n      direct_source: channel.direct_source\n    }));\n  } catch (error) {\n    console.error('‚ùå getLiveStreams error:', error);\n    return [];\n  }\n};\n\n/**\r\n * LIVE CATEGORIES - Kategorit√´ e kanaleve\r\n */\nexport const getLiveCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_live_categories');\n    console.log('üè∑Ô∏è Live Categories URL:', url);\n    const data = await fetchDirect(url);\n    if (!data) {\n      return [];\n    }\n    let categories = [];\n    if (Array.isArray(data)) {\n      categories = data;\n    } else if (data.categories) {\n      categories = data.categories;\n    }\n    return categories.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name || 'T√´ tjera',\n      title: cat.category_name || 'T√´ tjera',\n      parent_id: cat.parent_id || 0,\n      type: 'live'\n    }));\n  } catch (error) {\n    console.error('‚ùå getLiveCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * MOVIES - Filmat\r\n */\nexport const getMovies = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_vod_streams');\n    console.log('üé¨ Movies URL:', url);\n    const data = await fetchDirect(url);\n    if (!data) {\n      return [];\n    }\n    let movies = [];\n    if (Array.isArray(data)) {\n      movies = data;\n    } else if (data.vod) {\n      movies = data.vod;\n    } else if (data.movies) {\n      movies = data.movies;\n    }\n    return movies.map(movie => ({\n      id: movie.stream_id,\n      stream_id: movie.stream_id,\n      name: movie.name || 'Pa titull',\n      title: movie.name || 'Pa titull',\n      logo: movie.stream_icon || null,\n      poster: movie.stream_icon || null,\n      cover: movie.stream_icon || null,\n      backdrop: movie.backdrop_path || null,\n      category_id: movie.category_id,\n      category: movie.category_name || 'Filma',\n      category_name: movie.category_name || 'Filma',\n      year: movie.year || null,\n      rating: movie.rating || null,\n      rating_5based: movie.rating_5based || null,\n      duration: movie.duration || 0,\n      duration_secs: movie.duration_secs || 0,\n      description: movie.description || null,\n      plot: movie.plot || null,\n      cast: movie.cast || null,\n      director: movie.director || null,\n      genre: movie.genre || null,\n      release_date: movie.release_date || null,\n      youtube_trailer: movie.youtube_trailer || null,\n      episode_run_time: movie.episode_run_time || null,\n      container_extension: movie.container_extension || 'mp4',\n      type: 'movie'\n    }));\n  } catch (error) {\n    console.error('‚ùå getMovies error:', error);\n    return [];\n  }\n};\n\n/**\r\n * MOVIES CATEGORIES - Kategorit√´ e filmave\r\n */\nexport const getMovieCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_vod_categories');\n    console.log('üè∑Ô∏è Movie Categories URL:', url);\n    const data = await fetchDirect(url);\n    if (!data) {\n      return [];\n    }\n    let categories = [];\n    if (Array.isArray(data)) {\n      categories = data;\n    } else if (data.categories) {\n      categories = data.categories;\n    }\n    return categories.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name || 'Filma',\n      title: cat.category_name || 'Filma',\n      parent_id: cat.parent_id || 0,\n      type: 'movie'\n    }));\n  } catch (error) {\n    console.error('‚ùå getMovieCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES - Serialet\r\n */\nexport const getSeries = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_series');\n    console.log('üì∫ Series URL:', url);\n    const data = await fetchDirect(url);\n    if (!data) {\n      return [];\n    }\n    let series = [];\n    if (Array.isArray(data)) {\n      series = data;\n    } else if (data.series) {\n      series = data.series;\n    }\n    return series.map(s => {\n      var _s$seasons;\n      return {\n        id: s.series_id,\n        series_id: s.series_id,\n        name: s.name || 'Pa titull',\n        title: s.name || 'Pa titull',\n        logo: s.cover || null,\n        poster: s.cover || null,\n        cover: s.cover || null,\n        backdrop: s.backdrop_path || null,\n        category_id: s.category_id,\n        category: s.category_name || 'Seriale',\n        category_name: s.category_name || 'Seriale',\n        year: s.year || null,\n        rating: s.rating || null,\n        rating_5based: s.rating_5based || null,\n        description: s.description || null,\n        plot: s.plot || null,\n        cast: s.cast || null,\n        director: s.director || null,\n        genre: s.genre || null,\n        release_date: s.release_date || null,\n        youtube_trailer: s.youtube_trailer || null,\n        episode_run_time: s.episode_run_time || null,\n        seasons: s.seasons || [],\n        season_count: ((_s$seasons = s.seasons) === null || _s$seasons === void 0 ? void 0 : _s$seasons.length) || 0,\n        type: 'series'\n      };\n    });\n  } catch (error) {\n    console.error('‚ùå getSeries error:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES CATEGORIES - Kategorit√´ e serialeve\r\n */\nexport const getSeriesCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_series_categories');\n    console.log('üè∑Ô∏è Series Categories URL:', url);\n    const data = await fetchDirect(url);\n    if (!data) {\n      return [];\n    }\n    let categories = [];\n    if (Array.isArray(data)) {\n      categories = data;\n    } else if (data.categories) {\n      categories = data.categories;\n    }\n    return categories.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name || 'Seriale',\n      title: cat.category_name || 'Seriale',\n      parent_id: cat.parent_id || 0,\n      type: 'series'\n    }));\n  } catch (error) {\n    console.error('‚ùå getSeriesCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * Nderto stream URL p√´r Xtream\r\n */\nexport const buildStreamUrl = (server, user, pass, streamId, type = 'live', extension = 'm3u8') => {\n  let baseUrl = server.trim();\n  if (baseUrl.endsWith('/')) {\n    baseUrl = baseUrl.slice(0, -1);\n  }\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\n    baseUrl = 'http://' + baseUrl;\n  }\n  switch (type) {\n    case 'live':\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\n    case 'movie':\n      return `${baseUrl}/movie/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.${extension}`;\n    case 'series':\n      return `${baseUrl}/series/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.mp4`;\n    default:\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\n  }\n};\n\n/**\r\n * Kategorit√´ e plota\r\n */\nexport const getAllCategories = async (server, user, pass) => {\n  try {\n    const [liveCats, movieCats, seriesCats] = await Promise.allSettled([getLiveCategories(server, user, pass), getMovieCategories(server, user, pass), getSeriesCategories(server, user, pass)]);\n    return {\n      live: liveCats.status === 'fulfilled' ? liveCats.value : [],\n      movies: movieCats.status === 'fulfilled' ? movieCats.value : [],\n      series: seriesCats.status === 'fulfilled' ? seriesCats.value : [],\n      all: [...(liveCats.status === 'fulfilled' ? liveCats.value.map(c => ({\n        ...c,\n        type: 'live'\n      })) : []), ...(movieCats.status === 'fulfilled' ? movieCats.value.map(c => ({\n        ...c,\n        type: 'movie'\n      })) : []), ...(seriesCats.status === 'fulfilled' ? seriesCats.value.map(c => ({\n        ...c,\n        type: 'series'\n      })) : [])]\n    };\n  } catch (error) {\n    console.error('‚ùå getAllCategories error:', error);\n    return {\n      live: [],\n      movies: [],\n      series: [],\n      all: []\n    };\n  }\n};\n\n/**\r\n * T√´ dh√´nat e plota\r\n */\nexport const getAllContent = async (server, user, pass) => {\n  try {\n    const [live, movies, series] = await Promise.allSettled([getLiveStreams(server, user, pass), getMovies(server, user, pass), getSeries(server, user, pass)]);\n    return {\n      live: live.status === 'fulfilled' ? live.value : [],\n      movies: movies.status === 'fulfilled' ? movies.value : [],\n      series: series.status === 'fulfilled' ? series.value : []\n    };\n  } catch (error) {\n    console.error('‚ùå getAllContent error:', error);\n    return {\n      live: [],\n      movies: [],\n      series: []\n    };\n  }\n};\nexport default {\n  xtreamLogin,\n  getLiveStreams,\n  getLiveCategories,\n  getMovies,\n  getMovieCategories,\n  getSeries,\n  getSeriesCategories,\n  buildStreamUrl,\n  getAllCategories,\n  getAllContent\n};","map":{"version":3,"names":["buildUrl","server","user","pass","action","baseUrl","trim","endsWith","slice","startsWith","encodeURIComponent","fetchDirect","url","console","log","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","signal","headers","mode","credentials","clearTimeout","ok","Error","status","text","substring","JSON","parse","e","error","raw","message","xtreamLogin","data","user_info","auth","success","getLiveStreams","streams","Array","isArray","live","channels","map","channel","id","stream_id","name","title","logo","stream_icon","poster","cover","category_id","category","category_name","epg_channel_id","tv_archive","tv_archive_duration","type","stream_url","added","custom_sid","direct_source","getLiveCategories","categories","cat","parent_id","getMovies","movies","vod","movie","backdrop","backdrop_path","year","rating","rating_5based","duration","duration_secs","description","plot","cast","director","genre","release_date","youtube_trailer","episode_run_time","container_extension","getMovieCategories","getSeries","series","s","_s$seasons","series_id","seasons","season_count","length","getSeriesCategories","buildStreamUrl","streamId","extension","getAllCategories","liveCats","movieCats","seriesCats","Promise","allSettled","value","all","c","getAllContent"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/services/xtream.jsx"],"sourcesContent":["// services/xtream.js\r\n\r\n/**\r\n * Nderto URL-n√´ e Xtream API direkt pa proxy\r\n */\r\nconst buildUrl = (server, user, pass, action = '') => {\r\n  let baseUrl = server.trim();\r\n  \r\n  // Pastro URL-n√´\r\n  if (baseUrl.endsWith('/')) {\r\n    baseUrl = baseUrl.slice(0, -1);\r\n  }\r\n  \r\n  // Shto protocol n√´se mungon\r\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\r\n    baseUrl = 'http://' + baseUrl; // P√´rdor http si default\r\n  }\r\n  \r\n  // Player API URL\r\n  if (action) {\r\n    return `${baseUrl}/player_api.php?username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}&action=${action}`;\r\n  } else {\r\n    return `${baseUrl}/player_api.php?username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}`;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch direkt pa proxy p√´r testim\r\n */\r\nconst fetchDirect = async (url) => {\r\n  console.log('üåê Fetching:', url);\r\n  \r\n  try {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 sekonda timeout\r\n\r\n    const response = await fetch(url, {\r\n      signal: controller.signal,\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      mode: 'cors',\r\n      credentials: 'omit'\r\n    });\r\n\r\n    clearTimeout(timeoutId);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP ${response.status}`);\r\n    }\r\n\r\n    const text = await response.text();\r\n    console.log('üì¶ Response:', text.substring(0, 200) + '...');\r\n    \r\n    // P√´rpiqu t√´ parse-oj JSON\r\n    try {\r\n      return JSON.parse(text);\r\n    } catch (e) {\r\n      console.error('‚ùå JSON Parse error:', e);\r\n      return { error: 'Invalid JSON response', raw: text.substring(0, 500) };\r\n    }\r\n  } catch (error) {\r\n    console.error('‚ùå Fetch error:', error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * LOGIN - Verifikon kredencialet\r\n */\r\nexport const xtreamLogin = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, '');\r\n    console.log('üîë Login URL:', url);\r\n    \r\n    const data = await fetchDirect(url);\r\n    console.log('üîë Login response:', data);\r\n    \r\n    if (data && data.user_info) {\r\n      if (data.user_info.auth === 1 || data.user_info.status === 'Active') {\r\n        return {\r\n          success: true,\r\n          data: data.user_info,\r\n          server: server\r\n        };\r\n      }\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      error: 'Kredencialet e gabuara ose serveri nuk p√´rgjigjet'\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå Login error:', error);\r\n    return {\r\n      success: false,\r\n      error: error.message || 'Nuk u lidh me serverin'\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * LIVE STREAMS - Kanalet\r\n */\r\nexport const getLiveStreams = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_live_streams');\r\n    console.log('üì∫ Live URL:', url);\r\n    \r\n    const data = await fetchDirect(url);\r\n    \r\n    if (!data) {\r\n      return [];\r\n    }\r\n\r\n    if (data.error) {\r\n      console.error('Live streams error:', data.error);\r\n      return [];\r\n    }\r\n\r\n    // N√´se data √´sht√´ objekt me live array\r\n    let streams = [];\r\n    if (Array.isArray(data)) {\r\n      streams = data;\r\n    } else if (data.live) {\r\n      streams = data.live;\r\n    } else if (data.channels) {\r\n      streams = data.channels;\r\n    }\r\n\r\n    return streams.map(channel => ({\r\n      id: channel.stream_id,\r\n      stream_id: channel.stream_id,\r\n      name: channel.name || 'Pa em√´r',\r\n      title: channel.name || 'Pa em√´r',\r\n      logo: channel.stream_icon || channel.logo || null,\r\n      poster: channel.stream_icon || null,\r\n      cover: channel.stream_icon || null,\r\n      category_id: channel.category_id,\r\n      category: channel.category_name || 'T√´ tjera',\r\n      category_name: channel.category_name || 'T√´ tjera',\r\n      epg_channel_id: channel.epg_channel_id,\r\n      tv_archive: channel.tv_archive === 1,\r\n      tv_archive_duration: channel.tv_archive_duration || 0,\r\n      type: 'live',\r\n      stream_url: null,\r\n      added: channel.added,\r\n      custom_sid: channel.custom_sid,\r\n      direct_source: channel.direct_source\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getLiveStreams error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * LIVE CATEGORIES - Kategorit√´ e kanaleve\r\n */\r\nexport const getLiveCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_live_categories');\r\n    console.log('üè∑Ô∏è Live Categories URL:', url);\r\n    \r\n    const data = await fetchDirect(url);\r\n    \r\n    if (!data) {\r\n      return [];\r\n    }\r\n\r\n    let categories = [];\r\n    if (Array.isArray(data)) {\r\n      categories = data;\r\n    } else if (data.categories) {\r\n      categories = data.categories;\r\n    }\r\n\r\n    return categories.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name || 'T√´ tjera',\r\n      title: cat.category_name || 'T√´ tjera',\r\n      parent_id: cat.parent_id || 0,\r\n      type: 'live'\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getLiveCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * MOVIES - Filmat\r\n */\r\nexport const getMovies = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_vod_streams');\r\n    console.log('üé¨ Movies URL:', url);\r\n    \r\n    const data = await fetchDirect(url);\r\n    \r\n    if (!data) {\r\n      return [];\r\n    }\r\n\r\n    let movies = [];\r\n    if (Array.isArray(data)) {\r\n      movies = data;\r\n    } else if (data.vod) {\r\n      movies = data.vod;\r\n    } else if (data.movies) {\r\n      movies = data.movies;\r\n    }\r\n\r\n    return movies.map(movie => ({\r\n      id: movie.stream_id,\r\n      stream_id: movie.stream_id,\r\n      name: movie.name || 'Pa titull',\r\n      title: movie.name || 'Pa titull',\r\n      logo: movie.stream_icon || null,\r\n      poster: movie.stream_icon || null,\r\n      cover: movie.stream_icon || null,\r\n      backdrop: movie.backdrop_path || null,\r\n      category_id: movie.category_id,\r\n      category: movie.category_name || 'Filma',\r\n      category_name: movie.category_name || 'Filma',\r\n      year: movie.year || null,\r\n      rating: movie.rating || null,\r\n      rating_5based: movie.rating_5based || null,\r\n      duration: movie.duration || 0,\r\n      duration_secs: movie.duration_secs || 0,\r\n      description: movie.description || null,\r\n      plot: movie.plot || null,\r\n      cast: movie.cast || null,\r\n      director: movie.director || null,\r\n      genre: movie.genre || null,\r\n      release_date: movie.release_date || null,\r\n      youtube_trailer: movie.youtube_trailer || null,\r\n      episode_run_time: movie.episode_run_time || null,\r\n      container_extension: movie.container_extension || 'mp4',\r\n      type: 'movie'\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getMovies error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * MOVIES CATEGORIES - Kategorit√´ e filmave\r\n */\r\nexport const getMovieCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_vod_categories');\r\n    console.log('üè∑Ô∏è Movie Categories URL:', url);\r\n    \r\n    const data = await fetchDirect(url);\r\n    \r\n    if (!data) {\r\n      return [];\r\n    }\r\n\r\n    let categories = [];\r\n    if (Array.isArray(data)) {\r\n      categories = data;\r\n    } else if (data.categories) {\r\n      categories = data.categories;\r\n    }\r\n\r\n    return categories.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name || 'Filma',\r\n      title: cat.category_name || 'Filma',\r\n      parent_id: cat.parent_id || 0,\r\n      type: 'movie'\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getMovieCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES - Serialet\r\n */\r\nexport const getSeries = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series');\r\n    console.log('üì∫ Series URL:', url);\r\n    \r\n    const data = await fetchDirect(url);\r\n    \r\n    if (!data) {\r\n      return [];\r\n    }\r\n\r\n    let series = [];\r\n    if (Array.isArray(data)) {\r\n      series = data;\r\n    } else if (data.series) {\r\n      series = data.series;\r\n    }\r\n\r\n    return series.map(s => ({\r\n      id: s.series_id,\r\n      series_id: s.series_id,\r\n      name: s.name || 'Pa titull',\r\n      title: s.name || 'Pa titull',\r\n      logo: s.cover || null,\r\n      poster: s.cover || null,\r\n      cover: s.cover || null,\r\n      backdrop: s.backdrop_path || null,\r\n      category_id: s.category_id,\r\n      category: s.category_name || 'Seriale',\r\n      category_name: s.category_name || 'Seriale',\r\n      year: s.year || null,\r\n      rating: s.rating || null,\r\n      rating_5based: s.rating_5based || null,\r\n      description: s.description || null,\r\n      plot: s.plot || null,\r\n      cast: s.cast || null,\r\n      director: s.director || null,\r\n      genre: s.genre || null,\r\n      release_date: s.release_date || null,\r\n      youtube_trailer: s.youtube_trailer || null,\r\n      episode_run_time: s.episode_run_time || null,\r\n      seasons: s.seasons || [],\r\n      season_count: s.seasons?.length || 0,\r\n      type: 'series'\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getSeries error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES CATEGORIES - Kategorit√´ e serialeve\r\n */\r\nexport const getSeriesCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series_categories');\r\n    console.log('üè∑Ô∏è Series Categories URL:', url);\r\n    \r\n    const data = await fetchDirect(url);\r\n    \r\n    if (!data) {\r\n      return [];\r\n    }\r\n\r\n    let categories = [];\r\n    if (Array.isArray(data)) {\r\n      categories = data;\r\n    } else if (data.categories) {\r\n      categories = data.categories;\r\n    }\r\n\r\n    return categories.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name || 'Seriale',\r\n      title: cat.category_name || 'Seriale',\r\n      parent_id: cat.parent_id || 0,\r\n      type: 'series'\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getSeriesCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * Nderto stream URL p√´r Xtream\r\n */\r\nexport const buildStreamUrl = (server, user, pass, streamId, type = 'live', extension = 'm3u8') => {\r\n  let baseUrl = server.trim();\r\n  \r\n  if (baseUrl.endsWith('/')) {\r\n    baseUrl = baseUrl.slice(0, -1);\r\n  }\r\n  \r\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\r\n    baseUrl = 'http://' + baseUrl;\r\n  }\r\n\r\n  switch (type) {\r\n    case 'live':\r\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\r\n    case 'movie':\r\n      return `${baseUrl}/movie/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.${extension}`;\r\n    case 'series':\r\n      return `${baseUrl}/series/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.mp4`;\r\n    default:\r\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\r\n  }\r\n};\r\n\r\n/**\r\n * Kategorit√´ e plota\r\n */\r\nexport const getAllCategories = async (server, user, pass) => {\r\n  try {\r\n    const [liveCats, movieCats, seriesCats] = await Promise.allSettled([\r\n      getLiveCategories(server, user, pass),\r\n      getMovieCategories(server, user, pass),\r\n      getSeriesCategories(server, user, pass)\r\n    ]);\r\n\r\n    return {\r\n      live: liveCats.status === 'fulfilled' ? liveCats.value : [],\r\n      movies: movieCats.status === 'fulfilled' ? movieCats.value : [],\r\n      series: seriesCats.status === 'fulfilled' ? seriesCats.value : [],\r\n      all: [\r\n        ...(liveCats.status === 'fulfilled' ? liveCats.value.map(c => ({ ...c, type: 'live' })) : []),\r\n        ...(movieCats.status === 'fulfilled' ? movieCats.value.map(c => ({ ...c, type: 'movie' })) : []),\r\n        ...(seriesCats.status === 'fulfilled' ? seriesCats.value.map(c => ({ ...c, type: 'series' })) : [])\r\n      ]\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå getAllCategories error:', error);\r\n    return { live: [], movies: [], series: [], all: [] };\r\n  }\r\n};\r\n\r\n/**\r\n * T√´ dh√´nat e plota\r\n */\r\nexport const getAllContent = async (server, user, pass) => {\r\n  try {\r\n    const [live, movies, series] = await Promise.allSettled([\r\n      getLiveStreams(server, user, pass),\r\n      getMovies(server, user, pass),\r\n      getSeries(server, user, pass)\r\n    ]);\r\n\r\n    return {\r\n      live: live.status === 'fulfilled' ? live.value : [],\r\n      movies: movies.status === 'fulfilled' ? movies.value : [],\r\n      series: series.status === 'fulfilled' ? series.value : []\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå getAllContent error:', error);\r\n    return { live: [], movies: [], series: [] };\r\n  }\r\n};\r\n\r\nexport default {\r\n  xtreamLogin,\r\n  getLiveStreams,\r\n  getLiveCategories,\r\n  getMovies,\r\n  getMovieCategories,\r\n  getSeries,\r\n  getSeriesCategories,\r\n  buildStreamUrl,\r\n  getAllCategories,\r\n  getAllContent\r\n};"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA,MAAMA,QAAQ,GAAGA,CAACC,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAEC,MAAM,GAAG,EAAE,KAAK;EACpD,IAAIC,OAAO,GAAGJ,MAAM,CAACK,IAAI,CAAC,CAAC;;EAE3B;EACA,IAAID,OAAO,CAACE,QAAQ,CAAC,GAAG,CAAC,EAAE;IACzBF,OAAO,GAAGA,OAAO,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAChC;;EAEA;EACA,IAAI,CAACH,OAAO,CAACI,UAAU,CAAC,SAAS,CAAC,IAAI,CAACJ,OAAO,CAACI,UAAU,CAAC,UAAU,CAAC,EAAE;IACrEJ,OAAO,GAAG,SAAS,GAAGA,OAAO,CAAC,CAAC;EACjC;;EAEA;EACA,IAAID,MAAM,EAAE;IACV,OAAO,GAAGC,OAAO,4BAA4BK,kBAAkB,CAACR,IAAI,CAAC,aAAaQ,kBAAkB,CAACP,IAAI,CAAC,WAAWC,MAAM,EAAE;EAC/H,CAAC,MAAM;IACL,OAAO,GAAGC,OAAO,4BAA4BK,kBAAkB,CAACR,IAAI,CAAC,aAAaQ,kBAAkB,CAACP,IAAI,CAAC,EAAE;EAC9G;AACF,CAAC;;AAED;AACA;AACA;AACA,MAAMQ,WAAW,GAAG,MAAOC,GAAG,IAAK;EACjCC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,GAAG,CAAC;EAEhC,IAAI;IACF,MAAMG,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IACxC,MAAMC,SAAS,GAAGC,UAAU,CAAC,MAAMH,UAAU,CAACI,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;;IAE/D,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACT,GAAG,EAAE;MAChCU,MAAM,EAAEP,UAAU,CAACO,MAAM;MACzBC,OAAO,EAAE;QACP,QAAQ,EAAE,kBAAkB;QAC5B,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAE,MAAM;MACZC,WAAW,EAAE;IACf,CAAC,CAAC;IAEFC,YAAY,CAACT,SAAS,CAAC;IAEvB,IAAI,CAACG,QAAQ,CAACO,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,QAAQR,QAAQ,CAACS,MAAM,EAAE,CAAC;IAC5C;IAEA,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACU,IAAI,CAAC,CAAC;IAClCjB,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEgB,IAAI,CAACC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;;IAE3D;IACA,IAAI;MACF,OAAOC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC;IACzB,CAAC,CAAC,OAAOI,CAAC,EAAE;MACVrB,OAAO,CAACsB,KAAK,CAAC,qBAAqB,EAAED,CAAC,CAAC;MACvC,OAAO;QAAEC,KAAK,EAAE,uBAAuB;QAAEC,GAAG,EAAEN,IAAI,CAACC,SAAS,CAAC,CAAC,EAAE,GAAG;MAAE,CAAC;IACxE;EACF,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACE,OAAO,CAAC;IAC9C,MAAMF,KAAK;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMG,WAAW,GAAG,MAAAA,CAAOrC,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACvD,IAAI;IACF,MAAMS,GAAG,GAAGZ,QAAQ,CAACC,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAE,EAAE,CAAC;IAC5CU,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,GAAG,CAAC;IAEjC,MAAM2B,IAAI,GAAG,MAAM5B,WAAW,CAACC,GAAG,CAAC;IACnCC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEyB,IAAI,CAAC;IAEvC,IAAIA,IAAI,IAAIA,IAAI,CAACC,SAAS,EAAE;MAC1B,IAAID,IAAI,CAACC,SAAS,CAACC,IAAI,KAAK,CAAC,IAAIF,IAAI,CAACC,SAAS,CAACX,MAAM,KAAK,QAAQ,EAAE;QACnE,OAAO;UACLa,OAAO,EAAE,IAAI;UACbH,IAAI,EAAEA,IAAI,CAACC,SAAS;UACpBvC,MAAM,EAAEA;QACV,CAAC;MACH;IACF;IAEA,OAAO;MACLyC,OAAO,EAAE,KAAK;MACdP,KAAK,EAAE;IACT,CAAC;EACH,CAAC,CAAC,OAAOA,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACtC,OAAO;MACLO,OAAO,EAAE,KAAK;MACdP,KAAK,EAAEA,KAAK,CAACE,OAAO,IAAI;IAC1B,CAAC;EACH;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMM,cAAc,GAAG,MAAAA,CAAO1C,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC1D,IAAI;IACF,MAAMS,GAAG,GAAGZ,QAAQ,CAACC,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAE,kBAAkB,CAAC;IAC5DU,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,GAAG,CAAC;IAEhC,MAAM2B,IAAI,GAAG,MAAM5B,WAAW,CAACC,GAAG,CAAC;IAEnC,IAAI,CAAC2B,IAAI,EAAE;MACT,OAAO,EAAE;IACX;IAEA,IAAIA,IAAI,CAACJ,KAAK,EAAE;MACdtB,OAAO,CAACsB,KAAK,CAAC,qBAAqB,EAAEI,IAAI,CAACJ,KAAK,CAAC;MAChD,OAAO,EAAE;IACX;;IAEA;IACA,IAAIS,OAAO,GAAG,EAAE;IAChB,IAAIC,KAAK,CAACC,OAAO,CAACP,IAAI,CAAC,EAAE;MACvBK,OAAO,GAAGL,IAAI;IAChB,CAAC,MAAM,IAAIA,IAAI,CAACQ,IAAI,EAAE;MACpBH,OAAO,GAAGL,IAAI,CAACQ,IAAI;IACrB,CAAC,MAAM,IAAIR,IAAI,CAACS,QAAQ,EAAE;MACxBJ,OAAO,GAAGL,IAAI,CAACS,QAAQ;IACzB;IAEA,OAAOJ,OAAO,CAACK,GAAG,CAACC,OAAO,KAAK;MAC7BC,EAAE,EAAED,OAAO,CAACE,SAAS;MACrBA,SAAS,EAAEF,OAAO,CAACE,SAAS;MAC5BC,IAAI,EAAEH,OAAO,CAACG,IAAI,IAAI,SAAS;MAC/BC,KAAK,EAAEJ,OAAO,CAACG,IAAI,IAAI,SAAS;MAChCE,IAAI,EAAEL,OAAO,CAACM,WAAW,IAAIN,OAAO,CAACK,IAAI,IAAI,IAAI;MACjDE,MAAM,EAAEP,OAAO,CAACM,WAAW,IAAI,IAAI;MACnCE,KAAK,EAAER,OAAO,CAACM,WAAW,IAAI,IAAI;MAClCG,WAAW,EAAET,OAAO,CAACS,WAAW;MAChCC,QAAQ,EAAEV,OAAO,CAACW,aAAa,IAAI,UAAU;MAC7CA,aAAa,EAAEX,OAAO,CAACW,aAAa,IAAI,UAAU;MAClDC,cAAc,EAAEZ,OAAO,CAACY,cAAc;MACtCC,UAAU,EAAEb,OAAO,CAACa,UAAU,KAAK,CAAC;MACpCC,mBAAmB,EAAEd,OAAO,CAACc,mBAAmB,IAAI,CAAC;MACrDC,IAAI,EAAE,MAAM;MACZC,UAAU,EAAE,IAAI;MAChBC,KAAK,EAAEjB,OAAO,CAACiB,KAAK;MACpBC,UAAU,EAAElB,OAAO,CAACkB,UAAU;MAC9BC,aAAa,EAAEnB,OAAO,CAACmB;IACzB,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,OAAOlC,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,OAAO,EAAE;EACX;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMmC,iBAAiB,GAAG,MAAAA,CAAOrE,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC7D,IAAI;IACF,MAAMS,GAAG,GAAGZ,QAAQ,CAACC,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAE,qBAAqB,CAAC;IAC/DU,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEF,GAAG,CAAC;IAE5C,MAAM2B,IAAI,GAAG,MAAM5B,WAAW,CAACC,GAAG,CAAC;IAEnC,IAAI,CAAC2B,IAAI,EAAE;MACT,OAAO,EAAE;IACX;IAEA,IAAIgC,UAAU,GAAG,EAAE;IACnB,IAAI1B,KAAK,CAACC,OAAO,CAACP,IAAI,CAAC,EAAE;MACvBgC,UAAU,GAAGhC,IAAI;IACnB,CAAC,MAAM,IAAIA,IAAI,CAACgC,UAAU,EAAE;MAC1BA,UAAU,GAAGhC,IAAI,CAACgC,UAAU;IAC9B;IAEA,OAAOA,UAAU,CAACtB,GAAG,CAACuB,GAAG,KAAK;MAC5BrB,EAAE,EAAEqB,GAAG,CAACb,WAAW;MACnBA,WAAW,EAAEa,GAAG,CAACb,WAAW;MAC5BN,IAAI,EAAEmB,GAAG,CAACX,aAAa,IAAI,UAAU;MACrCP,KAAK,EAAEkB,GAAG,CAACX,aAAa,IAAI,UAAU;MACtCY,SAAS,EAAED,GAAG,CAACC,SAAS,IAAI,CAAC;MAC7BR,IAAI,EAAE;IACR,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,OAAO9B,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,OAAO,EAAE;EACX;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMuC,SAAS,GAAG,MAAAA,CAAOzE,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACrD,IAAI;IACF,MAAMS,GAAG,GAAGZ,QAAQ,CAACC,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAE,iBAAiB,CAAC;IAC3DU,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,GAAG,CAAC;IAElC,MAAM2B,IAAI,GAAG,MAAM5B,WAAW,CAACC,GAAG,CAAC;IAEnC,IAAI,CAAC2B,IAAI,EAAE;MACT,OAAO,EAAE;IACX;IAEA,IAAIoC,MAAM,GAAG,EAAE;IACf,IAAI9B,KAAK,CAACC,OAAO,CAACP,IAAI,CAAC,EAAE;MACvBoC,MAAM,GAAGpC,IAAI;IACf,CAAC,MAAM,IAAIA,IAAI,CAACqC,GAAG,EAAE;MACnBD,MAAM,GAAGpC,IAAI,CAACqC,GAAG;IACnB,CAAC,MAAM,IAAIrC,IAAI,CAACoC,MAAM,EAAE;MACtBA,MAAM,GAAGpC,IAAI,CAACoC,MAAM;IACtB;IAEA,OAAOA,MAAM,CAAC1B,GAAG,CAAC4B,KAAK,KAAK;MAC1B1B,EAAE,EAAE0B,KAAK,CAACzB,SAAS;MACnBA,SAAS,EAAEyB,KAAK,CAACzB,SAAS;MAC1BC,IAAI,EAAEwB,KAAK,CAACxB,IAAI,IAAI,WAAW;MAC/BC,KAAK,EAAEuB,KAAK,CAACxB,IAAI,IAAI,WAAW;MAChCE,IAAI,EAAEsB,KAAK,CAACrB,WAAW,IAAI,IAAI;MAC/BC,MAAM,EAAEoB,KAAK,CAACrB,WAAW,IAAI,IAAI;MACjCE,KAAK,EAAEmB,KAAK,CAACrB,WAAW,IAAI,IAAI;MAChCsB,QAAQ,EAAED,KAAK,CAACE,aAAa,IAAI,IAAI;MACrCpB,WAAW,EAAEkB,KAAK,CAAClB,WAAW;MAC9BC,QAAQ,EAAEiB,KAAK,CAAChB,aAAa,IAAI,OAAO;MACxCA,aAAa,EAAEgB,KAAK,CAAChB,aAAa,IAAI,OAAO;MAC7CmB,IAAI,EAAEH,KAAK,CAACG,IAAI,IAAI,IAAI;MACxBC,MAAM,EAAEJ,KAAK,CAACI,MAAM,IAAI,IAAI;MAC5BC,aAAa,EAAEL,KAAK,CAACK,aAAa,IAAI,IAAI;MAC1CC,QAAQ,EAAEN,KAAK,CAACM,QAAQ,IAAI,CAAC;MAC7BC,aAAa,EAAEP,KAAK,CAACO,aAAa,IAAI,CAAC;MACvCC,WAAW,EAAER,KAAK,CAACQ,WAAW,IAAI,IAAI;MACtCC,IAAI,EAAET,KAAK,CAACS,IAAI,IAAI,IAAI;MACxBC,IAAI,EAAEV,KAAK,CAACU,IAAI,IAAI,IAAI;MACxBC,QAAQ,EAAEX,KAAK,CAACW,QAAQ,IAAI,IAAI;MAChCC,KAAK,EAAEZ,KAAK,CAACY,KAAK,IAAI,IAAI;MAC1BC,YAAY,EAAEb,KAAK,CAACa,YAAY,IAAI,IAAI;MACxCC,eAAe,EAAEd,KAAK,CAACc,eAAe,IAAI,IAAI;MAC9CC,gBAAgB,EAAEf,KAAK,CAACe,gBAAgB,IAAI,IAAI;MAChDC,mBAAmB,EAAEhB,KAAK,CAACgB,mBAAmB,IAAI,KAAK;MACvD5B,IAAI,EAAE;IACR,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,OAAO9B,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC1C,OAAO,EAAE;EACX;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAM2D,kBAAkB,GAAG,MAAAA,CAAO7F,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC9D,IAAI;IACF,MAAMS,GAAG,GAAGZ,QAAQ,CAACC,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAE,oBAAoB,CAAC;IAC9DU,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEF,GAAG,CAAC;IAE7C,MAAM2B,IAAI,GAAG,MAAM5B,WAAW,CAACC,GAAG,CAAC;IAEnC,IAAI,CAAC2B,IAAI,EAAE;MACT,OAAO,EAAE;IACX;IAEA,IAAIgC,UAAU,GAAG,EAAE;IACnB,IAAI1B,KAAK,CAACC,OAAO,CAACP,IAAI,CAAC,EAAE;MACvBgC,UAAU,GAAGhC,IAAI;IACnB,CAAC,MAAM,IAAIA,IAAI,CAACgC,UAAU,EAAE;MAC1BA,UAAU,GAAGhC,IAAI,CAACgC,UAAU;IAC9B;IAEA,OAAOA,UAAU,CAACtB,GAAG,CAACuB,GAAG,KAAK;MAC5BrB,EAAE,EAAEqB,GAAG,CAACb,WAAW;MACnBA,WAAW,EAAEa,GAAG,CAACb,WAAW;MAC5BN,IAAI,EAAEmB,GAAG,CAACX,aAAa,IAAI,OAAO;MAClCP,KAAK,EAAEkB,GAAG,CAACX,aAAa,IAAI,OAAO;MACnCY,SAAS,EAAED,GAAG,CAACC,SAAS,IAAI,CAAC;MAC7BR,IAAI,EAAE;IACR,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,OAAO9B,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAO,EAAE;EACX;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAM4D,SAAS,GAAG,MAAAA,CAAO9F,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACrD,IAAI;IACF,MAAMS,GAAG,GAAGZ,QAAQ,CAACC,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAE,YAAY,CAAC;IACtDU,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,GAAG,CAAC;IAElC,MAAM2B,IAAI,GAAG,MAAM5B,WAAW,CAACC,GAAG,CAAC;IAEnC,IAAI,CAAC2B,IAAI,EAAE;MACT,OAAO,EAAE;IACX;IAEA,IAAIyD,MAAM,GAAG,EAAE;IACf,IAAInD,KAAK,CAACC,OAAO,CAACP,IAAI,CAAC,EAAE;MACvByD,MAAM,GAAGzD,IAAI;IACf,CAAC,MAAM,IAAIA,IAAI,CAACyD,MAAM,EAAE;MACtBA,MAAM,GAAGzD,IAAI,CAACyD,MAAM;IACtB;IAEA,OAAOA,MAAM,CAAC/C,GAAG,CAACgD,CAAC;MAAA,IAAAC,UAAA;MAAA,OAAK;QACtB/C,EAAE,EAAE8C,CAAC,CAACE,SAAS;QACfA,SAAS,EAAEF,CAAC,CAACE,SAAS;QACtB9C,IAAI,EAAE4C,CAAC,CAAC5C,IAAI,IAAI,WAAW;QAC3BC,KAAK,EAAE2C,CAAC,CAAC5C,IAAI,IAAI,WAAW;QAC5BE,IAAI,EAAE0C,CAAC,CAACvC,KAAK,IAAI,IAAI;QACrBD,MAAM,EAAEwC,CAAC,CAACvC,KAAK,IAAI,IAAI;QACvBA,KAAK,EAAEuC,CAAC,CAACvC,KAAK,IAAI,IAAI;QACtBoB,QAAQ,EAAEmB,CAAC,CAAClB,aAAa,IAAI,IAAI;QACjCpB,WAAW,EAAEsC,CAAC,CAACtC,WAAW;QAC1BC,QAAQ,EAAEqC,CAAC,CAACpC,aAAa,IAAI,SAAS;QACtCA,aAAa,EAAEoC,CAAC,CAACpC,aAAa,IAAI,SAAS;QAC3CmB,IAAI,EAAEiB,CAAC,CAACjB,IAAI,IAAI,IAAI;QACpBC,MAAM,EAAEgB,CAAC,CAAChB,MAAM,IAAI,IAAI;QACxBC,aAAa,EAAEe,CAAC,CAACf,aAAa,IAAI,IAAI;QACtCG,WAAW,EAAEY,CAAC,CAACZ,WAAW,IAAI,IAAI;QAClCC,IAAI,EAAEW,CAAC,CAACX,IAAI,IAAI,IAAI;QACpBC,IAAI,EAAEU,CAAC,CAACV,IAAI,IAAI,IAAI;QACpBC,QAAQ,EAAES,CAAC,CAACT,QAAQ,IAAI,IAAI;QAC5BC,KAAK,EAAEQ,CAAC,CAACR,KAAK,IAAI,IAAI;QACtBC,YAAY,EAAEO,CAAC,CAACP,YAAY,IAAI,IAAI;QACpCC,eAAe,EAAEM,CAAC,CAACN,eAAe,IAAI,IAAI;QAC1CC,gBAAgB,EAAEK,CAAC,CAACL,gBAAgB,IAAI,IAAI;QAC5CQ,OAAO,EAAEH,CAAC,CAACG,OAAO,IAAI,EAAE;QACxBC,YAAY,EAAE,EAAAH,UAAA,GAAAD,CAAC,CAACG,OAAO,cAAAF,UAAA,uBAATA,UAAA,CAAWI,MAAM,KAAI,CAAC;QACpCrC,IAAI,EAAE;MACR,CAAC;IAAA,CAAC,CAAC;EACL,CAAC,CAAC,OAAO9B,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC1C,OAAO,EAAE;EACX;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMoE,mBAAmB,GAAG,MAAAA,CAAOtG,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC/D,IAAI;IACF,MAAMS,GAAG,GAAGZ,QAAQ,CAACC,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAE,uBAAuB,CAAC;IACjEU,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEF,GAAG,CAAC;IAE9C,MAAM2B,IAAI,GAAG,MAAM5B,WAAW,CAACC,GAAG,CAAC;IAEnC,IAAI,CAAC2B,IAAI,EAAE;MACT,OAAO,EAAE;IACX;IAEA,IAAIgC,UAAU,GAAG,EAAE;IACnB,IAAI1B,KAAK,CAACC,OAAO,CAACP,IAAI,CAAC,EAAE;MACvBgC,UAAU,GAAGhC,IAAI;IACnB,CAAC,MAAM,IAAIA,IAAI,CAACgC,UAAU,EAAE;MAC1BA,UAAU,GAAGhC,IAAI,CAACgC,UAAU;IAC9B;IAEA,OAAOA,UAAU,CAACtB,GAAG,CAACuB,GAAG,KAAK;MAC5BrB,EAAE,EAAEqB,GAAG,CAACb,WAAW;MACnBA,WAAW,EAAEa,GAAG,CAACb,WAAW;MAC5BN,IAAI,EAAEmB,GAAG,CAACX,aAAa,IAAI,SAAS;MACpCP,KAAK,EAAEkB,GAAG,CAACX,aAAa,IAAI,SAAS;MACrCY,SAAS,EAAED,GAAG,CAACC,SAAS,IAAI,CAAC;MAC7BR,IAAI,EAAE;IACR,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,OAAO9B,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACpD,OAAO,EAAE;EACX;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMqE,cAAc,GAAGA,CAACvG,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAEsG,QAAQ,EAAExC,IAAI,GAAG,MAAM,EAAEyC,SAAS,GAAG,MAAM,KAAK;EACjG,IAAIrG,OAAO,GAAGJ,MAAM,CAACK,IAAI,CAAC,CAAC;EAE3B,IAAID,OAAO,CAACE,QAAQ,CAAC,GAAG,CAAC,EAAE;IACzBF,OAAO,GAAGA,OAAO,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAChC;EAEA,IAAI,CAACH,OAAO,CAACI,UAAU,CAAC,SAAS,CAAC,IAAI,CAACJ,OAAO,CAACI,UAAU,CAAC,UAAU,CAAC,EAAE;IACrEJ,OAAO,GAAG,SAAS,GAAGA,OAAO;EAC/B;EAEA,QAAQ4D,IAAI;IACV,KAAK,MAAM;MACT,OAAO,GAAG5D,OAAO,SAASK,kBAAkB,CAACR,IAAI,CAAC,IAAIQ,kBAAkB,CAACP,IAAI,CAAC,IAAIsG,QAAQ,OAAO;IACnG,KAAK,OAAO;MACV,OAAO,GAAGpG,OAAO,UAAUK,kBAAkB,CAACR,IAAI,CAAC,IAAIQ,kBAAkB,CAACP,IAAI,CAAC,IAAIsG,QAAQ,IAAIC,SAAS,EAAE;IAC5G,KAAK,QAAQ;MACX,OAAO,GAAGrG,OAAO,WAAWK,kBAAkB,CAACR,IAAI,CAAC,IAAIQ,kBAAkB,CAACP,IAAI,CAAC,IAAIsG,QAAQ,MAAM;IACpG;MACE,OAAO,GAAGpG,OAAO,SAASK,kBAAkB,CAACR,IAAI,CAAC,IAAIQ,kBAAkB,CAACP,IAAI,CAAC,IAAIsG,QAAQ,OAAO;EACrG;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAME,gBAAgB,GAAG,MAAAA,CAAO1G,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC5D,IAAI;IACF,MAAM,CAACyG,QAAQ,EAAEC,SAAS,EAAEC,UAAU,CAAC,GAAG,MAAMC,OAAO,CAACC,UAAU,CAAC,CACjE1C,iBAAiB,CAACrE,MAAM,EAAEC,IAAI,EAAEC,IAAI,CAAC,EACrC2F,kBAAkB,CAAC7F,MAAM,EAAEC,IAAI,EAAEC,IAAI,CAAC,EACtCoG,mBAAmB,CAACtG,MAAM,EAAEC,IAAI,EAAEC,IAAI,CAAC,CACxC,CAAC;IAEF,OAAO;MACL4C,IAAI,EAAE6D,QAAQ,CAAC/E,MAAM,KAAK,WAAW,GAAG+E,QAAQ,CAACK,KAAK,GAAG,EAAE;MAC3DtC,MAAM,EAAEkC,SAAS,CAAChF,MAAM,KAAK,WAAW,GAAGgF,SAAS,CAACI,KAAK,GAAG,EAAE;MAC/DjB,MAAM,EAAEc,UAAU,CAACjF,MAAM,KAAK,WAAW,GAAGiF,UAAU,CAACG,KAAK,GAAG,EAAE;MACjEC,GAAG,EAAE,CACH,IAAIN,QAAQ,CAAC/E,MAAM,KAAK,WAAW,GAAG+E,QAAQ,CAACK,KAAK,CAAChE,GAAG,CAACkE,CAAC,KAAK;QAAE,GAAGA,CAAC;QAAElD,IAAI,EAAE;MAAO,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAC7F,IAAI4C,SAAS,CAAChF,MAAM,KAAK,WAAW,GAAGgF,SAAS,CAACI,KAAK,CAAChE,GAAG,CAACkE,CAAC,KAAK;QAAE,GAAGA,CAAC;QAAElD,IAAI,EAAE;MAAQ,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAChG,IAAI6C,UAAU,CAACjF,MAAM,KAAK,WAAW,GAAGiF,UAAU,CAACG,KAAK,CAAChE,GAAG,CAACkE,CAAC,KAAK;QAAE,GAAGA,CAAC;QAAElD,IAAI,EAAE;MAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;IAEvG,CAAC;EACH,CAAC,CAAC,OAAO9B,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACjD,OAAO;MAAEY,IAAI,EAAE,EAAE;MAAE4B,MAAM,EAAE,EAAE;MAAEqB,MAAM,EAAE,EAAE;MAAEkB,GAAG,EAAE;IAAG,CAAC;EACtD;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAME,aAAa,GAAG,MAAAA,CAAOnH,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACzD,IAAI;IACF,MAAM,CAAC4C,IAAI,EAAE4B,MAAM,EAAEqB,MAAM,CAAC,GAAG,MAAMe,OAAO,CAACC,UAAU,CAAC,CACtDrE,cAAc,CAAC1C,MAAM,EAAEC,IAAI,EAAEC,IAAI,CAAC,EAClCuE,SAAS,CAACzE,MAAM,EAAEC,IAAI,EAAEC,IAAI,CAAC,EAC7B4F,SAAS,CAAC9F,MAAM,EAAEC,IAAI,EAAEC,IAAI,CAAC,CAC9B,CAAC;IAEF,OAAO;MACL4C,IAAI,EAAEA,IAAI,CAAClB,MAAM,KAAK,WAAW,GAAGkB,IAAI,CAACkE,KAAK,GAAG,EAAE;MACnDtC,MAAM,EAAEA,MAAM,CAAC9C,MAAM,KAAK,WAAW,GAAG8C,MAAM,CAACsC,KAAK,GAAG,EAAE;MACzDjB,MAAM,EAAEA,MAAM,CAACnE,MAAM,KAAK,WAAW,GAAGmE,MAAM,CAACiB,KAAK,GAAG;IACzD,CAAC;EACH,CAAC,CAAC,OAAO9E,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,OAAO;MAAEY,IAAI,EAAE,EAAE;MAAE4B,MAAM,EAAE,EAAE;MAAEqB,MAAM,EAAE;IAAG,CAAC;EAC7C;AACF,CAAC;AAED,eAAe;EACb1D,WAAW;EACXK,cAAc;EACd2B,iBAAiB;EACjBI,SAAS;EACToB,kBAAkB;EAClBC,SAAS;EACTQ,mBAAmB;EACnBC,cAAc;EACdG,gBAAgB;EAChBS;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}