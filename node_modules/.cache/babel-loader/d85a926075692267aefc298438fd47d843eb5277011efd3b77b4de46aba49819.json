{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rayuv\\\\OneDrive\\\\Documents\\\\GitHub\\\\Reacttv\\\\src\\\\components\\\\VirtualChannelList.jsx\",\n  _s = $RefreshSig$();\n// src/components/VirtualChannelList.jsx\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\nimport ChannelCard from './ChannelCard';\nimport LoadingSpinner from './LoadingSpinner';\nimport './VirtualChannelList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VirtualChannelList = ({\n  items = [],\n  onPlay,\n  onToggleFavorite,\n  favorites = [],\n  selectedItem,\n  theme,\n  activeTab,\n  hasMore = false,\n  onLoadMore,\n  isLoading = false\n}) => {\n  _s();\n  const containerRef = useRef(null);\n  const [visibleRange, setVisibleRange] = useState({\n    start: 0,\n    end: 20\n  });\n  const ITEM_HEIGHT = 100; // LartÃ«sia e Ã§do karte nÃ« pixel\n  const BUFFER_SIZE = 5; // Numri i elementeve para dhe pas\n\n  const calculateVisibleRange = useCallback(() => {\n    if (!containerRef.current) return;\n    const container = containerRef.current;\n    const scrollTop = container.scrollTop;\n    const containerHeight = container.clientHeight;\n    const startIndex = Math.max(0, Math.floor(scrollTop / ITEM_HEIGHT) - BUFFER_SIZE);\n    const endIndex = Math.min(items.length, Math.ceil((scrollTop + containerHeight) / ITEM_HEIGHT) + BUFFER_SIZE);\n    setVisibleRange({\n      start: startIndex,\n      end: endIndex\n    });\n\n    // Load more when near the end\n    if (hasMore && !isLoading && endIndex >= items.length - 10) {\n      onLoadMore === null || onLoadMore === void 0 ? void 0 : onLoadMore();\n    }\n  }, [items.length, hasMore, isLoading, onLoadMore]);\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n    container.addEventListener('scroll', calculateVisibleRange);\n    window.addEventListener('resize', calculateVisibleRange);\n    calculateVisibleRange();\n    return () => {\n      container.removeEventListener('scroll', calculateVisibleRange);\n      window.removeEventListener('resize', calculateVisibleRange);\n    };\n  }, [calculateVisibleRange]);\n  useEffect(() => {\n    calculateVisibleRange();\n  }, [items, calculateVisibleRange]);\n  const visibleItems = items.slice(visibleRange.start, visibleRange.end);\n  const topPadding = visibleRange.start * ITEM_HEIGHT;\n  const bottomPadding = (items.length - visibleRange.end) * ITEM_HEIGHT;\n  if (!items || items.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `virtual-list-empty theme-${theme}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"empty-icon\",\n          children: \"\\uD83D\\uDCFA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Nuk u gjet asnj\\xEB kanal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Provo t\\xEB ndryshosh kategorin\\xEB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: `virtual-list-container theme-${theme}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"virtual-list-content\",\n      style: {\n        paddingTop: `${topPadding}px`,\n        paddingBottom: `${bottomPadding}px`\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"virtual-list-grid\",\n        children: visibleItems.map((item, index) => {\n          const itemId = item.stream_id || item.series_id || item.id || `item-${visibleRange.start + index}`;\n          const isFavorite = favorites.includes(itemId);\n          const isSelected = (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.stream_id) === itemId || (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.series_id) === itemId || (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.id) === itemId;\n          return /*#__PURE__*/_jsxDEV(ChannelCard, {\n            item: item,\n            onPlay: onPlay,\n            onToggleFavorite: () => onToggleFavorite(itemId),\n            isFavorite: isFavorite,\n            isSelected: isSelected,\n            theme: theme,\n            activeTab: activeTab\n          }, `${itemId}-${visibleRange.start + index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"virtual-list-loading\",\n        children: [/*#__PURE__*/_jsxDEV(LoadingSpinner, {\n          theme: theme,\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Duke ngarkuar...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"virtual-list-stats\",\n      children: [\"Duke shfaqur \", items.length, \" \", activeTab === 'live' ? 'kanale' : activeTab === 'movies' ? 'filma' : 'seriale']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(VirtualChannelList, \"9Bg03OFAyQL92S5e/BlYuhWV20U=\");\n_c = VirtualChannelList;\nexport default VirtualChannelList;\nvar _c;\n$RefreshReg$(_c, \"VirtualChannelList\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","ChannelCard","LoadingSpinner","jsxDEV","_jsxDEV","VirtualChannelList","items","onPlay","onToggleFavorite","favorites","selectedItem","theme","activeTab","hasMore","onLoadMore","isLoading","_s","containerRef","visibleRange","setVisibleRange","start","end","ITEM_HEIGHT","BUFFER_SIZE","calculateVisibleRange","current","container","scrollTop","containerHeight","clientHeight","startIndex","Math","max","floor","endIndex","min","length","ceil","addEventListener","window","removeEventListener","visibleItems","slice","topPadding","bottomPadding","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","style","paddingTop","paddingBottom","map","item","index","itemId","stream_id","series_id","id","isFavorite","includes","isSelected","size","_c","$RefreshReg$"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/components/VirtualChannelList.jsx"],"sourcesContent":["// src/components/VirtualChannelList.jsx\r\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\r\nimport ChannelCard from './ChannelCard';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport './VirtualChannelList.css';\r\n\r\nconst VirtualChannelList = ({\r\n  items = [],\r\n  onPlay,\r\n  onToggleFavorite,\r\n  favorites = [],\r\n  selectedItem,\r\n  theme,\r\n  activeTab,\r\n  hasMore = false,\r\n  onLoadMore,\r\n  isLoading = false\r\n}) => {\r\n  const containerRef = useRef(null);\r\n  const [visibleRange, setVisibleRange] = useState({ start: 0, end: 20 });\r\n  const ITEM_HEIGHT = 100; // LartÃ«sia e Ã§do karte nÃ« pixel\r\n  const BUFFER_SIZE = 5; // Numri i elementeve para dhe pas\r\n\r\n  const calculateVisibleRange = useCallback(() => {\r\n    if (!containerRef.current) return;\r\n\r\n    const container = containerRef.current;\r\n    const scrollTop = container.scrollTop;\r\n    const containerHeight = container.clientHeight;\r\n\r\n    const startIndex = Math.max(0, Math.floor(scrollTop / ITEM_HEIGHT) - BUFFER_SIZE);\r\n    const endIndex = Math.min(\r\n      items.length,\r\n      Math.ceil((scrollTop + containerHeight) / ITEM_HEIGHT) + BUFFER_SIZE\r\n    );\r\n\r\n    setVisibleRange({ start: startIndex, end: endIndex });\r\n\r\n    // Load more when near the end\r\n    if (hasMore && !isLoading && endIndex >= items.length - 10) {\r\n      onLoadMore?.();\r\n    }\r\n  }, [items.length, hasMore, isLoading, onLoadMore]);\r\n\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    if (!container) return;\r\n\r\n    container.addEventListener('scroll', calculateVisibleRange);\r\n    window.addEventListener('resize', calculateVisibleRange);\r\n\r\n    calculateVisibleRange();\r\n\r\n    return () => {\r\n      container.removeEventListener('scroll', calculateVisibleRange);\r\n      window.removeEventListener('resize', calculateVisibleRange);\r\n    };\r\n  }, [calculateVisibleRange]);\r\n\r\n  useEffect(() => {\r\n    calculateVisibleRange();\r\n  }, [items, calculateVisibleRange]);\r\n\r\n  const visibleItems = items.slice(visibleRange.start, visibleRange.end);\r\n  const topPadding = visibleRange.start * ITEM_HEIGHT;\r\n  const bottomPadding = (items.length - visibleRange.end) * ITEM_HEIGHT;\r\n\r\n  if (!items || items.length === 0) {\r\n    return (\r\n      <div className={`virtual-list-empty theme-${theme}`}>\r\n        <div className=\"empty-state\">\r\n          <span className=\"empty-icon\">ðŸ“º</span>\r\n          <h3>Nuk u gjet asnjÃ« kanal</h3>\r\n          <p>Provo tÃ« ndryshosh kategorinÃ«</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className={`virtual-list-container theme-${theme}`}\r\n    >\r\n      <div \r\n        className=\"virtual-list-content\"\r\n        style={{ \r\n          paddingTop: `${topPadding}px`,\r\n          paddingBottom: `${bottomPadding}px`\r\n        }}\r\n      >\r\n        <div className=\"virtual-list-grid\">\r\n          {visibleItems.map((item, index) => {\r\n            const itemId = item.stream_id || item.series_id || item.id || `item-${visibleRange.start + index}`;\r\n            const isFavorite = favorites.includes(itemId);\r\n            const isSelected = selectedItem?.stream_id === itemId || \r\n                             selectedItem?.series_id === itemId || \r\n                             selectedItem?.id === itemId;\r\n\r\n            return (\r\n              <ChannelCard\r\n                key={`${itemId}-${visibleRange.start + index}`}\r\n                item={item}\r\n                onPlay={onPlay}\r\n                onToggleFavorite={() => onToggleFavorite(itemId)}\r\n                isFavorite={isFavorite}\r\n                isSelected={isSelected}\r\n                theme={theme}\r\n                activeTab={activeTab}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {isLoading && (\r\n          <div className=\"virtual-list-loading\">\r\n            <LoadingSpinner theme={theme} size=\"small\" />\r\n            <span>Duke ngarkuar...</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"virtual-list-stats\">\r\n        Duke shfaqur {items.length} {activeTab === 'live' ? 'kanale' : \r\n                                   activeTab === 'movies' ? 'filma' : 'seriale'}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VirtualChannelList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}