{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rayuv\\\\OneDrive\\\\Documents\\\\GitHub\\\\Reacttv\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport LiveTVContent from \"./components/LiveTVContent\";\nimport MoviesContent from \"./components/MoviesContent\";\nimport SeriesContent from \"./components/SeriesContent\";\nimport HlsPlayer from \"./components/HlsPlayer\";\nimport SearchModal from \"./components/SearchModal\";\nimport SettingsModal from \"./components/SettingsModal\";\nimport ErrorBoundary from \"./components/ErrorBoundary\";\nimport { getLive, getMovies, getSeries, getCategories, buildStream } from \"./services/iptvService\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// Komponent për imazhet me lazy loading\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ImageWithLazyLoad = ({\n  src,\n  alt,\n  className\n}) => {\n  _s();\n  const [isVisible, setIsVisible] = useState(false);\n  const imgRef = useRef(null);\n  const [hasError, setHasError] = useState(false);\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setIsVisible(true);\n        observer.disconnect();\n      }\n    }, {\n      threshold: 0.1\n    });\n    if (imgRef.current) {\n      observer.observe(imgRef.current);\n    }\n    return () => observer.disconnect();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: imgRef,\n    className: className,\n    children: isVisible && !hasError ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: src,\n      alt: alt,\n      className: \"w-full h-full object-cover\",\n      loading: \"lazy\",\n      onError: e => {\n        setHasError(true);\n        e.target.style.display = 'none';\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full bg-gray-700 animate-pulse flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-gray-500 text-xl\",\n        children: alt ? alt.charAt(0) : '?'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n// Funksion për të kontrolluar dhe limituar madhësinë e cache\n_s(ImageWithLazyLoad, \"Kexl/kKHcvN1s937WExEKgZoyHg=\");\n_c = ImageWithLazyLoad;\nconst optimizeCacheData = data => {\n  var _optimized$channels;\n  if (!data) return data;\n\n  // Krijo një kopje të të dhënave për të mos ndryshuar originalin\n  const optimized = {\n    ...data\n  };\n\n  // Limitoni numrin e artikujve për çdo kategori\n  const maxItemsPerCategory = 500; // Maximum items per category\n\n  if (optimized.channels && optimized.channels.length > maxItemsPerCategory) {\n    optimized.channels = optimized.channels.slice(0, maxItemsPerCategory);\n  }\n  if (optimized.movies && optimized.movies.length > maxItemsPerCategory) {\n    optimized.movies = optimized.movies.slice(0, maxItemsPerCategory);\n  }\n  if (optimized.series && optimized.series.length > maxItemsPerCategory) {\n    optimized.series = optimized.series.slice(0, maxItemsPerCategory);\n  }\n\n  // Optimizo logot (nëse janë shumë të mëdha)\n  (_optimized$channels = optimized.channels) === null || _optimized$channels === void 0 ? void 0 : _optimized$channels.forEach(channel => {\n    if (channel.logo && channel.logo.includes('ui-avatars.com')) {\n      // Tashmë është optimizuar\n    } else if (channel.logo) {\n      // Redukto madhësinë e URL-së së logos nëse është e nevojshme\n      channel.logo = channel.logo.replace(/\\/\\d+$/, '/128'); // Forço 128px\n    }\n  });\n  return optimized;\n};\n\n// Funksion për të kontrolluar madhësinë e localStorage\nconst checkLocalStorageSize = () => {\n  try {\n    let total = 0;\n    for (let key in localStorage) {\n      if (localStorage.hasOwnProperty(key)) {\n        total += localStorage[key].length * 2; // *2 për UTF-16\n      }\n    }\n    const sizeInMB = total / (1024 * 1024);\n    console.log(`LocalStorage size: ${sizeInMB.toFixed(2)} MB`);\n    return sizeInMB;\n  } catch (e) {\n    console.error('Error checking localStorage size:', e);\n    return 0;\n  }\n};\n\n// Funksion për të pastruar cache të vjetër\nconst cleanupOldCache = () => {\n  try {\n    // Pastro cache të vjetër (më shumë se 1 ditë)\n    const cacheTimestamp = localStorage.getItem('iptv_cache_timestamp');\n    if (cacheTimestamp) {\n      const cacheAge = Date.now() - parseInt(cacheTimestamp);\n      const oneDayInMs = 24 * 60 * 60 * 1000;\n      if (cacheAge > oneDayInMs) {\n        localStorage.removeItem('iptv_cache');\n        localStorage.removeItem('iptv_cache_timestamp');\n        console.log('Old cache cleaned up');\n        return true;\n      }\n    }\n  } catch (e) {\n    console.error('Error cleaning up old cache:', e);\n  }\n  return false;\n};\n\n// Funksion për të limituar madhësinë e historisë\nconst limitHistorySize = () => {\n  try {\n    const history = JSON.parse(localStorage.getItem('play_history') || '[]');\n    if (history.length > 50) {\n      localStorage.setItem('play_history', JSON.stringify(history.slice(0, 50)));\n    }\n  } catch (e) {\n    console.error('Error limiting history size:', e);\n  }\n};\nfunction App() {\n  _s2();\n  // Input user - me ruajtje në localStorage\n  const [server, setServer] = useState(() => localStorage.getItem(\"server\") || \"\");\n  const [user, setUser] = useState(() => localStorage.getItem(\"user\") || \"\");\n  const [pass, setPass] = useState(() => localStorage.getItem(\"pass\") || \"\");\n  const [m3uUrl, setM3uUrl] = useState(() => localStorage.getItem(\"m3uUrl\") || \"\");\n\n  // Data dhe playback\n  const [currentStream, setCurrentStream] = useState(null);\n  const [currentStreamInfo, setCurrentStreamInfo] = useState(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [favorites, setFavorites] = useState(() => {\n    try {\n      const favs = localStorage.getItem(\"favorites\");\n      return favs ? JSON.parse(favs) : [];\n    } catch {\n      return [];\n    }\n  });\n  const [channels, setChannels] = useState([]);\n  const [movies, setMovies] = useState([]);\n  const [series, setSeries] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"live\");\n\n  // Modal dhe sidebar state\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\n  const [showSearchModal, setShowSearchModal] = useState(false);\n  const [showSidebar, setShowSidebar] = useState(true);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(\"Të gjitha\");\n\n  // Search state\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n\n  // Settings state\n  const [settings, setSettings] = useState(() => {\n    const defaultSettings = {\n      autoPlay: localStorage.getItem(\"autoPlay\") === \"true\" || false,\n      quality: localStorage.getItem(\"quality\") || \"auto\",\n      volume: parseFloat(localStorage.getItem(\"volume\")) || 1.0,\n      language: localStorage.getItem(\"language\") || \"sq\",\n      theme: localStorage.getItem(\"theme\") || \"dark\"\n    };\n    return defaultSettings;\n  });\n\n  // Ref për debounce dhe kontroll të tjera\n  const debounceTimer = useRef(null);\n  const fetchController = useRef(null);\n\n  // Ruaj settings në localStorage\n  useEffect(() => {\n    Object.keys(settings).forEach(key => {\n      try {\n        localStorage.setItem(key, settings[key]);\n      } catch (e) {\n        console.error(`Error saving setting ${key}:`, e);\n      }\n    });\n  }, [settings]);\n\n  // Ruaj credentials në localStorage me debounce\n  useEffect(() => {\n    if (debounceTimer.current) clearTimeout(debounceTimer.current);\n    debounceTimer.current = setTimeout(() => {\n      try {\n        localStorage.setItem(\"server\", server);\n        localStorage.setItem(\"user\", user);\n        localStorage.setItem(\"pass\", pass);\n        localStorage.setItem(\"m3uUrl\", m3uUrl);\n      } catch (e) {\n        console.error('Error saving credentials:', e);\n        toast.warning('Nuk mund të ruhen të dhënat për shkak të hapësirës së kufizuar');\n      }\n    }, 500);\n  }, [server, user, pass, m3uUrl]);\n\n  // Ruaj favorite në localStorage\n  useEffect(() => {\n    try {\n      localStorage.setItem(\"favorites\", JSON.stringify(favorites));\n    } catch (e) {\n      console.error('Error saving favorites:', e);\n      toast.warning('Nuk mund të ruhen të preferuarat për shkak të hapësirës së kufizuar');\n    }\n  }, [favorites]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = e => {\n      var _document$activeEleme;\n      // Ctrl/Cmd + K për search\n      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\n        e.preventDefault();\n        setShowSearchModal(true);\n      }\n\n      // Escape për të mbyllur modalet\n      if (e.key === 'Escape') {\n        if (showSettingsModal) setShowSettingsModal(false);\n        if (showSearchModal) setShowSearchModal(false);\n      }\n\n      // Space për play/pause\n      if (e.key === ' ' && currentStream) {\n        e.preventDefault();\n        setIsPlaying(!isPlaying);\n      }\n\n      // F për fullscreen\n      if (e.key === 'f' && currentStream && ((_document$activeEleme = document.activeElement) === null || _document$activeEleme === void 0 ? void 0 : _document$activeEleme.tagName) !== 'INPUT') {\n        e.preventDefault();\n        const player = document.querySelector('.hls-player');\n        if (player) {\n          if (document.fullscreenElement) {\n            document.exitFullscreen();\n          } else {\n            player.requestFullscreen();\n          }\n        }\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [showSettingsModal, showSearchModal, currentStream, isPlaying]);\n\n  // Load cache në fillim\n  useEffect(() => {\n    const loadCache = () => {\n      try {\n        const cacheData = localStorage.getItem('iptv_cache');\n        const cacheTimestamp = localStorage.getItem('iptv_cache_timestamp');\n        if (cacheData && cacheTimestamp) {\n          const cacheAge = Date.now() - parseInt(cacheTimestamp);\n          // Rifreskoni cache çdo 6 orë (21600000 ms)\n          if (cacheAge < 21600000) {\n            const data = JSON.parse(cacheData);\n            setChannels(data.channels || []);\n            setMovies(data.movies || []);\n            setSeries(data.series || []);\n            setCategories(data.categories || []);\n            toast.info(`U ngarkuan të dhënat e cache (${Math.round(cacheAge / 60000)} minuta më parë)`, {\n              autoClose: 3000\n            });\n          }\n        }\n      } catch (error) {\n        console.error('Error loading cache:', error);\n      }\n    };\n    loadCache();\n    limitHistorySize(); // Limit history size on load\n  }, []);\n\n  // Funksion për parsë M3U playlist\n  const parseM3UPlaylist = async url => {\n    try {\n      // Kontrolloni URL\n      if (!url || !url.startsWith('http')) {\n        throw new Error('URL-ja M3U duhet të fillojë me http:// ose https://');\n      }\n\n      // Kontrolloni nëse jeni online\n      if (!navigator.onLine) {\n        throw new Error('Nuk jeni të lidhur në internet');\n      }\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 30000);\n      try {\n        const response = await fetch(url, {\n          signal: controller.signal\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n        const m3uContent = await response.text();\n\n        // Kontrolloni nëse është M3U file\n        if (!m3uContent.includes('#EXTM3U')) {\n          throw new Error('Kjo nuk duket të jetë një skedar M3U i vlefshëm');\n        }\n        const lines = m3uContent.split('\\n');\n        const channels = [];\n        const movies = [];\n        const series = [];\n        const uniqueCategories = new Set();\n        let currentItem = null;\n        for (let i = 0; i < lines.length; i++) {\n          const line = lines[i].trim();\n          if (line.startsWith('#EXTINF:')) {\n            const info = line.substring(8);\n            const commaIndex = info.indexOf(',');\n            const duration = commaIndex > -1 ? info.substring(0, commaIndex) : '0';\n            const name = commaIndex > -1 ? info.substring(commaIndex + 1) : info;\n            currentItem = {\n              stream_id: `m3u_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n              name: name.trim(),\n              duration: duration,\n              stream_url: '',\n              group_title: '',\n              category: '',\n              type: 'live',\n              stream_type: 'live',\n              logo: '',\n              added_at: new Date().toISOString()\n            };\n\n            // Extract attributes\n            const attrs = line.match(/([a-zA-Z0-9_-]+)=(\"[^\"]*\"|[^,]+)/g) || [];\n            attrs.forEach(attr => {\n              const [key, value] = attr.split('=');\n              const cleanKey = key.toLowerCase().replace(/[-_]/g, '');\n              const cleanValue = value.replace(/\"/g, '').trim();\n              switch (cleanKey) {\n                case 'grouptitle':\n                  currentItem.group_title = cleanValue;\n                  currentItem.category = cleanValue;\n                  uniqueCategories.add(cleanValue);\n                  const groupLower = cleanValue.toLowerCase();\n                  if (groupLower.includes('movie') || groupLower.includes('film') || groupLower.includes('vod')) {\n                    currentItem.type = 'movie';\n                    currentItem.stream_type = 'movie';\n                  } else if (groupLower.includes('series') || groupLower.includes('serial') || groupLower.includes('tv show')) {\n                    currentItem.type = 'series';\n                    currentItem.stream_type = 'series';\n                  }\n                  break;\n                case 'tvglogo':\n                  currentItem.logo = cleanValue;\n                  break;\n                default:\n                  // Handle other cases if needed\n                  break;\n              }\n            });\n          } else if (line && !line.startsWith('#') && currentItem) {\n            // This is the stream URL\n            let streamUrl = line.trim();\n\n            // Kontrolloni nëse URL-ja është relative\n            if (!streamUrl.startsWith('http') && !streamUrl.startsWith('rtmp') && !streamUrl.startsWith('rtsp')) {\n              if (streamUrl.startsWith('/')) {\n                // Nëse ka server URL, bashkëngjiteni atë\n                const baseUrl = url.substring(0, url.lastIndexOf('/'));\n                streamUrl = `${baseUrl}${streamUrl}`;\n              }\n            }\n            currentItem.stream_url = streamUrl;\n\n            // Vendosni logo default nëse nuk ka\n            if (!currentItem.logo) {\n              const nameForLogo = currentItem.name || 'TV';\n              currentItem.logo = `https://ui-avatars.com/api/?name=${encodeURIComponent(nameForLogo)}&background=random&size=128`;\n            } else {\n              // Optimizo logo URL (vendos size 128)\n              currentItem.logo = currentItem.logo.replace(/\\/\\d+$/, '/128');\n            }\n            if (currentItem.type === 'movie') {\n              movies.push({\n                ...currentItem,\n                stream_type: 'movie'\n              });\n            } else if (currentItem.type === 'series') {\n              series.push({\n                ...currentItem,\n                stream_type: 'series',\n                seasons: []\n              });\n            } else {\n              var _currentItem$name, _currentItem$name2, _currentItem$name3;\n              channels.push({\n                ...currentItem,\n                stream_type: 'live',\n                is_hd: ((_currentItem$name = currentItem.name) === null || _currentItem$name === void 0 ? void 0 : _currentItem$name.toLowerCase().includes('hd')) || ((_currentItem$name2 = currentItem.name) === null || _currentItem$name2 === void 0 ? void 0 : _currentItem$name2.toLowerCase().includes('1080')) || ((_currentItem$name3 = currentItem.name) === null || _currentItem$name3 === void 0 ? void 0 : _currentItem$name3.toLowerCase().includes('720'))\n              });\n            }\n            currentItem = null;\n          }\n        }\n\n        // Limit number of items to avoid storage overflow\n        const MAX_ITEMS_PER_CATEGORY = 500;\n        const limitedChannels = channels.slice(0, MAX_ITEMS_PER_CATEGORY);\n        const limitedMovies = movies.slice(0, MAX_ITEMS_PER_CATEGORY);\n        const limitedSeries = series.slice(0, MAX_ITEMS_PER_CATEGORY);\n\n        // Hiq duplikatet bazuar në stream_url\n        const uniqueChannels = Array.from(new Map(limitedChannels.map(ch => [ch.stream_url, ch])).values());\n        const uniqueMovies = Array.from(new Map(limitedMovies.map(m => [m.stream_url, m])).values());\n        const uniqueSeries = Array.from(new Map(limitedSeries.map(s => [s.stream_url, s])).values());\n\n        // Sort categories alphabetically\n        const sortedCategories = Array.from(uniqueCategories).sort();\n        return {\n          channels: uniqueChannels,\n          movies: uniqueMovies,\n          series: uniqueSeries,\n          categories: sortedCategories\n        };\n      } finally {\n        clearTimeout(timeoutId);\n      }\n    } catch (error) {\n      console.error('Error parsing M3U:', error);\n      if (error.name === 'AbortError') {\n        throw new Error('Kërkesa për M3U kaloi kohën e pritjes');\n      }\n      throw new Error(`Gabim në leximin e listës M3U: ${error.message}`);\n    }\n  };\n\n  // Funksion helper për llogaritjen e relevance score\n  const calculateSearchScore = useCallback((item, query) => {\n    var _item$name, _item$name2, _item$category, _item$category2;\n    let score = 0;\n\n    // Nëse emri fillon me query, jepni më shumë pikë\n    if ((_item$name = item.name) !== null && _item$name !== void 0 && _item$name.toLowerCase().startsWith(query)) {\n      score += 100;\n    }\n\n    // Pikë për përputhje në emër\n    if ((_item$name2 = item.name) !== null && _item$name2 !== void 0 && _item$name2.toLowerCase().includes(query)) {\n      score += 50;\n    }\n\n    // Pikë për përputhje të saktë në kategori\n    if (((_item$category = item.category) === null || _item$category === void 0 ? void 0 : _item$category.toLowerCase()) === query) {\n      score += 30;\n    }\n\n    // Pikë për përputhje në kategori\n    if ((_item$category2 = item.category) !== null && _item$category2 !== void 0 && _item$category2.toLowerCase().includes(query)) {\n      score += 20;\n    }\n\n    // Pikë shtesë për favorite\n    if (favorites.includes(item.stream_id)) {\n      score += 10;\n    }\n    return score;\n  }, [favorites]);\n\n  // Funksioni për performimin e kërkimit\n  const performSearch = useCallback(query => {\n    if (!query.trim()) {\n      setSearchResults([]);\n      return;\n    }\n    const queryLower = query.toLowerCase();\n    const results = [];\n\n    // Kërkoni në kanale\n    channels.forEach(ch => {\n      const matches = ch.name && ch.name.toLowerCase().includes(queryLower) || ch.category && ch.category.toLowerCase().includes(queryLower);\n      if (matches) {\n        results.push({\n          ...ch,\n          searchScore: calculateSearchScore(ch, queryLower),\n          type: 'channel'\n        });\n      }\n    });\n\n    // Kërkoni në filma\n    movies.forEach(mov => {\n      const matches = mov.name && mov.name.toLowerCase().includes(queryLower) || mov.category && mov.category.toLowerCase().includes(queryLower);\n      if (matches) {\n        results.push({\n          ...mov,\n          searchScore: calculateSearchScore(mov, queryLower),\n          type: 'movie'\n        });\n      }\n    });\n\n    // Kërkoni në seriale\n    series.forEach(ser => {\n      const matches = ser.name && ser.name.toLowerCase().includes(queryLower) || ser.category && ser.category.toLowerCase().includes(queryLower);\n      if (matches) {\n        results.push({\n          ...ser,\n          searchScore: calculateSearchScore(ser, queryLower),\n          type: 'series'\n        });\n      }\n    });\n\n    // Sort by relevance\n    results.sort((a, b) => b.searchScore - a.searchScore);\n    setSearchResults(results);\n  }, [channels, movies, series, calculateSearchScore]);\n  const fetchData = async () => {\n    setLoading(true);\n\n    // Anuloni kërkesën e mëparshme nëse ekziston\n    if (fetchController.current) {\n      fetchController.current.abort();\n    }\n    fetchController.current = new AbortController();\n\n    // Reset data\n    setChannels([]);\n    setMovies([]);\n    setSeries([]);\n    setCurrentStream(null);\n    setCurrentStreamInfo(null);\n    setIsPlaying(false);\n    setCategories([]);\n    setSelectedCategory(\"Të gjitha\");\n    setSearchResults([]);\n    try {\n      // Kontrolloni nëse jeni online\n      if (!navigator.onLine) {\n        throw new Error('Nuk jeni të lidhur në internet');\n      }\n\n      // Pastro cache të vjetër përpara se të ngarkoni të dhëna të reja\n      cleanupOldCache();\n\n      // RRUGËT 1: Xtream Codes API\n      if (server && user && pass) {\n        console.log(\"Duke përdorur Xtream Codes API...\");\n        const signal = fetchController.current.signal;\n        const [live, mov, ser, liveCategories] = await Promise.all([getLive(server, user, pass, {\n          signal\n        }).catch(() => []), getMovies(server, user, pass, {\n          signal\n        }).catch(() => []), getSeries(server, user, pass, {\n          signal\n        }).catch(() => []), getCategories(server, user, pass, {\n          signal\n        }).catch(() => [])]);\n        const categoryMap = {};\n        if (liveCategories && Array.isArray(liveCategories)) {\n          liveCategories.forEach(cat => {\n            if (cat !== null && cat !== void 0 && cat.category_id && cat !== null && cat !== void 0 && cat.category_name) {\n              categoryMap[cat.category_id] = cat.category_name;\n            }\n          });\n        }\n        const uniqueCategoryIds = new Set();\n        const categoryItemCount = {};\n\n        // Process channels - limit to 500\n        const limitedLive = live ? live.slice(0, 500) : [];\n        const limitedMov = mov ? mov.slice(0, 500) : [];\n        const limitedSer = ser ? ser.slice(0, 500) : [];\n        if (limitedLive && Array.isArray(limitedLive)) {\n          limitedLive.forEach(channel => {\n            const categoryId = channel === null || channel === void 0 ? void 0 : channel.category_id;\n            if (categoryId) {\n              uniqueCategoryIds.add(categoryId.toString());\n              if (!categoryItemCount[categoryId]) {\n                categoryItemCount[categoryId] = 0;\n              }\n              categoryItemCount[categoryId]++;\n            }\n          });\n        }\n\n        // Process movies\n        if (limitedMov && Array.isArray(limitedMov)) {\n          limitedMov.forEach(movie => {\n            const categoryId = (movie === null || movie === void 0 ? void 0 : movie.category_id) || (movie === null || movie === void 0 ? void 0 : movie.genre_id);\n            if (categoryId) {\n              uniqueCategoryIds.add(categoryId.toString());\n              if (!categoryItemCount[categoryId]) {\n                categoryItemCount[categoryId] = 0;\n              }\n              categoryItemCount[categoryId]++;\n            }\n          });\n        }\n\n        // Process series\n        if (limitedSer && Array.isArray(limitedSer)) {\n          limitedSer.forEach(seriesItem => {\n            const categoryId = (seriesItem === null || seriesItem === void 0 ? void 0 : seriesItem.category_id) || (seriesItem === null || seriesItem === void 0 ? void 0 : seriesItem.genre_id);\n            if (categoryId) {\n              uniqueCategoryIds.add(categoryId.toString());\n              if (!categoryItemCount[categoryId]) {\n                categoryItemCount[categoryId] = 0;\n              }\n              categoryItemCount[categoryId]++;\n            }\n          });\n        }\n        const categoryNames = Array.from(uniqueCategoryIds).map(id => ({\n          id,\n          name: categoryMap[id] || `Kategoria ${id}`,\n          count: categoryItemCount[id] || 0\n        })).sort((a, b) => b.count - a.count).map(item => item.name);\n        setCategories(categoryNames);\n\n        // Process channels with additional info - optimize logos\n        const channelsWithCategoryNames = (limitedLive || []).map(channel => {\n          var _channel$name, _channel$name2, _channel$name3;\n          return {\n            ...channel,\n            stream_id: channel.stream_id || `channel_${channel.id || Math.random()}`,\n            name: channel.name || 'Unknown Channel',\n            category: channel.category_name || categoryMap[channel.category_id] || `Kategoria ${channel.category_id}`,\n            logo: channel.stream_icon || channel.tvg_logo || channel.logo || `https://ui-avatars.com/api/?name=${encodeURIComponent(channel.name || 'TV')}&background=random&size=128`,\n            is_hd: ((_channel$name = channel.name) === null || _channel$name === void 0 ? void 0 : _channel$name.toLowerCase().includes('hd')) || ((_channel$name2 = channel.name) === null || _channel$name2 === void 0 ? void 0 : _channel$name2.toLowerCase().includes('1080')) || ((_channel$name3 = channel.name) === null || _channel$name3 === void 0 ? void 0 : _channel$name3.toLowerCase().includes('720')) || channel.stream_type === 'hd',\n            added_at: new Date().toISOString()\n          };\n        }).filter(ch => ch.stream_id).map(ch => ({\n          ...ch,\n          logo: ch.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\n        }));\n\n        // Process movies\n        const moviesWithCategoryNames = (limitedMov || []).map(movie => {\n          var _movie$info;\n          return {\n            ...movie,\n            stream_id: movie.stream_id || `movie_${movie.id || Math.random()}`,\n            name: movie.name || 'Unknown Movie',\n            stream_type: 'movie',\n            category: movie.category_name || categoryMap[movie.category_id] || categoryMap[movie.genre_id] || `Kategoria ${movie.category_id || movie.genre_id}`,\n            logo: movie.stream_icon || movie.cover || ((_movie$info = movie.info) === null || _movie$info === void 0 ? void 0 : _movie$info.movie_image) || `https://ui-avatars.com/api/?name=${encodeURIComponent(movie.name || 'Movie')}&background=random&size=128`,\n            added_at: new Date().toISOString()\n          };\n        }).filter(mov => mov.stream_id).map(mov => ({\n          ...mov,\n          logo: mov.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\n        }));\n\n        // Process series\n        const seriesWithCategoryNames = (limitedSer || []).map(seriesItem => {\n          var _seriesItem$info;\n          return {\n            ...seriesItem,\n            stream_id: seriesItem.stream_id || `series_${seriesItem.id || Math.random()}`,\n            name: seriesItem.name || 'Unknown Series',\n            stream_type: 'series',\n            category: seriesItem.category_name || categoryMap[seriesItem.category_id] || categoryMap[seriesItem.genre_id] || `Kategoria ${seriesItem.category_id || seriesItem.genre_id}`,\n            logo: seriesItem.cover || ((_seriesItem$info = seriesItem.info) === null || _seriesItem$info === void 0 ? void 0 : _seriesItem$info.cover) || `https://ui-avatars.com/api/?name=${encodeURIComponent(seriesItem.name || 'Series')}&background=random&size=128`,\n            seasons: seriesItem.seasons || [],\n            added_at: new Date().toISOString()\n          };\n        }).filter(ser => ser.stream_id).map(ser => ({\n          ...ser,\n          logo: ser.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\n        }));\n        setChannels(channelsWithCategoryNames);\n        setMovies(moviesWithCategoryNames);\n        setSeries(seriesWithCategoryNames);\n\n        // Save to cache - optimized version\n        const cacheData = optimizeCacheData({\n          channels: channelsWithCategoryNames,\n          movies: moviesWithCategoryNames,\n          series: seriesWithCategoryNames,\n          categories: categoryNames,\n          timestamp: new Date().toISOString()\n        });\n        try {\n          // Kontrollo madhësinë para ruajtjes\n          const cacheString = JSON.stringify(cacheData);\n          if (cacheString.length > 5 * 1024 * 1024) {\n            var _cacheData$channels, _cacheData$movies, _cacheData$series;\n            // 5MB limit\n            console.warn('Cache data too large, trimming...');\n            // Further reduce data\n            cacheData.channels = ((_cacheData$channels = cacheData.channels) === null || _cacheData$channels === void 0 ? void 0 : _cacheData$channels.slice(0, 300)) || [];\n            cacheData.movies = ((_cacheData$movies = cacheData.movies) === null || _cacheData$movies === void 0 ? void 0 : _cacheData$movies.slice(0, 200)) || [];\n            cacheData.series = ((_cacheData$series = cacheData.series) === null || _cacheData$series === void 0 ? void 0 : _cacheData$series.slice(0, 200)) || [];\n          }\n          localStorage.setItem('iptv_cache', JSON.stringify(cacheData));\n          localStorage.setItem('iptv_cache_timestamp', Date.now().toString());\n          console.log('Cache saved successfully');\n        } catch (storageError) {\n          console.error('Error saving cache to localStorage:', storageError);\n          toast.warning('Të dhënat u ngarkuan, por nuk mund të ruhen për offline përdorim për shkak të hapësirës së kufizuar');\n        }\n        setShowSettingsModal(false);\n        toast.success(`IPTV u ngarkua! ${categoryNames.length} kategori, ${channelsWithCategoryNames.length} kanale, ${moviesWithCategoryNames.length} filma, ${seriesWithCategoryNames.length} seriale`, {\n          autoClose: 4000\n        });\n      }\n      // RRUGËT 2: M3U Playlist\n      else if (m3uUrl) {\n        var _parsedData$categorie;\n        console.log(\"Duke ngarkuar dhe parsë listën M3U...\");\n        const parsedData = await parseM3UPlaylist(m3uUrl);\n        const channelsWithLogos = (parsedData.channels || []).map(channel => ({\n          ...channel,\n          stream_id: channel.stream_id || `m3u_channel_${Math.random()}`,\n          logo: channel.logo || `https://ui-avatars.com/api/?name=${encodeURIComponent(channel.name || 'TV')}&background=random&size=128`\n        })).filter(ch => ch.stream_id).map(ch => ({\n          ...ch,\n          logo: ch.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\n        }));\n        const moviesWithLogos = (parsedData.movies || []).map(movie => ({\n          ...movie,\n          stream_id: movie.stream_id || `m3u_movie_${Math.random()}`,\n          logo: movie.logo || `https://ui-avatars.com/api/?name=${encodeURIComponent(movie.name || 'Movie')}&background=random&size=128`\n        })).filter(mov => mov.stream_id).map(mov => ({\n          ...mov,\n          logo: mov.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\n        }));\n        const seriesWithLogos = (parsedData.series || []).map(seriesItem => ({\n          ...seriesItem,\n          stream_id: seriesItem.stream_id || `m3u_series_${Math.random()}`,\n          logo: seriesItem.logo || `https://ui-avatars.com/api/?name=${encodeURIComponent(seriesItem.name || 'Series')}&background=random&size=128`\n        })).filter(ser => ser.stream_id).map(ser => ({\n          ...ser,\n          logo: ser.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\n        }));\n        setChannels(channelsWithLogos);\n        setMovies(moviesWithLogos);\n        setSeries(seriesWithLogos);\n        setCategories(parsedData.categories || []);\n\n        // Save to cache - optimized version\n        const cacheData = optimizeCacheData({\n          channels: channelsWithLogos,\n          movies: moviesWithLogos,\n          series: seriesWithLogos,\n          categories: parsedData.categories || [],\n          timestamp: new Date().toISOString()\n        });\n        try {\n          localStorage.setItem('iptv_cache', JSON.stringify(cacheData));\n          localStorage.setItem('iptv_cache_timestamp', Date.now().toString());\n        } catch (storageError) {\n          console.error('Error saving cache to localStorage:', storageError);\n          toast.warning('Të dhënat u ngarkuan, por nuk mund të ruhen për offline përdorim për shkak të hapësirës së kufizuar');\n        }\n        setShowSettingsModal(false);\n        toast.success(`Lista M3U u ngarkua! ${channelsWithLogos.length} kanale, ${moviesWithLogos.length} filma, ${seriesWithLogos.length} seriale, ${((_parsedData$categorie = parsedData.categories) === null || _parsedData$categorie === void 0 ? void 0 : _parsedData$categorie.length) || 0} kategori.`, {\n          autoClose: 4000\n        });\n      } else {\n        toast.error(\"Ju lutem plotësoni ose kredencialet Xtream API (Server, User, Pass) ose vendosni një URL M3U.\", {\n          autoClose: 5000\n        });\n      }\n    } catch (error) {\n      console.error(\"Gabim në ngarkimin e të dhënave:\", error);\n      if (error.name === 'AbortError') {\n        toast.error('Kërkesa u anulua ose kaloi kohën e pritjes', {\n          autoClose: 4000\n        });\n      } else if (error.message.includes('internet')) {\n        toast.error('Nuk jeni të lidhur në internet. Kontrolloni lidhjen tuaj.', {\n          autoClose: 4000\n        });\n      } else {\n        toast.error(`Gabim në ngarkim: ${error.message}`, {\n          autoClose: 5000\n        });\n      }\n\n      // Load from cache if available\n      try {\n        const cacheData = localStorage.getItem('iptv_cache');\n        if (cacheData) {\n          const data = JSON.parse(cacheData);\n          setChannels(data.channels || []);\n          setMovies(data.movies || []);\n          setSeries(data.series || []);\n          setCategories(data.categories || []);\n          toast.info('U ngarkuan të dhënat e cache për shkak të gabimit të lidhjes', {\n            autoClose: 3000\n          });\n        }\n      } catch (cacheError) {\n        console.error('Error loading from cache:', cacheError);\n      }\n    } finally {\n      setLoading(false);\n      fetchController.current = null;\n    }\n  };\n  const toggleFavorite = useCallback(id => {\n    if (!id) return;\n    setFavorites(f => {\n      const newFavs = f.includes(id) ? f.filter(x => x !== id) : [...f, id];\n      return newFavs;\n    });\n\n    // Shfaq notification\n    const allItems = [...channels, ...movies, ...series];\n    const item = allItems.find(i => i.stream_id === id);\n    if (item) {\n      const isAdding = !favorites.includes(id);\n      toast[isAdding ? 'success' : 'info'](`${isAdding ? 'U shtua' : 'U hoq'} nga të preferuarat: ${item.name}`, {\n        autoClose: 2000\n      });\n    }\n  }, [channels, movies, series, favorites]);\n  const getItemCategory = useCallback(item => {\n    var _item$category_id;\n    return (item === null || item === void 0 ? void 0 : item.category) || (item === null || item === void 0 ? void 0 : item.category_name) || (item === null || item === void 0 ? void 0 : item.group_title) || (item === null || item === void 0 ? void 0 : (_item$category_id = item.category_id) === null || _item$category_id === void 0 ? void 0 : _item$category_id.toString()) || 'Pa Kategori';\n  }, []);\n  const playStream = useCallback(item => {\n    try {\n      if (!item) {\n        throw new Error(\"Artikulli nuk ekziston\");\n      }\n      let streamUrl = '';\n      if (item.stream_url) {\n        streamUrl = item.stream_url;\n        console.log(\"Stream URL nga M3U:\", streamUrl);\n      } else if (server && user && pass && item.stream_id) {\n        const type = item.stream_type || 'live';\n        streamUrl = buildStream(server, user, pass, type, item.stream_id);\n        console.log(\"Stream URL nga Xtream API:\", streamUrl);\n      } else {\n        throw new Error(\"Nuk ka të dhëna të mjaftueshme për të luajtur stream-in.\");\n      }\n\n      // Kontrolloni nëse stream URL është e vlefshme\n      if (!streamUrl || !streamUrl.trim()) {\n        throw new Error(\"Stream URL është e zbrazët\");\n      }\n\n      // Shtoni timestamp për të parandaluar caching\n      const separator = streamUrl.includes('?') ? '&' : '?';\n      const finalUrl = `${streamUrl}${separator}_t=${Date.now()}`;\n      setCurrentStream(finalUrl);\n      setCurrentStreamInfo(item);\n      setIsPlaying(true);\n\n      // Auto-play nëse setting është enabled\n      if (settings.autoPlay) {\n        setTimeout(() => setIsPlaying(true), 100);\n      }\n      toast.info(`Duke luajtur: ${item.name}`, {\n        autoClose: 2000,\n        icon: '▶️'\n      });\n\n      // Track history - limit size\n      try {\n        const history = JSON.parse(localStorage.getItem('play_history') || '[]');\n        const historyItem = {\n          id: item.stream_id,\n          name: item.name,\n          type: item.stream_type,\n          played_at: new Date().toISOString(),\n          stream_url: finalUrl\n        };\n\n        // Keep last 20 items (reduced from 50)\n        const newHistory = [historyItem, ...history.filter(h => h.id !== item.stream_id)].slice(0, 20);\n        localStorage.setItem('play_history', JSON.stringify(newHistory));\n      } catch (historyError) {\n        console.error('Error saving history:', historyError);\n      }\n    } catch (error) {\n      console.error(\"Gabim në luajtje:\", error);\n      toast.error(`Gabim në luajtje: ${error.message}`);\n    }\n  }, [server, user, pass, settings.autoPlay]);\n  const handleSettingsChange = useCallback((key, value) => {\n    setSettings(prev => ({\n      ...prev,\n      [key]: value\n    }));\n    if (key === 'volume' && currentStream) {\n      toast.info(`Vëllimi u vendos në ${Math.round(value * 100)}%`, {\n        autoClose: 1500\n      });\n    }\n  }, [currentStream]);\n\n  // Filter data based on selected category\n  const favoriteChannels = channels.filter(ch => (ch === null || ch === void 0 ? void 0 : ch.stream_id) && favorites.includes(ch.stream_id));\n  const favoriteMovies = movies.filter(mov => (mov === null || mov === void 0 ? void 0 : mov.stream_id) && favorites.includes(mov.stream_id));\n  const favoriteSeries = series.filter(ser => (ser === null || ser === void 0 ? void 0 : ser.stream_id) && favorites.includes(ser.stream_id));\n  const filteredChannels = selectedCategory === \"Të gjitha\" ? channels : channels.filter(ch => getItemCategory(ch) === selectedCategory);\n  const filteredMovies = selectedCategory === \"Të gjitha\" ? movies : movies.filter(mov => getItemCategory(mov) === selectedCategory);\n  const filteredSeries = selectedCategory === \"Të gjitha\" ? series : series.filter(ser => getItemCategory(ser) === selectedCategory);\n\n  // Calculate statistics\n  const totalItems = channels.length + movies.length + series.length;\n  const hdChannels = channels.filter(ch => ch === null || ch === void 0 ? void 0 : ch.is_hd).length;\n  const totalFavorites = favorites.length;\n\n  // Funksion për të pastruar cache manualisht\n  const handleClearCache = () => {\n    try {\n      localStorage.removeItem('iptv_cache');\n      localStorage.removeItem('iptv_cache_timestamp');\n      setChannels([]);\n      setMovies([]);\n      setSeries([]);\n      setCategories([]);\n      toast.success('Cache u pastrua me sukses!');\n    } catch (error) {\n      toast.error('Gabim në pastrimin e cache');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex min-h-screen ${settings.theme === 'dark' ? 'bg-gray-900 text-white' : 'bg-gray-100 text-gray-900'}`,\n      children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n        position: \"top-right\",\n        autoClose: 3000,\n        theme: settings.theme,\n        pauseOnHover: true,\n        closeOnClick: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1053,\n        columnNumber: 9\n      }, this), showSidebar && (channels.length > 0 || movies.length > 0 || series.length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-64 ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-white'} border-r ${settings.theme === 'dark' ? 'border-gray-700' : 'border-gray-300'} flex-shrink-0 flex flex-col hidden md:flex`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-4 border-b ${settings.theme === 'dark' ? 'border-gray-700' : 'border-gray-300'} flex justify-between items-center`,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold\",\n            children: \"\\uD83D\\uDCC1 Kategorit\\xEB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1065,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSidebar(false),\n            className: `${settings.theme === 'dark' ? 'text-gray-400 hover:text-white' : 'text-gray-600 hover:text-gray-900'} md:hidden`,\n            \"aria-label\": \"Mbyll sidebar\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1066,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-2 mb-2 text-sm font-semibold text-gray-500 uppercase tracking-wider\",\n              children: \"Kategorit\\xEB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `w-full text-left p-3 rounded-lg flex items-center gap-3 transition-all ${selectedCategory === \"Të gjitha\" ? settings.theme === 'dark' ? 'bg-blue-600' : 'bg-blue-500 text-white' : settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n              onClick: () => setSelectedCategory(\"Të gjitha\"),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl\",\n                children: \"\\uD83D\\uDCE6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1087,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex-1 truncate\",\n                children: \"T\\xEB gjitha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1088,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`,\n                children: [\"(\", totalItems, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1089,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1081,\n              columnNumber: 17\n            }, this), categories.map((category, index) => {\n              if (!category) return null;\n              const channelCount = channels.filter(ch => getItemCategory(ch) === category).length;\n              const movieCount = movies.filter(mov => getItemCategory(mov) === category).length;\n              const seriesCount = series.filter(ser => getItemCategory(ser) === category).length;\n              const totalCount = channelCount + movieCount + seriesCount;\n              if (totalCount === 0) return null;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `w-full text-left p-3 rounded-lg flex items-center gap-3 transition-all ${selectedCategory === category ? settings.theme === 'dark' ? 'bg-blue-600' : 'bg-blue-500 text-white' : settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n                onClick: () => setSelectedCategory(category),\n                title: `${category} (${totalCount} artikuj)`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xl\",\n                  children: \"\\uD83D\\uDCC1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1113,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex-1 truncate\",\n                  children: category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1114,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`,\n                  children: [\"(\", totalCount, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1115,\n                  columnNumber: 23\n                }, this)]\n              }, `${category}_${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1105,\n                columnNumber: 21\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1076,\n            columnNumber: 15\n          }, this), favorites.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 pt-4 border-t border-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-2 mb-2 text-sm font-semibold text-yellow-500 uppercase tracking-wider\",\n              children: \"T\\xEB Preferuarat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1125,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `w-full text-left p-3 rounded-lg flex items-center gap-3 transition-all ${activeTab === \"favorites\" ? settings.theme === 'dark' ? 'bg-yellow-600' : 'bg-yellow-500 text-white' : settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n              onClick: () => {\n                setActiveTab(\"favorites\");\n                setSelectedCategory(\"Të gjitha\");\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl\",\n                children: \"\\u2B50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1137,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex-1\",\n                children: \"T\\xEB gjitha t\\xEB preferuarat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1138,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`,\n                children: [\"(\", favorites.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1139,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1128,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `pt-4 border-t ${settings.theme === 'dark' ? 'border-gray-700' : 'border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-2 mb-2 text-sm font-semibold text-gray-500 uppercase tracking-wider\",\n              children: \"Statistikat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1147,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `space-y-2 text-sm ${settings.theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center p-2 rounded hover:bg-gray-700 hover:bg-opacity-30\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\uD83D\\uDCFA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1153,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Kanale:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1154,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1152,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold\",\n                  children: channels.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1156,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1151,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center p-2 rounded hover:bg-gray-700 hover:bg-opacity-30\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\uD83C\\uDFAC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1160,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Filma:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1161,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1159,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold\",\n                  children: movies.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1163,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1158,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center p-2 rounded hover:bg-gray-700 hover:bg-opacity-30\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\uD83D\\uDCFA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1167,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Seriale:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1168,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1166,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold\",\n                  children: series.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1170,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1165,\n                columnNumber: 19\n              }, this), hdChannels > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center p-2 rounded hover:bg-gray-700 hover:bg-opacity-30\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\uD83D\\uDDA5\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1175,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Kanale HD:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1176,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1174,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold text-green-400\",\n                  children: hdChannels\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1178,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1173,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center p-2 rounded hover:bg-gray-700 hover:bg-opacity-30 mt-4 pt-4 border-t border-gray-700 border-opacity-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold\",\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1182,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold text-lg\",\n                  children: totalItems\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1183,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1181,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleClearCache,\n                className: \"w-full mt-4 p-2 rounded-lg bg-red-600 hover:bg-red-500 text-sm text-white\",\n                children: \"\\uD83D\\uDDD1\\uFE0F Pastro Cache\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1187,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1146,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1075,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-4 border-t ${settings.theme === 'dark' ? 'border-gray-700 bg-gray-900' : 'border-gray-300 bg-gray-50'}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSettingsModal(true),\n            className: \"w-full p-3 rounded-lg flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 transition-colors\",\n            children: \"\\u2699\\uFE0F Konfiguro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1198,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1197,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1063,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-auto flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-4 ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-white'} border-b ${settings.theme === 'dark' ? 'border-gray-700' : 'border-gray-300'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [!showSidebar && (channels.length > 0 || movies.length > 0 || series.length > 0) && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowSidebar(true),\n                className: `p-2 rounded-lg ${settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'} md:hidden`,\n                \"aria-label\": \"Hap sidebar\",\n                children: \"\\u2630\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-400\",\n                  children: \"\\uD83D\\uDCFA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1224,\n                  columnNumber: 19\n                }, this), \"IPTV Player\", totalItems > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-normal text-gray-400 ml-2\",\n                  children: [\"(\", totalItems, \" artikuj)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1227,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1223,\n                columnNumber: 17\n              }, this), selectedCategory !== \"Të gjitha\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-3 py-1 rounded-full text-sm font-medium ${settings.theme === 'dark' ? 'bg-blue-900 text-blue-200' : 'bg-blue-100 text-blue-800'} hidden sm:inline-block`,\n                children: selectedCategory\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1233,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowSearchModal(true),\n                className: `p-2 rounded-lg ${settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`,\n                title: \"K\\xEBrko (Ctrl+K)\",\n                children: \"\\uD83D\\uDD0D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1240,\n                columnNumber: 17\n              }, this), favorites.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTab(\"favorites\"),\n                className: `p-2 rounded-lg flex items-center gap-2 ${settings.theme === 'dark' ? 'bg-yellow-700 hover:bg-yellow-600' : 'bg-yellow-100 hover:bg-yellow-200 text-yellow-800'}`,\n                children: [\"\\u2B50 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold hidden sm:inline\",\n                  children: favorites.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1253,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1249,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowSettingsModal(true),\n                className: `p-2 rounded-lg ${settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`,\n                title: \"Settings\",\n                children: \"\\u2699\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1257,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1239,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 13\n          }, this), (channels.length > 0 || movies.length > 0 || series.length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-1 border-b border-gray-700 overflow-x-auto pb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `px-3 py-2 sm:px-4 sm:py-2 whitespace-nowrap rounded-t-lg transition-colors ${activeTab === \"live\" ? settings.theme === 'dark' ? 'bg-gray-700 border-t border-l border-r border-gray-600' : 'bg-gray-200 border-t border-l border-r border-gray-300' : settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n                onClick: () => setActiveTab(\"live\"),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center gap-1 sm:gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"hidden sm:inline\",\n                    children: \"\\uD83D\\uDCFA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1277,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm sm:text-base\",\n                    children: \"Live\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1278,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `text-xs sm:text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`,\n                    children: [\"(\", filteredChannels.length, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1279,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1276,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1270,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `px-3 py-2 sm:px-4 sm:py-2 whitespace-nowrap rounded-t-lg transition-colors ${activeTab === \"movies\" ? settings.theme === 'dark' ? 'bg-gray-700 border-t border-l border-r border-gray-600' : 'bg-gray-200 border-t border-l border-r border-gray-300' : settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n                onClick: () => setActiveTab(\"movies\"),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center gap-1 sm:gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"hidden sm:inline\",\n                    children: \"\\uD83C\\uDFAC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1291,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm sm:text-base\",\n                    children: \"Filma\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1292,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `text-xs sm:text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`,\n                    children: [\"(\", filteredMovies.length, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1293,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1290,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1284,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `px-3 py-2 sm:px-4 sm:py-2 whitespace-nowrap rounded-t-lg transition-colors ${activeTab === \"series\" ? settings.theme === 'dark' ? 'bg-gray-700 border-t border-l border-r border-gray-600' : 'bg-gray-200 border-t border-l border-r border-gray-300' : settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n                onClick: () => setActiveTab(\"series\"),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center gap-1 sm:gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"hidden sm:inline\",\n                    children: \"\\uD83D\\uDCFA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1305,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm sm:text-base\",\n                    children: \"Seriale\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1306,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `text-xs sm:text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`,\n                    children: [\"(\", filteredSeries.length, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1307,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1304,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1298,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1269,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1268,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 p-4 overflow-auto\",\n          children: [currentStream && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 rounded-xl overflow-hidden shadow-2xl\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-black\",\n              children: /*#__PURE__*/_jsxDEV(HlsPlayer, {\n                src: currentStream,\n                isPlaying: isPlaying,\n                volume: settings.volume,\n                quality: settings.quality,\n                className: \"hls-player\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1323,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1322,\n              columnNumber: 17\n            }, this), currentStreamInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row sm:items-center justify-between gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-w-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-bold truncate\",\n                    children: currentStreamInfo.name || 'Unknown'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1335,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap items-center gap-2 mt-1 text-sm text-gray-400\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 rounded bg-gray-700 bg-opacity-50\",\n                      children: currentStreamInfo.stream_type === 'live' ? '📺 Live TV' : currentStreamInfo.stream_type === 'movie' ? '🎬 Film' : '📺 Seriale'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1337,\n                      columnNumber: 27\n                    }, this), currentStreamInfo.category && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 rounded bg-gray-700 bg-opacity-50\",\n                      children: currentStreamInfo.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1342,\n                      columnNumber: 29\n                    }, this), currentStreamInfo.is_hd && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 rounded bg-green-700 bg-opacity-50 text-green-300\",\n                      children: \"HD\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1347,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1336,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1334,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 flex-shrink-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => toggleFavorite(currentStreamInfo.stream_id),\n                    className: `p-2 rounded-lg ${favorites.includes(currentStreamInfo.stream_id) ? 'bg-yellow-600 hover:bg-yellow-500' : settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`,\n                    title: favorites.includes(currentStreamInfo.stream_id) ? \"Hiq nga të preferuarat\" : \"Shto në të preferuarat\",\n                    children: favorites.includes(currentStreamInfo.stream_id) ? '⭐' : '☆'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1355,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setIsPlaying(!isPlaying),\n                    className: \"px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-blue-600 hover:bg-blue-500 flex items-center gap-2\",\n                    children: isPlaying ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"hidden sm:inline\",\n                        children: \"\\u23F8\\uFE0F\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1371,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Pause\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1372,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"hidden sm:inline\",\n                        children: \"\\u25B6\\uFE0F\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1376,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Play\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1377,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1365,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setCurrentStream(null);\n                      setCurrentStreamInfo(null);\n                      setIsPlaying(false);\n                    },\n                    className: \"px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-red-600 hover:bg-red-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"hidden sm:inline\",\n                      children: \"\\u2715 Mbyll\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1390,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"sm:hidden\",\n                      children: \"\\u2715\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1391,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1382,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1354,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1333,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 pt-3 border-t border-gray-700 border-opacity-50\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col sm:flex-row sm:items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm\",\n                      children: \"\\uD83D\\uDD0A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1400,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"range\",\n                      min: \"0\",\n                      max: \"1\",\n                      step: \"0.1\",\n                      value: settings.volume,\n                      onChange: e => handleSettingsChange('volume', parseFloat(e.target.value)),\n                      className: \"w-24 accent-blue-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1401,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm w-10\",\n                      children: [Math.round(settings.volume * 100), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1410,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1399,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      const player = document.querySelector('.hls-player');\n                      if (player) {\n                        if (document.fullscreenElement) {\n                          document.exitFullscreen();\n                        } else {\n                          player.requestFullscreen().catch(err => {\n                            console.error('Error attempting to enable fullscreen:', err);\n                          });\n                        }\n                      }\n                    },\n                    className: \"text-sm px-3 py-1 rounded bg-gray-700 hover:bg-gray-600 self-start\",\n                    children: \"\\uD83D\\uDDA5\\uFE0F Fullscreen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1413,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1398,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1397,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1332,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1321,\n            columnNumber: 15\n          }, this), activeTab === \"live\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-fadeIn\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl sm:text-2xl font-bold flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-400\",\n                  children: \"\\uD83D\\uDCFA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1442,\n                  columnNumber: 21\n                }, this), \"Live TV\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-sm sm:text-lg font-normal ${settings.theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`,\n                  children: selectedCategory === \"Të gjitha\" ? `(${channels.length} total)` : `(${filteredChannels.length} në ${selectedCategory})`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1444,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1441,\n                columnNumber: 19\n              }, this), hdChannels > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium ${settings.theme === 'dark' ? 'bg-green-900 text-green-200' : 'bg-green-100 text-green-800'} hidden sm:inline-block`,\n                children: [\"\\uD83D\\uDDA5\\uFE0F \", hdChannels, \" HD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1452,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1440,\n              columnNumber: 17\n            }, this), filteredChannels.length > 0 ? /*#__PURE__*/_jsxDEV(LiveTVContent, {\n              channels: filteredChannels,\n              playStream: playStream,\n              favorites: favorites,\n              toggleFavorite: toggleFavorite,\n              theme: settings.theme,\n              ImageComponent: ImageWithLazyLoad\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1459,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-16 rounded-xl border-2 border-dashed border-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-6xl mb-4 opacity-50\",\n                children: \"\\uD83D\\uDCFA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1469,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold mb-2\",\n                children: \"Nuk u gjet\\xEBn kanale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1470,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400 mb-6\",\n                children: selectedCategory !== \"Të gjitha\" ? `Nuk ka kanale në kategorinë \"${selectedCategory}\"` : \"Nuk ka kanale të disponueshme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1471,\n                columnNumber: 21\n              }, this), selectedCategory !== \"Të gjitha\" && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedCategory(\"Të gjitha\"),\n                className: \"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500\",\n                children: \"Shiko t\\xEB gjitha kanalet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1477,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1468,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1439,\n            columnNumber: 15\n          }, this), activeTab === \"movies\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-fadeIn\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl sm:text-2xl font-bold flex items-center gap-3 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-400\",\n                children: \"\\uD83C\\uDFAC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1492,\n                columnNumber: 19\n              }, this), \"Filma\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-sm sm:text-lg font-normal ${settings.theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`,\n                children: selectedCategory === \"Të gjitha\" ? `(${movies.length} total)` : `(${filteredMovies.length} në ${selectedCategory})`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1494,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1491,\n              columnNumber: 17\n            }, this), filteredMovies.length > 0 ? /*#__PURE__*/_jsxDEV(MoviesContent, {\n              movies: filteredMovies,\n              favorites: favorites,\n              toggleFavorite: toggleFavorite,\n              playStream: playStream,\n              theme: settings.theme,\n              ImageComponent: ImageWithLazyLoad\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1502,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-16 rounded-xl border-2 border-dashed border-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-6xl mb-4 opacity-50\",\n                children: \"\\uD83C\\uDFAC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1512,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold mb-2\",\n                children: \"Nuk u gjet\\xEBn filma\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1513,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400 mb-6\",\n                children: selectedCategory !== \"Të gjitha\" ? `Nuk ka filma në kategorinë \"${selectedCategory}\"` : \"Nuk ka filma të disponueshme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1514,\n                columnNumber: 21\n              }, this), selectedCategory !== \"Të gjitha\" && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedCategory(\"Të gjitha\"),\n                className: \"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500\",\n                children: \"Shiko t\\xEB gjitha filmat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1520,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1511,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1490,\n            columnNumber: 15\n          }, this), activeTab === \"series\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-fadeIn\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl sm:text-2xl font-bold flex items-center gap-3 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-400\",\n                children: \"\\uD83D\\uDCFA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1535,\n                columnNumber: 19\n              }, this), \"Seriale\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-sm sm:text-lg font-normal ${settings.theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`,\n                children: selectedCategory === \"Të gjitha\" ? `(${series.length} total)` : `(${filteredSeries.length} në ${selectedCategory})`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1537,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1534,\n              columnNumber: 17\n            }, this), filteredSeries.length > 0 ? /*#__PURE__*/_jsxDEV(SeriesContent, {\n              series: filteredSeries,\n              playStream: playStream,\n              favorites: favorites,\n              toggleFavorite: toggleFavorite,\n              theme: settings.theme,\n              ImageComponent: ImageWithLazyLoad\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1545,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-16 rounded-xl border-2 border-dashed border-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-6xl mb-4 opacity-50\",\n                children: \"\\uD83D\\uDCFA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1555,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold mb-2\",\n                children: \"Nuk u gjet\\xEBn seriale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1556,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400 mb-6\",\n                children: selectedCategory !== \"Të gjitha\" ? `Nuk ka seriale në kategorinë \"${selectedCategory}\"` : \"Nuk ka seriale të disponueshme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1557,\n                columnNumber: 21\n              }, this), selectedCategory !== \"Të gjitha\" && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedCategory(\"Të gjitha\"),\n                className: \"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500\",\n                children: \"Shiko t\\xEB gjitha serialet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1563,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1554,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1533,\n            columnNumber: 15\n          }, this), activeTab === \"favorites\" && favorites.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-fadeIn space-y-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row sm:items-center justify-between gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl sm:text-2xl font-bold flex items-center gap-3 text-yellow-400\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u2B50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1579,\n                  columnNumber: 21\n                }, this), \"T\\xEB Preferuarat\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm sm:text-lg font-normal text-yellow-300\",\n                  children: [\"(\", totalFavorites, \" total)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1581,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1578,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedCategory(\"Të gjitha\"),\n                  className: `px-3 py-1 rounded-full text-sm ${selectedCategory === \"Të gjitha\" ? 'bg-yellow-600 text-white' : settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`,\n                  children: \"T\\xEB gjitha\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1587,\n                  columnNumber: 21\n                }, this), categories.slice(0, 3).map((category, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `px-3 py-1 rounded-full text-sm ${selectedCategory === category ? 'bg-yellow-600 text-white' : settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`,\n                  onClick: () => setSelectedCategory(category),\n                  children: category\n                }, `${category}_${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1596,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1586,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1577,\n              columnNumber: 17\n            }, this), favoriteChannels.filter(ch => selectedCategory === \"Të gjitha\" || getItemCategory(ch) === selectedCategory).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg sm:text-xl mb-4 font-semibold flex items-center gap-2 text-yellow-300\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCFA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1612,\n                  columnNumber: 23\n                }, this), \"Kanalet e Preferuara\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm sm:text-base font-normal text-yellow-200\",\n                  children: [\"(\", favoriteChannels.filter(ch => selectedCategory === \"Të gjitha\" || getItemCategory(ch) === selectedCategory).length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1614,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1611,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(LiveTVContent, {\n                channels: favoriteChannels.filter(ch => selectedCategory === \"Të gjitha\" || getItemCategory(ch) === selectedCategory),\n                playStream: playStream,\n                favorites: favorites,\n                toggleFavorite: toggleFavorite,\n                theme: settings.theme,\n                ImageComponent: ImageWithLazyLoad\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1618,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1610,\n              columnNumber: 19\n            }, this), favoriteMovies.filter(mov => selectedCategory === \"Të gjitha\" || getItemCategory(mov) === selectedCategory).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg sm:text-xl mb-4 font-semibold flex items-center gap-2 text-yellow-300\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83C\\uDFAC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1632,\n                  columnNumber: 23\n                }, this), \"Filmat e Preferuar\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm sm:text-base font-normal text-yellow-200\",\n                  children: [\"(\", favoriteMovies.filter(mov => selectedCategory === \"Të gjitha\" || getItemCategory(mov) === selectedCategory).length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1634,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1631,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MoviesContent, {\n                movies: favoriteMovies.filter(mov => selectedCategory === \"Të gjitha\" || getItemCategory(mov) === selectedCategory),\n                favorites: favorites,\n                toggleFavorite: toggleFavorite,\n                playStream: playStream,\n                theme: settings.theme,\n                ImageComponent: ImageWithLazyLoad\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1638,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1630,\n              columnNumber: 19\n            }, this), favoriteSeries.filter(ser => selectedCategory === \"Të gjitha\" || getItemCategory(ser) === selectedCategory).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg sm:text-xl mb-4 font-semibold flex items-center gap-2 text-yellow-300\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCFA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1652,\n                  columnNumber: 23\n                }, this), \"Seriale t\\xEB Preferuara\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm sm:text-base font-normal text-yellow-200\",\n                  children: [\"(\", favoriteSeries.filter(ser => selectedCategory === \"Të gjitha\" || getItemCategory(ser) === selectedCategory).length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1654,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1651,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(SeriesContent, {\n                series: favoriteSeries.filter(ser => selectedCategory === \"Të gjitha\" || getItemCategory(ser) === selectedCategory),\n                playStream: playStream,\n                favorites: favorites,\n                toggleFavorite: toggleFavorite,\n                theme: settings.theme,\n                ImageComponent: ImageWithLazyLoad\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1658,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1650,\n              columnNumber: 19\n            }, this), selectedCategory !== \"Të gjitha\" && favoriteChannels.filter(ch => getItemCategory(ch) === selectedCategory).length === 0 && favoriteMovies.filter(mov => getItemCategory(mov) === selectedCategory).length === 0 && favoriteSeries.filter(ser => getItemCategory(ser) === selectedCategory).length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-6xl mb-4 opacity-50\",\n                children: \"\\u2B50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1674,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold mb-2\",\n                children: \"Nuk ka t\\xEB preferuara n\\xEB k\\xEBt\\xEB kategori\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1675,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400 mb-6\",\n                children: [\"Nuk ka artikuj t\\xEB preferuar n\\xEB kategorin\\xEB \\\"\", selectedCategory, \"\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1676,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedCategory(\"Të gjitha\"),\n                className: \"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-500\",\n                children: \"Shiko t\\xEB gjitha t\\xEB preferuarat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1677,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1673,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1576,\n            columnNumber: 15\n          }, this), !loading && channels.length === 0 && movies.length === 0 && series.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-20 px-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"max-w-2xl mx-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-8xl mb-6 opacity-20 animate-pulse\",\n                children: \"\\uD83D\\uDCFA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1691,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl sm:text-4xl font-bold mb-4\",\n                children: \"Mir\\xEB se vini n\\xEB IPTV Player\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1692,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg sm:text-xl text-gray-400 mb-8\",\n                children: \"Nj\\xEB aplikacion i fuqish\\xEBm p\\xEBr shikimin e TV-s\\xEB Live, Filmave dhe Serialeve\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1693,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `p-6 rounded-xl ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-4xl mb-3\",\n                    children: \"\\uD83D\\uDCE1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1699,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-bold mb-2\",\n                    children: \"Xtream Codes API\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1700,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-400 text-sm\",\n                    children: \"Lidhu me sh\\xEBrbimin tuaj IPTV duke p\\xEBrdorur kredencialet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1701,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1698,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `p-6 rounded-xl ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-4xl mb-3\",\n                    children: \"\\uD83D\\uDCC4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1705,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-bold mb-2\",\n                    children: \"M3U Playlist\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1706,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-400 text-sm\",\n                    children: \"Ngarko list\\xEBn M3U nga URL-ja juaj\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1707,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1704,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `p-6 rounded-xl ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-4xl mb-3\",\n                    children: \"\\u2B50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1711,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-bold mb-2\",\n                    children: \"T\\xEB Preferuarat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1712,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-400 text-sm\",\n                    children: \"Ruani kanalet dhe filmat tuaj t\\xEB preferuar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1713,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1710,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1697,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowSettingsModal(true),\n                className: \"px-8 py-4 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-lg font-bold shadow-lg hover:shadow-xl transition-all\",\n                children: \"\\u2699\\uFE0F Konfiguro IPTV Tani\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1717,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-10 text-sm text-gray-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"P\\xEBr ndihm\\xEB, kontrolloni dokumentacionin ose kontaktoni mb\\xEBshtetjen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1725,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-2\",\n                  children: \"Shkurtesat: Ctrl+K (K\\xEBrko), Space (Play/Pause), Escape (Mbyll)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1726,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1724,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1690,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1689,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1318,\n          columnNumber: 11\n        }, this), (channels.length > 0 || movies.length > 0 || series.length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-4 border-t ${settings.theme === 'dark' ? 'border-gray-800 bg-gray-900' : 'border-gray-200 bg-gray-50'} text-center text-xs sm:text-sm text-gray-500`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"IPTV Player v1.0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1737,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1738,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [totalItems, \" artikuj total\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1739,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1740,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [favorites.length, \" t\\xEB preferuar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1741,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1742,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Lidhur: \", server || m3uUrl ? 'Po' : 'Jo']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1743,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1744,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleClearCache,\n              className: \"text-red-400 hover:text-red-300 text-xs\",\n              children: \"Pastro Cache\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1745,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1736,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1735,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1209,\n        columnNumber: 9\n      }, this), showSettingsModal && /*#__PURE__*/_jsxDEV(SettingsModal, {\n        server: server,\n        user: user,\n        pass: pass,\n        m3uUrl: m3uUrl,\n        settings: settings,\n        onServerChange: setServer,\n        onUserChange: setUser,\n        onPassChange: setPass,\n        onM3uUrlChange: setM3uUrl,\n        onSettingsChange: handleSettingsChange,\n        onFetchData: fetchData,\n        onClose: () => setShowSettingsModal(false),\n        loading: loading,\n        theme: settings.theme,\n        onClearCache: handleClearCache\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1758,\n        columnNumber: 11\n      }, this), showSearchModal && /*#__PURE__*/_jsxDEV(SearchModal, {\n        searchQuery: searchQuery,\n        searchResults: searchResults,\n        onSearchChange: value => {\n          setSearchQuery(value);\n          performSearch(value);\n        },\n        onClose: () => {\n          setShowSearchModal(false);\n          setSearchQuery(\"\");\n          setSearchResults([]);\n        },\n        onPlay: playStream,\n        favorites: favorites,\n        toggleFavorite: toggleFavorite,\n        theme: settings.theme\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1779,\n        columnNumber: 11\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-8 rounded-2xl ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-white'} text-center max-w-md w-full mx-4`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-20 h-20 border-4 border-t-blue-500 border-r-transparent border-b-purple-500 border-l-transparent rounded-full animate-spin mx-auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1803,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-3xl\",\n                children: \"\\uD83D\\uDCFA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1805,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1804,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1802,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mt-6 mb-2\",\n            children: \"Duke ngarkuar...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1808,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400 mb-4\",\n            children: \"Ju lutem prisni nd\\xEBrsa po ngarkohen t\\xEB dh\\xEBnat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1809,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-700 rounded-full h-2 mt-4 overflow-hidden\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-blue-500 to-purple-500 h-full animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1811,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1810,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-400 mt-4\",\n            children: \"Kjo mund t\\xEB zgjas\\xEB disa sekonda n\\xEB var\\xEBsi t\\xEB madh\\xEBsis\\xEB s\\xEB list\\xEBs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1813,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1801,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1800,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1052,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1051,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"NTycJ9xrBKNYYt4eQV7Uk6EOzYA=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"ImageWithLazyLoad\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","LiveTVContent","MoviesContent","SeriesContent","HlsPlayer","SearchModal","SettingsModal","ErrorBoundary","getLive","getMovies","getSeries","getCategories","buildStream","ToastContainer","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","ImageWithLazyLoad","src","alt","className","_s","isVisible","setIsVisible","imgRef","hasError","setHasError","observer","IntersectionObserver","entry","isIntersecting","disconnect","threshold","current","observe","ref","children","loading","onError","e","target","style","display","fileName","_jsxFileName","lineNumber","columnNumber","charAt","_c","optimizeCacheData","data","_optimized$channels","optimized","maxItemsPerCategory","channels","length","slice","movies","series","forEach","channel","logo","includes","replace","checkLocalStorageSize","total","key","localStorage","hasOwnProperty","sizeInMB","console","log","toFixed","error","cleanupOldCache","cacheTimestamp","getItem","cacheAge","Date","now","parseInt","oneDayInMs","removeItem","limitHistorySize","history","JSON","parse","setItem","stringify","App","_s2","server","setServer","user","setUser","pass","setPass","m3uUrl","setM3uUrl","currentStream","setCurrentStream","currentStreamInfo","setCurrentStreamInfo","isPlaying","setIsPlaying","favorites","setFavorites","favs","setChannels","setMovies","setSeries","setLoading","activeTab","setActiveTab","showSettingsModal","setShowSettingsModal","showSearchModal","setShowSearchModal","showSidebar","setShowSidebar","categories","setCategories","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","searchResults","setSearchResults","settings","setSettings","defaultSettings","autoPlay","quality","volume","parseFloat","language","theme","debounceTimer","fetchController","Object","keys","clearTimeout","setTimeout","warning","handleKeyDown","_document$activeEleme","ctrlKey","metaKey","preventDefault","document","activeElement","tagName","player","querySelector","fullscreenElement","exitFullscreen","requestFullscreen","window","addEventListener","removeEventListener","loadCache","cacheData","info","Math","round","autoClose","parseM3UPlaylist","url","startsWith","Error","navigator","onLine","controller","AbortController","timeoutId","abort","response","fetch","signal","ok","status","statusText","m3uContent","text","lines","split","uniqueCategories","Set","currentItem","i","line","trim","substring","commaIndex","indexOf","duration","name","stream_id","random","toString","substr","stream_url","group_title","category","type","stream_type","added_at","toISOString","attrs","match","attr","value","cleanKey","toLowerCase","cleanValue","add","groupLower","streamUrl","baseUrl","lastIndexOf","nameForLogo","encodeURIComponent","push","seasons","_currentItem$name","_currentItem$name2","_currentItem$name3","is_hd","MAX_ITEMS_PER_CATEGORY","limitedChannels","limitedMovies","limitedSeries","uniqueChannels","Array","from","Map","map","ch","values","uniqueMovies","m","uniqueSeries","s","sortedCategories","sort","message","calculateSearchScore","item","query","_item$name","_item$name2","_item$category","_item$category2","score","performSearch","queryLower","results","matches","searchScore","mov","ser","a","b","fetchData","live","liveCategories","Promise","all","catch","categoryMap","isArray","cat","category_id","category_name","uniqueCategoryIds","categoryItemCount","limitedLive","limitedMov","limitedSer","categoryId","movie","genre_id","seriesItem","categoryNames","id","count","channelsWithCategoryNames","_channel$name","_channel$name2","_channel$name3","stream_icon","tvg_logo","filter","moviesWithCategoryNames","_movie$info","cover","movie_image","seriesWithCategoryNames","_seriesItem$info","timestamp","cacheString","_cacheData$channels","_cacheData$movies","_cacheData$series","warn","storageError","success","_parsedData$categorie","parsedData","channelsWithLogos","moviesWithLogos","seriesWithLogos","cacheError","toggleFavorite","f","newFavs","x","allItems","find","isAdding","getItemCategory","_item$category_id","playStream","separator","finalUrl","icon","historyItem","played_at","newHistory","h","historyError","handleSettingsChange","prev","favoriteChannels","favoriteMovies","favoriteSeries","filteredChannels","filteredMovies","filteredSeries","totalItems","hdChannels","totalFavorites","handleClearCache","position","pauseOnHover","closeOnClick","onClick","index","channelCount","movieCount","seriesCount","totalCount","title","min","max","step","onChange","err","ImageComponent","onServerChange","onUserChange","onPassChange","onM3uUrlChange","onSettingsChange","onFetchData","onClose","onClearCache","onSearchChange","onPlay","_c2","$RefreshReg$"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport LiveTVContent from \"./components/LiveTVContent\";\r\nimport MoviesContent from \"./components/MoviesContent\";\r\nimport SeriesContent from \"./components/SeriesContent\";\r\nimport HlsPlayer from \"./components/HlsPlayer\";\r\nimport SearchModal from \"./components/SearchModal\";\r\nimport SettingsModal from \"./components/SettingsModal\";\r\nimport ErrorBoundary from \"./components/ErrorBoundary\";\r\nimport { getLive, getMovies, getSeries, getCategories, buildStream } from \"./services/iptvService\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n// Komponent për imazhet me lazy loading\r\nconst ImageWithLazyLoad = ({ src, alt, className }) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const imgRef = useRef(null);\r\n  const [hasError, setHasError] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          setIsVisible(true);\r\n          observer.disconnect();\r\n        }\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n    \r\n    if (imgRef.current) {\r\n      observer.observe(imgRef.current);\r\n    }\r\n    \r\n    return () => observer.disconnect();\r\n  }, []);\r\n  \r\n  return (\r\n    <div ref={imgRef} className={className}>\r\n      {isVisible && !hasError ? (\r\n        <img \r\n          src={src} \r\n          alt={alt} \r\n          className=\"w-full h-full object-cover\"\r\n          loading=\"lazy\"\r\n          onError={(e) => {\r\n            setHasError(true);\r\n            e.target.style.display = 'none';\r\n          }}\r\n        />\r\n      ) : (\r\n        <div className=\"w-full h-full bg-gray-700 animate-pulse flex items-center justify-center\">\r\n          <span className=\"text-gray-500 text-xl\">\r\n            {alt ? alt.charAt(0) : '?'}\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Funksion për të kontrolluar dhe limituar madhësinë e cache\r\nconst optimizeCacheData = (data) => {\r\n  if (!data) return data;\r\n  \r\n  // Krijo një kopje të të dhënave për të mos ndryshuar originalin\r\n  const optimized = { ...data };\r\n  \r\n  // Limitoni numrin e artikujve për çdo kategori\r\n  const maxItemsPerCategory = 500; // Maximum items per category\r\n  \r\n  if (optimized.channels && optimized.channels.length > maxItemsPerCategory) {\r\n    optimized.channels = optimized.channels.slice(0, maxItemsPerCategory);\r\n  }\r\n  \r\n  if (optimized.movies && optimized.movies.length > maxItemsPerCategory) {\r\n    optimized.movies = optimized.movies.slice(0, maxItemsPerCategory);\r\n  }\r\n  \r\n  if (optimized.series && optimized.series.length > maxItemsPerCategory) {\r\n    optimized.series = optimized.series.slice(0, maxItemsPerCategory);\r\n  }\r\n  \r\n  // Optimizo logot (nëse janë shumë të mëdha)\r\n  optimized.channels?.forEach(channel => {\r\n    if (channel.logo && channel.logo.includes('ui-avatars.com')) {\r\n      // Tashmë është optimizuar\r\n    } else if (channel.logo) {\r\n      // Redukto madhësinë e URL-së së logos nëse është e nevojshme\r\n      channel.logo = channel.logo.replace(/\\/\\d+$/, '/128'); // Forço 128px\r\n    }\r\n  });\r\n  \r\n  return optimized;\r\n};\r\n\r\n// Funksion për të kontrolluar madhësinë e localStorage\r\nconst checkLocalStorageSize = () => {\r\n  try {\r\n    let total = 0;\r\n    for (let key in localStorage) {\r\n      if (localStorage.hasOwnProperty(key)) {\r\n        total += localStorage[key].length * 2; // *2 për UTF-16\r\n      }\r\n    }\r\n    const sizeInMB = total / (1024 * 1024);\r\n    console.log(`LocalStorage size: ${sizeInMB.toFixed(2)} MB`);\r\n    return sizeInMB;\r\n  } catch (e) {\r\n    console.error('Error checking localStorage size:', e);\r\n    return 0;\r\n  }\r\n};\r\n\r\n// Funksion për të pastruar cache të vjetër\r\nconst cleanupOldCache = () => {\r\n  try {\r\n    // Pastro cache të vjetër (më shumë se 1 ditë)\r\n    const cacheTimestamp = localStorage.getItem('iptv_cache_timestamp');\r\n    if (cacheTimestamp) {\r\n      const cacheAge = Date.now() - parseInt(cacheTimestamp);\r\n      const oneDayInMs = 24 * 60 * 60 * 1000;\r\n      \r\n      if (cacheAge > oneDayInMs) {\r\n        localStorage.removeItem('iptv_cache');\r\n        localStorage.removeItem('iptv_cache_timestamp');\r\n        console.log('Old cache cleaned up');\r\n        return true;\r\n      }\r\n    }\r\n  } catch (e) {\r\n    console.error('Error cleaning up old cache:', e);\r\n  }\r\n  return false;\r\n};\r\n\r\n// Funksion për të limituar madhësinë e historisë\r\nconst limitHistorySize = () => {\r\n  try {\r\n    const history = JSON.parse(localStorage.getItem('play_history') || '[]');\r\n    if (history.length > 50) {\r\n      localStorage.setItem('play_history', JSON.stringify(history.slice(0, 50)));\r\n    }\r\n  } catch (e) {\r\n    console.error('Error limiting history size:', e);\r\n  }\r\n};\r\n\r\nfunction App() {\r\n  // Input user - me ruajtje në localStorage\r\n  const [server, setServer] = useState(() => localStorage.getItem(\"server\") || \"\");\r\n  const [user, setUser] = useState(() => localStorage.getItem(\"user\") || \"\");\r\n  const [pass, setPass] = useState(() => localStorage.getItem(\"pass\") || \"\");\r\n  const [m3uUrl, setM3uUrl] = useState(() => localStorage.getItem(\"m3uUrl\") || \"\");\r\n\r\n  // Data dhe playback\r\n  const [currentStream, setCurrentStream] = useState(null);\r\n  const [currentStreamInfo, setCurrentStreamInfo] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [favorites, setFavorites] = useState(() => {\r\n    try {\r\n      const favs = localStorage.getItem(\"favorites\");\r\n      return favs ? JSON.parse(favs) : [];\r\n    } catch {\r\n      return [];\r\n    }\r\n  });\r\n  const [channels, setChannels] = useState([]);\r\n  const [movies, setMovies] = useState([]);\r\n  const [series, setSeries] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"live\");\r\n  \r\n  // Modal dhe sidebar state\r\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\r\n  const [showSearchModal, setShowSearchModal] = useState(false);\r\n  const [showSidebar, setShowSidebar] = useState(true);\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState(\"Të gjitha\");\r\n\r\n  // Search state\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n\r\n  // Settings state\r\n  const [settings, setSettings] = useState(() => {\r\n    const defaultSettings = {\r\n      autoPlay: localStorage.getItem(\"autoPlay\") === \"true\" || false,\r\n      quality: localStorage.getItem(\"quality\") || \"auto\",\r\n      volume: parseFloat(localStorage.getItem(\"volume\")) || 1.0,\r\n      language: localStorage.getItem(\"language\") || \"sq\",\r\n      theme: localStorage.getItem(\"theme\") || \"dark\",\r\n    };\r\n    return defaultSettings;\r\n  });\r\n\r\n  // Ref për debounce dhe kontroll të tjera\r\n  const debounceTimer = useRef(null);\r\n  const fetchController = useRef(null);\r\n\r\n  // Ruaj settings në localStorage\r\n  useEffect(() => {\r\n    Object.keys(settings).forEach(key => {\r\n      try {\r\n        localStorage.setItem(key, settings[key]);\r\n      } catch (e) {\r\n        console.error(`Error saving setting ${key}:`, e);\r\n      }\r\n    });\r\n  }, [settings]);\r\n\r\n  // Ruaj credentials në localStorage me debounce\r\n  useEffect(() => {\r\n    if (debounceTimer.current) clearTimeout(debounceTimer.current);\r\n    \r\n    debounceTimer.current = setTimeout(() => {\r\n      try {\r\n        localStorage.setItem(\"server\", server);\r\n        localStorage.setItem(\"user\", user);\r\n        localStorage.setItem(\"pass\", pass);\r\n        localStorage.setItem(\"m3uUrl\", m3uUrl);\r\n      } catch (e) {\r\n        console.error('Error saving credentials:', e);\r\n        toast.warning('Nuk mund të ruhen të dhënat për shkak të hapësirës së kufizuar');\r\n      }\r\n    }, 500);\r\n  }, [server, user, pass, m3uUrl]);\r\n\r\n  // Ruaj favorite në localStorage\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(\"favorites\", JSON.stringify(favorites));\r\n    } catch (e) {\r\n      console.error('Error saving favorites:', e);\r\n      toast.warning('Nuk mund të ruhen të preferuarat për shkak të hapësirës së kufizuar');\r\n    }\r\n  }, [favorites]);\r\n\r\n  // Keyboard shortcuts\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      // Ctrl/Cmd + K për search\r\n      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\r\n        e.preventDefault();\r\n        setShowSearchModal(true);\r\n      }\r\n      \r\n      // Escape për të mbyllur modalet\r\n      if (e.key === 'Escape') {\r\n        if (showSettingsModal) setShowSettingsModal(false);\r\n        if (showSearchModal) setShowSearchModal(false);\r\n      }\r\n      \r\n      // Space për play/pause\r\n      if (e.key === ' ' && currentStream) {\r\n        e.preventDefault();\r\n        setIsPlaying(!isPlaying);\r\n      }\r\n      \r\n      // F për fullscreen\r\n      if (e.key === 'f' && currentStream && document.activeElement?.tagName !== 'INPUT') {\r\n        e.preventDefault();\r\n        const player = document.querySelector('.hls-player');\r\n        if (player) {\r\n          if (document.fullscreenElement) {\r\n            document.exitFullscreen();\r\n          } else {\r\n            player.requestFullscreen();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [showSettingsModal, showSearchModal, currentStream, isPlaying]);\r\n\r\n  // Load cache në fillim\r\n  useEffect(() => {\r\n    const loadCache = () => {\r\n      try {\r\n        const cacheData = localStorage.getItem('iptv_cache');\r\n        const cacheTimestamp = localStorage.getItem('iptv_cache_timestamp');\r\n        \r\n        if (cacheData && cacheTimestamp) {\r\n          const cacheAge = Date.now() - parseInt(cacheTimestamp);\r\n          // Rifreskoni cache çdo 6 orë (21600000 ms)\r\n          if (cacheAge < 21600000) {\r\n            const data = JSON.parse(cacheData);\r\n            setChannels(data.channels || []);\r\n            setMovies(data.movies || []);\r\n            setSeries(data.series || []);\r\n            setCategories(data.categories || []);\r\n            \r\n            toast.info(`U ngarkuan të dhënat e cache (${Math.round(cacheAge / 60000)} minuta më parë)`, {\r\n              autoClose: 3000,\r\n            });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading cache:', error);\r\n      }\r\n    };\r\n\r\n    loadCache();\r\n    limitHistorySize(); // Limit history size on load\r\n  }, []);\r\n\r\n  // Funksion për parsë M3U playlist\r\n  const parseM3UPlaylist = async (url) => {\r\n    try {\r\n      // Kontrolloni URL\r\n      if (!url || !url.startsWith('http')) {\r\n        throw new Error('URL-ja M3U duhet të fillojë me http:// ose https://');\r\n      }\r\n      \r\n      // Kontrolloni nëse jeni online\r\n      if (!navigator.onLine) {\r\n        throw new Error('Nuk jeni të lidhur në internet');\r\n      }\r\n      \r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 30000);\r\n      \r\n      try {\r\n        const response = await fetch(url, { signal: controller.signal });\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n        }\r\n        \r\n        const m3uContent = await response.text();\r\n        \r\n        // Kontrolloni nëse është M3U file\r\n        if (!m3uContent.includes('#EXTM3U')) {\r\n          throw new Error('Kjo nuk duket të jetë një skedar M3U i vlefshëm');\r\n        }\r\n        \r\n        const lines = m3uContent.split('\\n');\r\n        const channels = [];\r\n        const movies = [];\r\n        const series = [];\r\n        const uniqueCategories = new Set();\r\n        \r\n        let currentItem = null;\r\n        \r\n        for (let i = 0; i < lines.length; i++) {\r\n          const line = lines[i].trim();\r\n          \r\n          if (line.startsWith('#EXTINF:')) {\r\n            const info = line.substring(8);\r\n            const commaIndex = info.indexOf(',');\r\n            const duration = commaIndex > -1 ? info.substring(0, commaIndex) : '0';\r\n            const name = commaIndex > -1 ? info.substring(commaIndex + 1) : info;\r\n            \r\n            currentItem = {\r\n              stream_id: `m3u_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n              name: name.trim(),\r\n              duration: duration,\r\n              stream_url: '',\r\n              group_title: '',\r\n              category: '',\r\n              type: 'live',\r\n              stream_type: 'live',\r\n              logo: '',\r\n              added_at: new Date().toISOString()\r\n            };\r\n            \r\n            // Extract attributes\r\n            const attrs = line.match(/([a-zA-Z0-9_-]+)=(\"[^\"]*\"|[^,]+)/g) || [];\r\n            attrs.forEach(attr => {\r\n              const [key, value] = attr.split('=');\r\n              const cleanKey = key.toLowerCase().replace(/[-_]/g, '');\r\n              const cleanValue = value.replace(/\"/g, '').trim();\r\n              \r\n              switch (cleanKey) {\r\n                case 'grouptitle':\r\n                  currentItem.group_title = cleanValue;\r\n                  currentItem.category = cleanValue;\r\n                  uniqueCategories.add(cleanValue);\r\n                  \r\n                  const groupLower = cleanValue.toLowerCase();\r\n                  if (groupLower.includes('movie') || \r\n                      groupLower.includes('film') ||\r\n                      groupLower.includes('vod')) {\r\n                    currentItem.type = 'movie';\r\n                    currentItem.stream_type = 'movie';\r\n                  } else if (groupLower.includes('series') ||\r\n                            groupLower.includes('serial') ||\r\n                            groupLower.includes('tv show')) {\r\n                    currentItem.type = 'series';\r\n                    currentItem.stream_type = 'series';\r\n                  }\r\n                  break;\r\n                  \r\n                case 'tvglogo':\r\n                  currentItem.logo = cleanValue;\r\n                  break;\r\n                default:\r\n                  // Handle other cases if needed\r\n                  break;\r\n              }\r\n            });\r\n            \r\n          } else if (line && !line.startsWith('#') && currentItem) {\r\n            // This is the stream URL\r\n            let streamUrl = line.trim();\r\n            \r\n            // Kontrolloni nëse URL-ja është relative\r\n            if (!streamUrl.startsWith('http') && !streamUrl.startsWith('rtmp') && !streamUrl.startsWith('rtsp')) {\r\n              if (streamUrl.startsWith('/')) {\r\n                // Nëse ka server URL, bashkëngjiteni atë\r\n                const baseUrl = url.substring(0, url.lastIndexOf('/'));\r\n                streamUrl = `${baseUrl}${streamUrl}`;\r\n              }\r\n            }\r\n            \r\n            currentItem.stream_url = streamUrl;\r\n            \r\n            // Vendosni logo default nëse nuk ka\r\n            if (!currentItem.logo) {\r\n              const nameForLogo = currentItem.name || 'TV';\r\n              currentItem.logo = `https://ui-avatars.com/api/?name=${encodeURIComponent(nameForLogo)}&background=random&size=128`;\r\n            } else {\r\n              // Optimizo logo URL (vendos size 128)\r\n              currentItem.logo = currentItem.logo.replace(/\\/\\d+$/, '/128');\r\n            }\r\n            \r\n            if (currentItem.type === 'movie') {\r\n              movies.push({\r\n                ...currentItem,\r\n                stream_type: 'movie'\r\n              });\r\n            } else if (currentItem.type === 'series') {\r\n              series.push({\r\n                ...currentItem,\r\n                stream_type: 'series',\r\n                seasons: []\r\n              });\r\n            } else {\r\n              channels.push({\r\n                ...currentItem,\r\n                stream_type: 'live',\r\n                is_hd: currentItem.name?.toLowerCase().includes('hd') || \r\n                       currentItem.name?.toLowerCase().includes('1080') ||\r\n                       currentItem.name?.toLowerCase().includes('720')\r\n              });\r\n            }\r\n            \r\n            currentItem = null;\r\n          }\r\n        }\r\n        \r\n        // Limit number of items to avoid storage overflow\r\n        const MAX_ITEMS_PER_CATEGORY = 500;\r\n        \r\n        const limitedChannels = channels.slice(0, MAX_ITEMS_PER_CATEGORY);\r\n        const limitedMovies = movies.slice(0, MAX_ITEMS_PER_CATEGORY);\r\n        const limitedSeries = series.slice(0, MAX_ITEMS_PER_CATEGORY);\r\n        \r\n        // Hiq duplikatet bazuar në stream_url\r\n        const uniqueChannels = Array.from(\r\n          new Map(limitedChannels.map(ch => [ch.stream_url, ch])).values()\r\n        );\r\n        const uniqueMovies = Array.from(\r\n          new Map(limitedMovies.map(m => [m.stream_url, m])).values()\r\n        );\r\n        const uniqueSeries = Array.from(\r\n          new Map(limitedSeries.map(s => [s.stream_url, s])).values()\r\n        );\r\n        \r\n        // Sort categories alphabetically\r\n        const sortedCategories = Array.from(uniqueCategories).sort();\r\n        \r\n        return { \r\n          channels: uniqueChannels, \r\n          movies: uniqueMovies, \r\n          series: uniqueSeries,\r\n          categories: sortedCategories \r\n        };\r\n        \r\n      } finally {\r\n        clearTimeout(timeoutId);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error parsing M3U:', error);\r\n      if (error.name === 'AbortError') {\r\n        throw new Error('Kërkesa për M3U kaloi kohën e pritjes');\r\n      }\r\n      throw new Error(`Gabim në leximin e listës M3U: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // Funksion helper për llogaritjen e relevance score\r\n  const calculateSearchScore = useCallback((item, query) => {\r\n    let score = 0;\r\n    \r\n    // Nëse emri fillon me query, jepni më shumë pikë\r\n    if (item.name?.toLowerCase().startsWith(query)) {\r\n      score += 100;\r\n    }\r\n    \r\n    // Pikë për përputhje në emër\r\n    if (item.name?.toLowerCase().includes(query)) {\r\n      score += 50;\r\n    }\r\n    \r\n    // Pikë për përputhje të saktë në kategori\r\n    if (item.category?.toLowerCase() === query) {\r\n      score += 30;\r\n    }\r\n    \r\n    // Pikë për përputhje në kategori\r\n    if (item.category?.toLowerCase().includes(query)) {\r\n      score += 20;\r\n    }\r\n    \r\n    // Pikë shtesë për favorite\r\n    if (favorites.includes(item.stream_id)) {\r\n      score += 10;\r\n    }\r\n    \r\n    return score;\r\n  }, [favorites]);\r\n\r\n  // Funksioni për performimin e kërkimit\r\n  const performSearch = useCallback((query) => {\r\n    if (!query.trim()) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n    \r\n    const queryLower = query.toLowerCase();\r\n    const results = [];\r\n    \r\n    // Kërkoni në kanale\r\n    channels.forEach(ch => {\r\n      const matches = \r\n        (ch.name && ch.name.toLowerCase().includes(queryLower)) ||\r\n        (ch.category && ch.category.toLowerCase().includes(queryLower));\r\n      \r\n      if (matches) {\r\n        results.push({\r\n          ...ch,\r\n          searchScore: calculateSearchScore(ch, queryLower),\r\n          type: 'channel'\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Kërkoni në filma\r\n    movies.forEach(mov => {\r\n      const matches = \r\n        (mov.name && mov.name.toLowerCase().includes(queryLower)) ||\r\n        (mov.category && mov.category.toLowerCase().includes(queryLower));\r\n      \r\n      if (matches) {\r\n        results.push({\r\n          ...mov,\r\n          searchScore: calculateSearchScore(mov, queryLower),\r\n          type: 'movie'\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Kërkoni në seriale\r\n    series.forEach(ser => {\r\n      const matches = \r\n        (ser.name && ser.name.toLowerCase().includes(queryLower)) ||\r\n        (ser.category && ser.category.toLowerCase().includes(queryLower));\r\n      \r\n      if (matches) {\r\n        results.push({\r\n          ...ser,\r\n          searchScore: calculateSearchScore(ser, queryLower),\r\n          type: 'series'\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Sort by relevance\r\n    results.sort((a, b) => b.searchScore - a.searchScore);\r\n    setSearchResults(results);\r\n  }, [channels, movies, series, calculateSearchScore]);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    \r\n    // Anuloni kërkesën e mëparshme nëse ekziston\r\n    if (fetchController.current) {\r\n      fetchController.current.abort();\r\n    }\r\n    fetchController.current = new AbortController();\r\n    \r\n    // Reset data\r\n    setChannels([]);\r\n    setMovies([]);\r\n    setSeries([]);\r\n    setCurrentStream(null);\r\n    setCurrentStreamInfo(null);\r\n    setIsPlaying(false);\r\n    setCategories([]);\r\n    setSelectedCategory(\"Të gjitha\");\r\n    setSearchResults([]);\r\n    \r\n    try {\r\n      // Kontrolloni nëse jeni online\r\n      if (!navigator.onLine) {\r\n        throw new Error('Nuk jeni të lidhur në internet');\r\n      }\r\n      \r\n      // Pastro cache të vjetër përpara se të ngarkoni të dhëna të reja\r\n      cleanupOldCache();\r\n      \r\n      // RRUGËT 1: Xtream Codes API\r\n      if (server && user && pass) {\r\n        console.log(\"Duke përdorur Xtream Codes API...\");\r\n        \r\n        const signal = fetchController.current.signal;\r\n        \r\n        const [live, mov, ser, liveCategories] = await Promise.all([\r\n          getLive(server, user, pass, { signal }).catch(() => []),\r\n          getMovies(server, user, pass, { signal }).catch(() => []),\r\n          getSeries(server, user, pass, { signal }).catch(() => []),\r\n          getCategories(server, user, pass, { signal }).catch(() => [])\r\n        ]);\r\n        \r\n        const categoryMap = {};\r\n        if (liveCategories && Array.isArray(liveCategories)) {\r\n          liveCategories.forEach(cat => {\r\n            if (cat?.category_id && cat?.category_name) {\r\n              categoryMap[cat.category_id] = cat.category_name;\r\n            }\r\n          });\r\n        }\r\n        \r\n        const uniqueCategoryIds = new Set();\r\n        const categoryItemCount = {};\r\n        \r\n        // Process channels - limit to 500\r\n        const limitedLive = live ? live.slice(0, 500) : [];\r\n        const limitedMov = mov ? mov.slice(0, 500) : [];\r\n        const limitedSer = ser ? ser.slice(0, 500) : [];\r\n        \r\n        if (limitedLive && Array.isArray(limitedLive)) {\r\n          limitedLive.forEach(channel => {\r\n            const categoryId = channel?.category_id;\r\n            if (categoryId) {\r\n              uniqueCategoryIds.add(categoryId.toString());\r\n              \r\n              if (!categoryItemCount[categoryId]) {\r\n                categoryItemCount[categoryId] = 0;\r\n              }\r\n              categoryItemCount[categoryId]++;\r\n            }\r\n          });\r\n        }\r\n        \r\n        // Process movies\r\n        if (limitedMov && Array.isArray(limitedMov)) {\r\n          limitedMov.forEach(movie => {\r\n            const categoryId = movie?.category_id || movie?.genre_id;\r\n            if (categoryId) {\r\n              uniqueCategoryIds.add(categoryId.toString());\r\n              \r\n              if (!categoryItemCount[categoryId]) {\r\n                categoryItemCount[categoryId] = 0;\r\n              }\r\n              categoryItemCount[categoryId]++;\r\n            }\r\n          });\r\n        }\r\n        \r\n        // Process series\r\n        if (limitedSer && Array.isArray(limitedSer)) {\r\n          limitedSer.forEach(seriesItem => {\r\n            const categoryId = seriesItem?.category_id || seriesItem?.genre_id;\r\n            if (categoryId) {\r\n              uniqueCategoryIds.add(categoryId.toString());\r\n              \r\n              if (!categoryItemCount[categoryId]) {\r\n                categoryItemCount[categoryId] = 0;\r\n              }\r\n              categoryItemCount[categoryId]++;\r\n            }\r\n          });\r\n        }\r\n        \r\n        const categoryNames = Array.from(uniqueCategoryIds)\r\n          .map(id => ({\r\n            id,\r\n            name: categoryMap[id] || `Kategoria ${id}`,\r\n            count: categoryItemCount[id] || 0\r\n          }))\r\n          .sort((a, b) => b.count - a.count)\r\n          .map(item => item.name);\r\n        \r\n        setCategories(categoryNames);\r\n        \r\n        // Process channels with additional info - optimize logos\r\n        const channelsWithCategoryNames = (limitedLive || []).map(channel => ({\r\n          ...channel,\r\n          stream_id: channel.stream_id || `channel_${channel.id || Math.random()}`,\r\n          name: channel.name || 'Unknown Channel',\r\n          category: channel.category_name || categoryMap[channel.category_id] || `Kategoria ${channel.category_id}`,\r\n          logo: channel.stream_icon || channel.tvg_logo || channel.logo || \r\n                `https://ui-avatars.com/api/?name=${encodeURIComponent(channel.name || 'TV')}&background=random&size=128`,\r\n          is_hd: channel.name?.toLowerCase().includes('hd') || \r\n                 channel.name?.toLowerCase().includes('1080') ||\r\n                 channel.name?.toLowerCase().includes('720') ||\r\n                 channel.stream_type === 'hd',\r\n          added_at: new Date().toISOString()\r\n        }))\r\n        .filter(ch => ch.stream_id)\r\n        .map(ch => ({\r\n          ...ch,\r\n          logo: ch.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\r\n        }));\r\n        \r\n        // Process movies\r\n        const moviesWithCategoryNames = (limitedMov || []).map(movie => ({\r\n          ...movie,\r\n          stream_id: movie.stream_id || `movie_${movie.id || Math.random()}`,\r\n          name: movie.name || 'Unknown Movie',\r\n          stream_type: 'movie',\r\n          category: movie.category_name || categoryMap[movie.category_id] || categoryMap[movie.genre_id] || `Kategoria ${movie.category_id || movie.genre_id}`,\r\n          logo: movie.stream_icon || movie.cover || movie.info?.movie_image || \r\n                `https://ui-avatars.com/api/?name=${encodeURIComponent(movie.name || 'Movie')}&background=random&size=128`,\r\n          added_at: new Date().toISOString()\r\n        }))\r\n        .filter(mov => mov.stream_id)\r\n        .map(mov => ({\r\n          ...mov,\r\n          logo: mov.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\r\n        }));\r\n        \r\n        // Process series\r\n        const seriesWithCategoryNames = (limitedSer || []).map(seriesItem => ({\r\n          ...seriesItem,\r\n          stream_id: seriesItem.stream_id || `series_${seriesItem.id || Math.random()}`,\r\n          name: seriesItem.name || 'Unknown Series',\r\n          stream_type: 'series',\r\n          category: seriesItem.category_name || categoryMap[seriesItem.category_id] || categoryMap[seriesItem.genre_id] || `Kategoria ${seriesItem.category_id || seriesItem.genre_id}`,\r\n          logo: seriesItem.cover || seriesItem.info?.cover || \r\n                `https://ui-avatars.com/api/?name=${encodeURIComponent(seriesItem.name || 'Series')}&background=random&size=128`,\r\n          seasons: seriesItem.seasons || [],\r\n          added_at: new Date().toISOString()\r\n        }))\r\n        .filter(ser => ser.stream_id)\r\n        .map(ser => ({\r\n          ...ser,\r\n          logo: ser.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\r\n        }));\r\n        \r\n        setChannels(channelsWithCategoryNames);\r\n        setMovies(moviesWithCategoryNames);\r\n        setSeries(seriesWithCategoryNames);\r\n        \r\n        // Save to cache - optimized version\r\n        const cacheData = optimizeCacheData({\r\n          channels: channelsWithCategoryNames,\r\n          movies: moviesWithCategoryNames,\r\n          series: seriesWithCategoryNames,\r\n          categories: categoryNames,\r\n          timestamp: new Date().toISOString()\r\n        });\r\n        \r\n        try {\r\n          // Kontrollo madhësinë para ruajtjes\r\n          const cacheString = JSON.stringify(cacheData);\r\n          if (cacheString.length > 5 * 1024 * 1024) { // 5MB limit\r\n            console.warn('Cache data too large, trimming...');\r\n            // Further reduce data\r\n            cacheData.channels = cacheData.channels?.slice(0, 300) || [];\r\n            cacheData.movies = cacheData.movies?.slice(0, 200) || [];\r\n            cacheData.series = cacheData.series?.slice(0, 200) || [];\r\n          }\r\n          \r\n          localStorage.setItem('iptv_cache', JSON.stringify(cacheData));\r\n          localStorage.setItem('iptv_cache_timestamp', Date.now().toString());\r\n          \r\n          console.log('Cache saved successfully');\r\n        } catch (storageError) {\r\n          console.error('Error saving cache to localStorage:', storageError);\r\n          toast.warning('Të dhënat u ngarkuan, por nuk mund të ruhen për offline përdorim për shkak të hapësirës së kufizuar');\r\n        }\r\n        \r\n        setShowSettingsModal(false);\r\n        toast.success(`IPTV u ngarkua! ${categoryNames.length} kategori, ${channelsWithCategoryNames.length} kanale, ${moviesWithCategoryNames.length} filma, ${seriesWithCategoryNames.length} seriale`, {\r\n          autoClose: 4000,\r\n        });\r\n      }\r\n      // RRUGËT 2: M3U Playlist\r\n      else if (m3uUrl) {\r\n        console.log(\"Duke ngarkuar dhe parsë listën M3U...\");\r\n        \r\n        const parsedData = await parseM3UPlaylist(m3uUrl);\r\n        \r\n        const channelsWithLogos = (parsedData.channels || []).map(channel => ({\r\n          ...channel,\r\n          stream_id: channel.stream_id || `m3u_channel_${Math.random()}`,\r\n          logo: channel.logo || `https://ui-avatars.com/api/?name=${encodeURIComponent(channel.name || 'TV')}&background=random&size=128`\r\n        }))\r\n        .filter(ch => ch.stream_id)\r\n        .map(ch => ({\r\n          ...ch,\r\n          logo: ch.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\r\n        }));\r\n        \r\n        const moviesWithLogos = (parsedData.movies || []).map(movie => ({\r\n          ...movie,\r\n          stream_id: movie.stream_id || `m3u_movie_${Math.random()}`,\r\n          logo: movie.logo || `https://ui-avatars.com/api/?name=${encodeURIComponent(movie.name || 'Movie')}&background=random&size=128`\r\n        }))\r\n        .filter(mov => mov.stream_id)\r\n        .map(mov => ({\r\n          ...mov,\r\n          logo: mov.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\r\n        }));\r\n        \r\n        const seriesWithLogos = (parsedData.series || []).map(seriesItem => ({\r\n          ...seriesItem,\r\n          stream_id: seriesItem.stream_id || `m3u_series_${Math.random()}`,\r\n          logo: seriesItem.logo || `https://ui-avatars.com/api/?name=${encodeURIComponent(seriesItem.name || 'Series')}&background=random&size=128`\r\n        }))\r\n        .filter(ser => ser.stream_id)\r\n        .map(ser => ({\r\n          ...ser,\r\n          logo: ser.logo.replace(/\\/\\d+$/, '/128') // Force 128px size\r\n        }));\r\n        \r\n        setChannels(channelsWithLogos);\r\n        setMovies(moviesWithLogos);\r\n        setSeries(seriesWithLogos);\r\n        setCategories(parsedData.categories || []);\r\n        \r\n        // Save to cache - optimized version\r\n        const cacheData = optimizeCacheData({\r\n          channels: channelsWithLogos,\r\n          movies: moviesWithLogos,\r\n          series: seriesWithLogos,\r\n          categories: parsedData.categories || [],\r\n          timestamp: new Date().toISOString()\r\n        });\r\n        \r\n        try {\r\n          localStorage.setItem('iptv_cache', JSON.stringify(cacheData));\r\n          localStorage.setItem('iptv_cache_timestamp', Date.now().toString());\r\n        } catch (storageError) {\r\n          console.error('Error saving cache to localStorage:', storageError);\r\n          toast.warning('Të dhënat u ngarkuan, por nuk mund të ruhen për offline përdorim për shkak të hapësirës së kufizuar');\r\n        }\r\n        \r\n        setShowSettingsModal(false);\r\n        toast.success(`Lista M3U u ngarkua! ${channelsWithLogos.length} kanale, ${moviesWithLogos.length} filma, ${seriesWithLogos.length} seriale, ${parsedData.categories?.length || 0} kategori.`, {\r\n          autoClose: 4000,\r\n        });\r\n      }\r\n      else {\r\n        toast.error(\"Ju lutem plotësoni ose kredencialet Xtream API (Server, User, Pass) ose vendosni një URL M3U.\", {\r\n          autoClose: 5000,\r\n        });\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error(\"Gabim në ngarkimin e të dhënave:\", error);\r\n      \r\n      if (error.name === 'AbortError') {\r\n        toast.error('Kërkesa u anulua ose kaloi kohën e pritjes', {\r\n          autoClose: 4000,\r\n        });\r\n      } else if (error.message.includes('internet')) {\r\n        toast.error('Nuk jeni të lidhur në internet. Kontrolloni lidhjen tuaj.', {\r\n          autoClose: 4000,\r\n        });\r\n      } else {\r\n        toast.error(`Gabim në ngarkim: ${error.message}`, {\r\n          autoClose: 5000,\r\n        });\r\n      }\r\n      \r\n      // Load from cache if available\r\n      try {\r\n        const cacheData = localStorage.getItem('iptv_cache');\r\n        if (cacheData) {\r\n          const data = JSON.parse(cacheData);\r\n          setChannels(data.channels || []);\r\n          setMovies(data.movies || []);\r\n          setSeries(data.series || []);\r\n          setCategories(data.categories || []);\r\n          toast.info('U ngarkuan të dhënat e cache për shkak të gabimit të lidhjes', {\r\n            autoClose: 3000,\r\n          });\r\n        }\r\n      } catch (cacheError) {\r\n        console.error('Error loading from cache:', cacheError);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n      fetchController.current = null;\r\n    }\r\n  };\r\n\r\n  const toggleFavorite = useCallback((id) => {\r\n    if (!id) return;\r\n    \r\n    setFavorites(f => {\r\n      const newFavs = f.includes(id) \r\n        ? f.filter(x => x !== id) \r\n        : [...f, id];\r\n      return newFavs;\r\n    });\r\n    \r\n    // Shfaq notification\r\n    const allItems = [...channels, ...movies, ...series];\r\n    const item = allItems.find(i => i.stream_id === id);\r\n    if (item) {\r\n      const isAdding = !favorites.includes(id);\r\n      toast[isAdding ? 'success' : 'info'](\r\n        `${isAdding ? 'U shtua' : 'U hoq'} nga të preferuarat: ${item.name}`,\r\n        {\r\n          autoClose: 2000,\r\n        }\r\n      );\r\n    }\r\n  }, [channels, movies, series, favorites]);\r\n\r\n  const getItemCategory = useCallback((item) => {\r\n    return item?.category || item?.category_name || item?.group_title || \r\n           item?.category_id?.toString() || 'Pa Kategori';\r\n  }, []);\r\n\r\n  const playStream = useCallback((item) => {\r\n    try {\r\n      if (!item) {\r\n        throw new Error(\"Artikulli nuk ekziston\");\r\n      }\r\n      \r\n      let streamUrl = '';\r\n      \r\n      if (item.stream_url) {\r\n        streamUrl = item.stream_url;\r\n        console.log(\"Stream URL nga M3U:\", streamUrl);\r\n      }\r\n      else if (server && user && pass && item.stream_id) {\r\n        const type = item.stream_type || 'live';\r\n        streamUrl = buildStream(server, user, pass, type, item.stream_id);\r\n        console.log(\"Stream URL nga Xtream API:\", streamUrl);\r\n      }\r\n      else {\r\n        throw new Error(\"Nuk ka të dhëna të mjaftueshme për të luajtur stream-in.\");\r\n      }\r\n      \r\n      // Kontrolloni nëse stream URL është e vlefshme\r\n      if (!streamUrl || !streamUrl.trim()) {\r\n        throw new Error(\"Stream URL është e zbrazët\");\r\n      }\r\n      \r\n      // Shtoni timestamp për të parandaluar caching\r\n      const separator = streamUrl.includes('?') ? '&' : '?';\r\n      const finalUrl = `${streamUrl}${separator}_t=${Date.now()}`;\r\n      \r\n      setCurrentStream(finalUrl);\r\n      setCurrentStreamInfo(item);\r\n      setIsPlaying(true);\r\n      \r\n      // Auto-play nëse setting është enabled\r\n      if (settings.autoPlay) {\r\n        setTimeout(() => setIsPlaying(true), 100);\r\n      }\r\n      \r\n      toast.info(`Duke luajtur: ${item.name}`, {\r\n        autoClose: 2000,\r\n        icon: '▶️'\r\n      });\r\n      \r\n      // Track history - limit size\r\n      try {\r\n        const history = JSON.parse(localStorage.getItem('play_history') || '[]');\r\n        const historyItem = {\r\n          id: item.stream_id,\r\n          name: item.name,\r\n          type: item.stream_type,\r\n          played_at: new Date().toISOString(),\r\n          stream_url: finalUrl\r\n        };\r\n        \r\n        // Keep last 20 items (reduced from 50)\r\n        const newHistory = [historyItem, ...history.filter(h => h.id !== item.stream_id)].slice(0, 20);\r\n        localStorage.setItem('play_history', JSON.stringify(newHistory));\r\n      } catch (historyError) {\r\n        console.error('Error saving history:', historyError);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error(\"Gabim në luajtje:\", error);\r\n      toast.error(`Gabim në luajtje: ${error.message}`);\r\n    }\r\n  }, [server, user, pass, settings.autoPlay]);\r\n\r\n  const handleSettingsChange = useCallback((key, value) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      [key]: value\r\n    }));\r\n    \r\n    if (key === 'volume' && currentStream) {\r\n      toast.info(`Vëllimi u vendos në ${Math.round(value * 100)}%`, {\r\n        autoClose: 1500,\r\n      });\r\n    }\r\n  }, [currentStream]);\r\n\r\n  // Filter data based on selected category\r\n  const favoriteChannels = channels.filter(ch => ch?.stream_id && favorites.includes(ch.stream_id));\r\n  const favoriteMovies = movies.filter(mov => mov?.stream_id && favorites.includes(mov.stream_id));\r\n  const favoriteSeries = series.filter(ser => ser?.stream_id && favorites.includes(ser.stream_id));\r\n\r\n  const filteredChannels = selectedCategory === \"Të gjitha\" \r\n    ? channels \r\n    : channels.filter(ch => getItemCategory(ch) === selectedCategory);\r\n  \r\n  const filteredMovies = selectedCategory === \"Të gjitha\"\r\n    ? movies\r\n    : movies.filter(mov => getItemCategory(mov) === selectedCategory);\r\n  \r\n  const filteredSeries = selectedCategory === \"Të gjitha\"\r\n    ? series\r\n    : series.filter(ser => getItemCategory(ser) === selectedCategory);\r\n\r\n  // Calculate statistics\r\n  const totalItems = channels.length + movies.length + series.length;\r\n  const hdChannels = channels.filter(ch => ch?.is_hd).length;\r\n  const totalFavorites = favorites.length;\r\n\r\n  // Funksion për të pastruar cache manualisht\r\n  const handleClearCache = () => {\r\n    try {\r\n      localStorage.removeItem('iptv_cache');\r\n      localStorage.removeItem('iptv_cache_timestamp');\r\n      setChannels([]);\r\n      setMovies([]);\r\n      setSeries([]);\r\n      setCategories([]);\r\n      toast.success('Cache u pastrua me sukses!');\r\n    } catch (error) {\r\n      toast.error('Gabim në pastrimin e cache');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <div className={`flex min-h-screen ${settings.theme === 'dark' ? 'bg-gray-900 text-white' : 'bg-gray-100 text-gray-900'}`}>\r\n        <ToastContainer \r\n          position=\"top-right\" \r\n          autoClose={3000}\r\n          theme={settings.theme}\r\n          pauseOnHover\r\n          closeOnClick\r\n        />\r\n        \r\n        {/* Sidebar për kategoritë */}\r\n        {showSidebar && (channels.length > 0 || movies.length > 0 || series.length > 0) && (\r\n          <div className={`w-64 ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-white'} border-r ${settings.theme === 'dark' ? 'border-gray-700' : 'border-gray-300'} flex-shrink-0 flex flex-col hidden md:flex`}>\r\n            <div className={`p-4 border-b ${settings.theme === 'dark' ? 'border-gray-700' : 'border-gray-300'} flex justify-between items-center`}>\r\n              <h2 className=\"text-lg font-bold\">📁 Kategoritë</h2>\r\n              <button\r\n                onClick={() => setShowSidebar(false)}\r\n                className={`${settings.theme === 'dark' ? 'text-gray-400 hover:text-white' : 'text-gray-600 hover:text-gray-900'} md:hidden`}\r\n                aria-label=\"Mbyll sidebar\"\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"flex-1 overflow-y-auto p-4\">\r\n              <div className=\"space-y-2 mb-6\">\r\n                <div className=\"px-2 mb-2 text-sm font-semibold text-gray-500 uppercase tracking-wider\">\r\n                  Kategoritë\r\n                </div>\r\n                \r\n                <button\r\n                  className={`w-full text-left p-3 rounded-lg flex items-center gap-3 transition-all ${selectedCategory === \"Të gjitha\" \r\n                    ? (settings.theme === 'dark' ? 'bg-blue-600' : 'bg-blue-500 text-white') \r\n                    : (settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100')}`}\r\n                  onClick={() => setSelectedCategory(\"Të gjitha\")}\r\n                >\r\n                  <span className=\"text-xl\">📦</span>\r\n                  <span className=\"flex-1 truncate\">Të gjitha</span>\r\n                  <span className={`text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                    ({totalItems})\r\n                  </span>\r\n                </button>\r\n                \r\n                {categories.map((category, index) => {\r\n                  if (!category) return null;\r\n                  \r\n                  const channelCount = channels.filter(ch => getItemCategory(ch) === category).length;\r\n                  const movieCount = movies.filter(mov => getItemCategory(mov) === category).length;\r\n                  const seriesCount = series.filter(ser => getItemCategory(ser) === category).length;\r\n                  const totalCount = channelCount + movieCount + seriesCount;\r\n                  \r\n                  if (totalCount === 0) return null;\r\n                  \r\n                  return (\r\n                    <button\r\n                      key={`${category}_${index}`}\r\n                      className={`w-full text-left p-3 rounded-lg flex items-center gap-3 transition-all ${selectedCategory === category \r\n                        ? (settings.theme === 'dark' ? 'bg-blue-600' : 'bg-blue-500 text-white') \r\n                        : (settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100')}`}\r\n                      onClick={() => setSelectedCategory(category)}\r\n                      title={`${category} (${totalCount} artikuj)`}\r\n                    >\r\n                      <span className=\"text-xl\">📁</span>\r\n                      <span className=\"flex-1 truncate\">{category}</span>\r\n                      <span className={`text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        ({totalCount})\r\n                      </span>\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n              \r\n              {favorites.length > 0 && (\r\n                <div className=\"mb-6 pt-4 border-t border-gray-700\">\r\n                  <div className=\"px-2 mb-2 text-sm font-semibold text-yellow-500 uppercase tracking-wider\">\r\n                    Të Preferuarat\r\n                  </div>\r\n                  <button\r\n                    className={`w-full text-left p-3 rounded-lg flex items-center gap-3 transition-all ${activeTab === \"favorites\" \r\n                      ? (settings.theme === 'dark' ? 'bg-yellow-600' : 'bg-yellow-500 text-white') \r\n                      : (settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100')}`}\r\n                    onClick={() => {\r\n                      setActiveTab(\"favorites\");\r\n                      setSelectedCategory(\"Të gjitha\");\r\n                    }}\r\n                  >\r\n                    <span className=\"text-xl\">⭐</span>\r\n                    <span className=\"flex-1\">Të gjitha të preferuarat</span>\r\n                    <span className={`text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                      ({favorites.length})\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n              )}\r\n              \r\n              <div className={`pt-4 border-t ${settings.theme === 'dark' ? 'border-gray-700' : 'border-gray-300'}`}>\r\n                <div className=\"px-2 mb-2 text-sm font-semibold text-gray-500 uppercase tracking-wider\">\r\n                  Statistikat\r\n                </div>\r\n                <div className={`space-y-2 text-sm ${settings.theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                  <div className=\"flex justify-between items-center p-2 rounded hover:bg-gray-700 hover:bg-opacity-30\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <span>📺</span>\r\n                      <span>Kanale:</span>\r\n                    </span>\r\n                    <span className=\"font-bold\">{channels.length}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center p-2 rounded hover:bg-gray-700 hover:bg-opacity-30\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <span>🎬</span>\r\n                      <span>Filma:</span>\r\n                    </span>\r\n                    <span className=\"font-bold\">{movies.length}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center p-2 rounded hover:bg-gray-700 hover:bg-opacity-30\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <span>📺</span>\r\n                      <span>Seriale:</span>\r\n                    </span>\r\n                    <span className=\"font-bold\">{series.length}</span>\r\n                  </div>\r\n                  {hdChannels > 0 && (\r\n                    <div className=\"flex justify-between items-center p-2 rounded hover:bg-gray-700 hover:bg-opacity-30\">\r\n                      <span className=\"flex items-center gap-2\">\r\n                        <span>🖥️</span>\r\n                        <span>Kanale HD:</span>\r\n                      </span>\r\n                      <span className=\"font-bold text-green-400\">{hdChannels}</span>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex justify-between items-center p-2 rounded hover:bg-gray-700 hover:bg-opacity-30 mt-4 pt-4 border-t border-gray-700 border-opacity-50\">\r\n                    <span className=\"font-bold\">Total:</span>\r\n                    <span className=\"font-bold text-lg\">{totalItems}</span>\r\n                  </div>\r\n                  \r\n                  {/* Button për të pastruar cache */}\r\n                  <button\r\n                    onClick={handleClearCache}\r\n                    className=\"w-full mt-4 p-2 rounded-lg bg-red-600 hover:bg-red-500 text-sm text-white\"\r\n                  >\r\n                    🗑️ Pastro Cache\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className={`p-4 border-t ${settings.theme === 'dark' ? 'border-gray-700 bg-gray-900' : 'border-gray-300 bg-gray-50'}`}>\r\n              <button\r\n                onClick={() => setShowSettingsModal(true)}\r\n                className=\"w-full p-3 rounded-lg flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 transition-colors\"\r\n              >\r\n                ⚙️ Konfiguro\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Main content */}\r\n        <div className=\"flex-1 overflow-auto flex flex-col\">\r\n          {/* Header */}\r\n          <div className={`p-4 ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-white'} border-b ${settings.theme === 'dark' ? 'border-gray-700' : 'border-gray-300'}`}>\r\n            <div className=\"flex justify-between items-center\">\r\n              <div className=\"flex items-center gap-3\">\r\n                {!showSidebar && (channels.length > 0 || movies.length > 0 || series.length > 0) && (\r\n                  <button\r\n                    onClick={() => setShowSidebar(true)}\r\n                    className={`p-2 rounded-lg ${settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'} md:hidden`}\r\n                    aria-label=\"Hap sidebar\"\r\n                  >\r\n                    ☰\r\n                  </button>\r\n                )}\r\n                <h1 className=\"text-2xl font-bold flex items-center gap-2\">\r\n                  <span className=\"text-blue-400\">📺</span>\r\n                  IPTV Player\r\n                  {totalItems > 0 && (\r\n                    <span className=\"text-sm font-normal text-gray-400 ml-2\">\r\n                      ({totalItems} artikuj)\r\n                    </span>\r\n                  )}\r\n                </h1>\r\n                {selectedCategory !== \"Të gjitha\" && (\r\n                  <span className={`px-3 py-1 rounded-full text-sm font-medium ${settings.theme === 'dark' ? 'bg-blue-900 text-blue-200' : 'bg-blue-100 text-blue-800'} hidden sm:inline-block`}>\r\n                    {selectedCategory}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={() => setShowSearchModal(true)}\r\n                  className={`p-2 rounded-lg ${settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`}\r\n                  title=\"Kërko (Ctrl+K)\"\r\n                >\r\n                  🔍\r\n                </button>\r\n                \r\n                {favorites.length > 0 && (\r\n                  <button\r\n                    onClick={() => setActiveTab(\"favorites\")}\r\n                    className={`p-2 rounded-lg flex items-center gap-2 ${settings.theme === 'dark' ? 'bg-yellow-700 hover:bg-yellow-600' : 'bg-yellow-100 hover:bg-yellow-200 text-yellow-800'}`}\r\n                  >\r\n                    ⭐ <span className=\"font-bold hidden sm:inline\">{favorites.length}</span>\r\n                  </button>\r\n                )}\r\n                \r\n                <button\r\n                  onClick={() => setShowSettingsModal(true)}\r\n                  className={`p-2 rounded-lg ${settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`}\r\n                  title=\"Settings\"\r\n                >\r\n                  ⚙️\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            {(channels.length > 0 || movies.length > 0 || series.length > 0) && (\r\n              <div className=\"mt-4\">\r\n                <div className=\"flex gap-1 border-b border-gray-700 overflow-x-auto pb-1\">\r\n                  <button\r\n                    className={`px-3 py-2 sm:px-4 sm:py-2 whitespace-nowrap rounded-t-lg transition-colors ${activeTab === \"live\" \r\n                      ? (settings.theme === 'dark' ? 'bg-gray-700 border-t border-l border-r border-gray-600' : 'bg-gray-200 border-t border-l border-r border-gray-300') \r\n                      : (settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100')}`}\r\n                    onClick={() => setActiveTab(\"live\")}\r\n                  >\r\n                    <span className=\"flex items-center gap-1 sm:gap-2\">\r\n                      <span className=\"hidden sm:inline\">📺</span>\r\n                      <span className=\"text-sm sm:text-base\">Live</span>\r\n                      <span className={`text-xs sm:text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        ({filteredChannels.length})\r\n                      </span>\r\n                    </span>\r\n                  </button>\r\n                  <button\r\n                    className={`px-3 py-2 sm:px-4 sm:py-2 whitespace-nowrap rounded-t-lg transition-colors ${activeTab === \"movies\" \r\n                      ? (settings.theme === 'dark' ? 'bg-gray-700 border-t border-l border-r border-gray-600' : 'bg-gray-200 border-t border-l border-r border-gray-300') \r\n                      : (settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100')}`}\r\n                    onClick={() => setActiveTab(\"movies\")}\r\n                  >\r\n                    <span className=\"flex items-center gap-1 sm:gap-2\">\r\n                      <span className=\"hidden sm:inline\">🎬</span>\r\n                      <span className=\"text-sm sm:text-base\">Filma</span>\r\n                      <span className={`text-xs sm:text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        ({filteredMovies.length})\r\n                      </span>\r\n                    </span>\r\n                  </button>\r\n                  <button\r\n                    className={`px-3 py-2 sm:px-4 sm:py-2 whitespace-nowrap rounded-t-lg transition-colors ${activeTab === \"series\" \r\n                      ? (settings.theme === 'dark' ? 'bg-gray-700 border-t border-l border-r border-gray-600' : 'bg-gray-200 border-t border-l border-r border-gray-300') \r\n                      : (settings.theme === 'dark' ? 'hover:bg-gray-700' : 'hover:bg-gray-100')}`}\r\n                    onClick={() => setActiveTab(\"series\")}\r\n                  >\r\n                    <span className=\"flex items-center gap-1 sm:gap-2\">\r\n                      <span className=\"hidden sm:inline\">📺</span>\r\n                      <span className=\"text-sm sm:text-base\">Seriale</span>\r\n                      <span className={`text-xs sm:text-sm ${settings.theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        ({filteredSeries.length})\r\n                      </span>\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Main Content Area */}\r\n          <div className=\"flex-1 p-4 overflow-auto\">\r\n            {/* Player section */}\r\n            {currentStream && (\r\n              <div className=\"mb-6 rounded-xl overflow-hidden shadow-2xl\">\r\n                <div className=\"bg-black\">\r\n                  <HlsPlayer\r\n                    src={currentStream}\r\n                    isPlaying={isPlaying}\r\n                    volume={settings.volume}\r\n                    quality={settings.quality}\r\n                    className=\"hls-player\"\r\n                  />\r\n                </div>\r\n                {currentStreamInfo && (\r\n                  <div className={`p-4 ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\r\n                    <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3\">\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <h3 className=\"text-lg font-bold truncate\">{currentStreamInfo.name || 'Unknown'}</h3>\r\n                        <div className=\"flex flex-wrap items-center gap-2 mt-1 text-sm text-gray-400\">\r\n                          <span className=\"px-2 py-1 rounded bg-gray-700 bg-opacity-50\">\r\n                            {currentStreamInfo.stream_type === 'live' ? '📺 Live TV' : \r\n                             currentStreamInfo.stream_type === 'movie' ? '🎬 Film' : '📺 Seriale'}\r\n                          </span>\r\n                          {currentStreamInfo.category && (\r\n                            <span className=\"px-2 py-1 rounded bg-gray-700 bg-opacity-50\">\r\n                              {currentStreamInfo.category}\r\n                            </span>\r\n                          )}\r\n                          {currentStreamInfo.is_hd && (\r\n                            <span className=\"px-2 py-1 rounded bg-green-700 bg-opacity-50 text-green-300\">\r\n                              HD\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex gap-2 flex-shrink-0\">\r\n                        <button\r\n                          onClick={() => toggleFavorite(currentStreamInfo.stream_id)}\r\n                          className={`p-2 rounded-lg ${favorites.includes(currentStreamInfo.stream_id) \r\n                            ? 'bg-yellow-600 hover:bg-yellow-500' \r\n                            : (settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300')}`}\r\n                          title={favorites.includes(currentStreamInfo.stream_id) ? \"Hiq nga të preferuarat\" : \"Shto në të preferuarat\"}\r\n                        >\r\n                          {favorites.includes(currentStreamInfo.stream_id) ? '⭐' : '☆'}\r\n                        </button>\r\n                        \r\n                        <button\r\n                          onClick={() => setIsPlaying(!isPlaying)}\r\n                          className=\"px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-blue-600 hover:bg-blue-500 flex items-center gap-2\"\r\n                        >\r\n                          {isPlaying ? (\r\n                            <>\r\n                              <span className=\"hidden sm:inline\">⏸️</span>\r\n                              <span>Pause</span>\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <span className=\"hidden sm:inline\">▶️</span>\r\n                              <span>Play</span>\r\n                            </>\r\n                          )}\r\n                        </button>\r\n                        \r\n                        <button\r\n                          onClick={() => {\r\n                            setCurrentStream(null);\r\n                            setCurrentStreamInfo(null);\r\n                            setIsPlaying(false);\r\n                          }}\r\n                          className=\"px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-red-600 hover:bg-red-500\"\r\n                        >\r\n                          <span className=\"hidden sm:inline\">✕ Mbyll</span>\r\n                          <span className=\"sm:hidden\">✕</span>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* Player controls */}\r\n                    <div className=\"mt-3 pt-3 border-t border-gray-700 border-opacity-50\">\r\n                      <div className=\"flex flex-col sm:flex-row sm:items-center gap-3\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <span className=\"text-sm\">🔊</span>\r\n                          <input\r\n                            type=\"range\"\r\n                            min=\"0\"\r\n                            max=\"1\"\r\n                            step=\"0.1\"\r\n                            value={settings.volume}\r\n                            onChange={(e) => handleSettingsChange('volume', parseFloat(e.target.value))}\r\n                            className=\"w-24 accent-blue-500\"\r\n                          />\r\n                          <span className=\"text-sm w-10\">{Math.round(settings.volume * 100)}%</span>\r\n                        </div>\r\n                        \r\n                        <button\r\n                          onClick={() => {\r\n                            const player = document.querySelector('.hls-player');\r\n                            if (player) {\r\n                              if (document.fullscreenElement) {\r\n                                document.exitFullscreen();\r\n                              } else {\r\n                                player.requestFullscreen().catch(err => {\r\n                                  console.error('Error attempting to enable fullscreen:', err);\r\n                                });\r\n                              }\r\n                            }\r\n                          }}\r\n                          className=\"text-sm px-3 py-1 rounded bg-gray-700 hover:bg-gray-600 self-start\"\r\n                        >\r\n                          🖥️ Fullscreen\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Main content based on active tab */}\r\n            {activeTab === \"live\" && (\r\n              <div className=\"animate-fadeIn\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h2 className=\"text-xl sm:text-2xl font-bold flex items-center gap-3\">\r\n                    <span className=\"text-blue-400\">📺</span>\r\n                    Live TV\r\n                    <span className={`text-sm sm:text-lg font-normal ${settings.theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                      {selectedCategory === \"Të gjitha\" \r\n                        ? `(${channels.length} total)` \r\n                        : `(${filteredChannels.length} në ${selectedCategory})`}\r\n                    </span>\r\n                  </h2>\r\n                  \r\n                  {hdChannels > 0 && (\r\n                    <div className={`px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium ${settings.theme === 'dark' ? 'bg-green-900 text-green-200' : 'bg-green-100 text-green-800'} hidden sm:inline-block`}>\r\n                      🖥️ {hdChannels} HD\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                {filteredChannels.length > 0 ? (\r\n                  <LiveTVContent\r\n                    channels={filteredChannels}\r\n                    playStream={playStream}\r\n                    favorites={favorites}\r\n                    toggleFavorite={toggleFavorite}\r\n                    theme={settings.theme}\r\n                    ImageComponent={ImageWithLazyLoad}\r\n                  />\r\n                ) : (\r\n                  <div className=\"text-center py-16 rounded-xl border-2 border-dashed border-gray-700\">\r\n                    <div className=\"text-6xl mb-4 opacity-50\">📺</div>\r\n                    <h3 className=\"text-xl font-semibold mb-2\">Nuk u gjetën kanale</h3>\r\n                    <p className=\"text-gray-400 mb-6\">\r\n                      {selectedCategory !== \"Të gjitha\" \r\n                        ? `Nuk ka kanale në kategorinë \"${selectedCategory}\"`\r\n                        : \"Nuk ka kanale të disponueshme\"}\r\n                    </p>\r\n                    {selectedCategory !== \"Të gjitha\" && (\r\n                      <button\r\n                        onClick={() => setSelectedCategory(\"Të gjitha\")}\r\n                        className=\"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500\"\r\n                      >\r\n                        Shiko të gjitha kanalet\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === \"movies\" && (\r\n              <div className=\"animate-fadeIn\">\r\n                <h2 className=\"text-xl sm:text-2xl font-bold flex items-center gap-3 mb-6\">\r\n                  <span className=\"text-purple-400\">🎬</span>\r\n                  Filma\r\n                  <span className={`text-sm sm:text-lg font-normal ${settings.theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                    {selectedCategory === \"Të gjitha\" \r\n                      ? `(${movies.length} total)` \r\n                      : `(${filteredMovies.length} në ${selectedCategory})`}\r\n                  </span>\r\n                </h2>\r\n                \r\n                {filteredMovies.length > 0 ? (\r\n                  <MoviesContent\r\n                    movies={filteredMovies}\r\n                    favorites={favorites}\r\n                    toggleFavorite={toggleFavorite}\r\n                    playStream={playStream}\r\n                    theme={settings.theme}\r\n                    ImageComponent={ImageWithLazyLoad}\r\n                  />\r\n                ) : (\r\n                  <div className=\"text-center py-16 rounded-xl border-2 border-dashed border-gray-700\">\r\n                    <div className=\"text-6xl mb-4 opacity-50\">🎬</div>\r\n                    <h3 className=\"text-xl font-semibold mb-2\">Nuk u gjetën filma</h3>\r\n                    <p className=\"text-gray-400 mb-6\">\r\n                      {selectedCategory !== \"Të gjitha\" \r\n                        ? `Nuk ka filma në kategorinë \"${selectedCategory}\"`\r\n                        : \"Nuk ka filma të disponueshme\"}\r\n                    </p>\r\n                    {selectedCategory !== \"Të gjitha\" && (\r\n                      <button\r\n                        onClick={() => setSelectedCategory(\"Të gjitha\")}\r\n                        className=\"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500\"\r\n                      >\r\n                        Shiko të gjitha filmat\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === \"series\" && (\r\n              <div className=\"animate-fadeIn\">\r\n                <h2 className=\"text-xl sm:text-2xl font-bold flex items-center gap-3 mb-6\">\r\n                  <span className=\"text-red-400\">📺</span>\r\n                  Seriale\r\n                  <span className={`text-sm sm:text-lg font-normal ${settings.theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                    {selectedCategory === \"Të gjitha\" \r\n                      ? `(${series.length} total)` \r\n                      : `(${filteredSeries.length} në ${selectedCategory})`}\r\n                  </span>\r\n                </h2>\r\n                \r\n                {filteredSeries.length > 0 ? (\r\n                  <SeriesContent \r\n                    series={filteredSeries} \r\n                    playStream={playStream}\r\n                    favorites={favorites}\r\n                    toggleFavorite={toggleFavorite}\r\n                    theme={settings.theme}\r\n                    ImageComponent={ImageWithLazyLoad}\r\n                  />\r\n                ) : (\r\n                  <div className=\"text-center py-16 rounded-xl border-2 border-dashed border-gray-700\">\r\n                    <div className=\"text-6xl mb-4 opacity-50\">📺</div>\r\n                    <h3 className=\"text-xl font-semibold mb-2\">Nuk u gjetën seriale</h3>\r\n                    <p className=\"text-gray-400 mb-6\">\r\n                      {selectedCategory !== \"Të gjitha\" \r\n                        ? `Nuk ka seriale në kategorinë \"${selectedCategory}\"`\r\n                        : \"Nuk ka seriale të disponueshme\"}\r\n                    </p>\r\n                    {selectedCategory !== \"Të gjitha\" && (\r\n                      <button\r\n                        onClick={() => setSelectedCategory(\"Të gjitha\")}\r\n                        className=\"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500\"\r\n                      >\r\n                        Shiko të gjitha serialet\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === \"favorites\" && favorites.length > 0 && (\r\n              <div className=\"animate-fadeIn space-y-8\">\r\n                <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n                  <h2 className=\"text-xl sm:text-2xl font-bold flex items-center gap-3 text-yellow-400\">\r\n                    <span>⭐</span>\r\n                    Të Preferuarat\r\n                    <span className=\"text-sm sm:text-lg font-normal text-yellow-300\">\r\n                      ({totalFavorites} total)\r\n                    </span>\r\n                  </h2>\r\n                  \r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    <button\r\n                      onClick={() => setSelectedCategory(\"Të gjitha\")}\r\n                      className={`px-3 py-1 rounded-full text-sm ${selectedCategory === \"Të gjitha\" \r\n                        ? 'bg-yellow-600 text-white' \r\n                        : (settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300')}`}\r\n                    >\r\n                      Të gjitha\r\n                    </button>\r\n                    {categories.slice(0, 3).map((category, index) => (\r\n                      <button\r\n                        key={`${category}_${index}`}\r\n                        className={`px-3 py-1 rounded-full text-sm ${selectedCategory === category \r\n                          ? 'bg-yellow-600 text-white' \r\n                          : (settings.theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300')}`}\r\n                        onClick={() => setSelectedCategory(category)}\r\n                      >\r\n                        {category}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                \r\n                {favoriteChannels.filter(ch => selectedCategory === \"Të gjitha\" || getItemCategory(ch) === selectedCategory).length > 0 && (\r\n                  <div>\r\n                    <h3 className=\"text-lg sm:text-xl mb-4 font-semibold flex items-center gap-2 text-yellow-300\">\r\n                      <span>📺</span>\r\n                      Kanalet e Preferuara \r\n                      <span className=\"text-sm sm:text-base font-normal text-yellow-200\">\r\n                        ({favoriteChannels.filter(ch => selectedCategory === \"Të gjitha\" || getItemCategory(ch) === selectedCategory).length})\r\n                      </span>\r\n                    </h3>\r\n                    <LiveTVContent\r\n                      channels={favoriteChannels.filter(ch => selectedCategory === \"Të gjitha\" || getItemCategory(ch) === selectedCategory)}\r\n                      playStream={playStream}\r\n                      favorites={favorites}\r\n                      toggleFavorite={toggleFavorite}\r\n                      theme={settings.theme}\r\n                      ImageComponent={ImageWithLazyLoad}\r\n                    />\r\n                  </div>\r\n                )}\r\n                \r\n                {favoriteMovies.filter(mov => selectedCategory === \"Të gjitha\" || getItemCategory(mov) === selectedCategory).length > 0 && (\r\n                  <div>\r\n                    <h3 className=\"text-lg sm:text-xl mb-4 font-semibold flex items-center gap-2 text-yellow-300\">\r\n                      <span>🎬</span>\r\n                      Filmat e Preferuar \r\n                      <span className=\"text-sm sm:text-base font-normal text-yellow-200\">\r\n                        ({favoriteMovies.filter(mov => selectedCategory === \"Të gjitha\" || getItemCategory(mov) === selectedCategory).length})\r\n                      </span>\r\n                    </h3>\r\n                    <MoviesContent\r\n                      movies={favoriteMovies.filter(mov => selectedCategory === \"Të gjitha\" || getItemCategory(mov) === selectedCategory)}\r\n                      favorites={favorites}\r\n                      toggleFavorite={toggleFavorite}\r\n                      playStream={playStream}\r\n                      theme={settings.theme}\r\n                      ImageComponent={ImageWithLazyLoad}\r\n                    />\r\n                  </div>\r\n                )}\r\n                \r\n                {favoriteSeries.filter(ser => selectedCategory === \"Të gjitha\" || getItemCategory(ser) === selectedCategory).length > 0 && (\r\n                  <div>\r\n                    <h3 className=\"text-lg sm:text-xl mb-4 font-semibold flex items-center gap-2 text-yellow-300\">\r\n                      <span>📺</span>\r\n                      Seriale të Preferuara \r\n                      <span className=\"text-sm sm:text-base font-normal text-yellow-200\">\r\n                        ({favoriteSeries.filter(ser => selectedCategory === \"Të gjitha\" || getItemCategory(ser) === selectedCategory).length})\r\n                      </span>\r\n                    </h3>\r\n                    <SeriesContent \r\n                      series={favoriteSeries.filter(ser => selectedCategory === \"Të gjitha\" || getItemCategory(ser) === selectedCategory)} \r\n                      playStream={playStream}\r\n                      favorites={favorites}\r\n                      toggleFavorite={toggleFavorite}\r\n                      theme={settings.theme}\r\n                      ImageComponent={ImageWithLazyLoad}\r\n                    />\r\n                  </div>\r\n                )}\r\n                \r\n                {selectedCategory !== \"Të gjitha\" && \r\n                 favoriteChannels.filter(ch => getItemCategory(ch) === selectedCategory).length === 0 &&\r\n                 favoriteMovies.filter(mov => getItemCategory(mov) === selectedCategory).length === 0 &&\r\n                 favoriteSeries.filter(ser => getItemCategory(ser) === selectedCategory).length === 0 && (\r\n                  <div className=\"text-center py-12\">\r\n                    <div className=\"text-6xl mb-4 opacity-50\">⭐</div>\r\n                    <h3 className=\"text-xl font-semibold mb-2\">Nuk ka të preferuara në këtë kategori</h3>\r\n                    <p className=\"text-gray-400 mb-6\">Nuk ka artikuj të preferuar në kategorinë \"{selectedCategory}\"</p>\r\n                    <button\r\n                      onClick={() => setSelectedCategory(\"Të gjitha\")}\r\n                      className=\"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-500\"\r\n                    >\r\n                      Shiko të gjitha të preferuarat\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {!loading && channels.length === 0 && movies.length === 0 && series.length === 0 && (\r\n              <div className=\"text-center py-20 px-4\">\r\n                <div className=\"max-w-2xl mx-auto\">\r\n                  <div className=\"text-8xl mb-6 opacity-20 animate-pulse\">📺</div>\r\n                  <h1 className=\"text-3xl sm:text-4xl font-bold mb-4\">Mirë se vini në IPTV Player</h1>\r\n                  <p className=\"text-lg sm:text-xl text-gray-400 mb-8\">\r\n                    Një aplikacion i fuqishëm për shikimin e TV-së Live, Filmave dhe Serialeve\r\n                  </p>\r\n                  \r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10\">\r\n                    <div className={`p-6 rounded-xl ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\r\n                      <div className=\"text-4xl mb-3\">📡</div>\r\n                      <h3 className=\"text-lg font-bold mb-2\">Xtream Codes API</h3>\r\n                      <p className=\"text-gray-400 text-sm\">Lidhu me shërbimin tuaj IPTV duke përdorur kredencialet</p>\r\n                    </div>\r\n                    \r\n                    <div className={`p-6 rounded-xl ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\r\n                      <div className=\"text-4xl mb-3\">📄</div>\r\n                      <h3 className=\"text-lg font-bold mb-2\">M3U Playlist</h3>\r\n                      <p className=\"text-gray-400 text-sm\">Ngarko listën M3U nga URL-ja juaj</p>\r\n                    </div>\r\n                    \r\n                    <div className={`p-6 rounded-xl ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\r\n                      <div className=\"text-4xl mb-3\">⭐</div>\r\n                      <h3 className=\"text-lg font-bold mb-2\">Të Preferuarat</h3>\r\n                      <p className=\"text-gray-400 text-sm\">Ruani kanalet dhe filmat tuaj të preferuar</p>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <button\r\n                    onClick={() => setShowSettingsModal(true)}\r\n                    className=\"px-8 py-4 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-lg font-bold shadow-lg hover:shadow-xl transition-all\"\r\n                  >\r\n                    ⚙️ Konfiguro IPTV Tani\r\n                  </button>\r\n                  \r\n                  <div className=\"mt-10 text-sm text-gray-500\">\r\n                    <p>Për ndihmë, kontrolloni dokumentacionin ose kontaktoni mbështetjen</p>\r\n                    <p className=\"mt-2\">Shkurtesat: Ctrl+K (Kërko), Space (Play/Pause), Escape (Mbyll)</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Footer */}\r\n          {(channels.length > 0 || movies.length > 0 || series.length > 0) && (\r\n            <div className={`p-4 border-t ${settings.theme === 'dark' ? 'border-gray-800 bg-gray-900' : 'border-gray-200 bg-gray-50'} text-center text-xs sm:text-sm text-gray-500`}>\r\n              <div className=\"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4\">\r\n                <span>IPTV Player v1.0</span>\r\n                <span className=\"hidden sm:inline\">•</span>\r\n                <span>{totalItems} artikuj total</span>\r\n                <span className=\"hidden sm:inline\">•</span>\r\n                <span>{favorites.length} të preferuar</span>\r\n                <span className=\"hidden sm:inline\">•</span>\r\n                <span>Lidhur: {server || m3uUrl ? 'Po' : 'Jo'}</span>\r\n                <span className=\"hidden sm:inline\">•</span>\r\n                <button \r\n                  onClick={handleClearCache}\r\n                  className=\"text-red-400 hover:text-red-300 text-xs\"\r\n                >\r\n                  Pastro Cache\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Settings Modal */}\r\n        {showSettingsModal && (\r\n          <SettingsModal\r\n            server={server}\r\n            user={user}\r\n            pass={pass}\r\n            m3uUrl={m3uUrl}\r\n            settings={settings}\r\n            onServerChange={setServer}\r\n            onUserChange={setUser}\r\n            onPassChange={setPass}\r\n            onM3uUrlChange={setM3uUrl}\r\n            onSettingsChange={handleSettingsChange}\r\n            onFetchData={fetchData}\r\n            onClose={() => setShowSettingsModal(false)}\r\n            loading={loading}\r\n            theme={settings.theme}\r\n            onClearCache={handleClearCache}\r\n          />\r\n        )}\r\n\r\n        {/* Search Modal */}\r\n        {showSearchModal && (\r\n          <SearchModal\r\n            searchQuery={searchQuery}\r\n            searchResults={searchResults}\r\n            onSearchChange={(value) => {\r\n              setSearchQuery(value);\r\n              performSearch(value);\r\n            }}\r\n            onClose={() => {\r\n              setShowSearchModal(false);\r\n              setSearchQuery(\"\");\r\n              setSearchResults([]);\r\n            }}\r\n            onPlay={playStream}\r\n            favorites={favorites}\r\n            toggleFavorite={toggleFavorite}\r\n            theme={settings.theme}\r\n          />\r\n        )}\r\n\r\n        {/* Loading Overlay */}\r\n        {loading && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50\">\r\n            <div className={`p-8 rounded-2xl ${settings.theme === 'dark' ? 'bg-gray-800' : 'bg-white'} text-center max-w-md w-full mx-4`}>\r\n              <div className=\"relative\">\r\n                <div className=\"w-20 h-20 border-4 border-t-blue-500 border-r-transparent border-b-purple-500 border-l-transparent rounded-full animate-spin mx-auto\"></div>\r\n                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                  <div className=\"text-3xl\">📺</div>\r\n                </div>\r\n              </div>\r\n              <h3 className=\"text-xl font-bold mt-6 mb-2\">Duke ngarkuar...</h3>\r\n              <p className=\"text-gray-400 mb-4\">Ju lutem prisni ndërsa po ngarkohen të dhënat</p>\r\n              <div className=\"w-full bg-gray-700 rounded-full h-2 mt-4 overflow-hidden\">\r\n                <div className=\"bg-gradient-to-r from-blue-500 to-purple-500 h-full animate-pulse\"></div>\r\n              </div>\r\n              <p className=\"text-sm text-gray-400 mt-4\">\r\n                Kjo mund të zgjasë disa sekonda në varësi të madhësisë së listës\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}