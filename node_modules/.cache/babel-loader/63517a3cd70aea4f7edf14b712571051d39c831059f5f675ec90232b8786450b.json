{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nexport function useLocalStorage(key, initialValue) {\n  _s();\n  // Get from local storage then parse\n  const readValue = () => {\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.warn(`Error reading localStorage key \"${key}\":`, error);\n      return initialValue;\n    }\n  };\n  const [storedValue, setStoredValue] = useState(readValue);\n\n  // Return a wrapped version of useState's setter function that persists the new value to localStorage\n  const setValue = value => {\n    if (typeof window === 'undefined') {\n      console.warn(`Tried setting localStorage key \"${key}\" even though environment is not a client`);\n    }\n    try {\n      const newValue = value instanceof Function ? value(storedValue) : value;\n      window.localStorage.setItem(key, JSON.stringify(newValue));\n      setStoredValue(newValue);\n      window.dispatchEvent(new Event('local-storage'));\n    } catch (error) {\n      console.warn(`Error setting localStorage key \"${key}\":`, error);\n    }\n  };\n  useEffect(() => {\n    setStoredValue(readValue());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    const handleStorageChange = () => {\n      setStoredValue(readValue());\n    };\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('local-storage', handleStorageChange);\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('local-storage', handleStorageChange);\n    };\n  }, []);\n  return [storedValue, setValue];\n}\n_s(useLocalStorage, \"6Shz7slKLf3nxREJ/uW7eN1ycm0=\");\nexport default useLocalStorage;","map":{"version":3,"names":["useState","useEffect","useLocalStorage","key","initialValue","_s","readValue","window","item","localStorage","getItem","JSON","parse","error","console","warn","storedValue","setStoredValue","setValue","value","newValue","Function","setItem","stringify","dispatchEvent","Event","handleStorageChange","addEventListener","removeEventListener"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/hooks/useLocalStorage.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nexport function useLocalStorage(key, initialValue) {\r\n  // Get from local storage then parse\r\n  const readValue = () => {\r\n    if (typeof window === 'undefined') {\r\n      return initialValue;\r\n    }\r\n\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.warn(`Error reading localStorage key \"${key}\":`, error);\r\n      return initialValue;\r\n    }\r\n  };\r\n\r\n  const [storedValue, setStoredValue] = useState(readValue);\r\n\r\n  // Return a wrapped version of useState's setter function that persists the new value to localStorage\r\n  const setValue = (value) => {\r\n    if (typeof window === 'undefined') {\r\n      console.warn(`Tried setting localStorage key \"${key}\" even though environment is not a client`);\r\n    }\r\n\r\n    try {\r\n      const newValue = value instanceof Function ? value(storedValue) : value;\r\n      window.localStorage.setItem(key, JSON.stringify(newValue));\r\n      setStoredValue(newValue);\r\n      window.dispatchEvent(new Event('local-storage'));\r\n    } catch (error) {\r\n      console.warn(`Error setting localStorage key \"${key}\":`, error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStoredValue(readValue());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      setStoredValue(readValue());\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n    window.addEventListener('local-storage', handleStorageChange);\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n      window.removeEventListener('local-storage', handleStorageChange);\r\n    };\r\n  }, []);\r\n\r\n  return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,OAAO,SAASC,eAAeA,CAACC,GAAG,EAAEC,YAAY,EAAE;EAAAC,EAAA;EACjD;EACA,MAAMC,SAAS,GAAGA,CAAA,KAAM;IACtB,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;MACjC,OAAOH,YAAY;IACrB;IAEA,IAAI;MACF,MAAMI,IAAI,GAAGD,MAAM,CAACE,YAAY,CAACC,OAAO,CAACP,GAAG,CAAC;MAC7C,OAAOK,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC,GAAGJ,YAAY;IAC/C,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdC,OAAO,CAACC,IAAI,CAAC,mCAAmCZ,GAAG,IAAI,EAAEU,KAAK,CAAC;MAC/D,OAAOT,YAAY;IACrB;EACF,CAAC;EAED,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAACM,SAAS,CAAC;;EAEzD;EACA,MAAMY,QAAQ,GAAIC,KAAK,IAAK;IAC1B,IAAI,OAAOZ,MAAM,KAAK,WAAW,EAAE;MACjCO,OAAO,CAACC,IAAI,CAAC,mCAAmCZ,GAAG,2CAA2C,CAAC;IACjG;IAEA,IAAI;MACF,MAAMiB,QAAQ,GAAGD,KAAK,YAAYE,QAAQ,GAAGF,KAAK,CAACH,WAAW,CAAC,GAAGG,KAAK;MACvEZ,MAAM,CAACE,YAAY,CAACa,OAAO,CAACnB,GAAG,EAAEQ,IAAI,CAACY,SAAS,CAACH,QAAQ,CAAC,CAAC;MAC1DH,cAAc,CAACG,QAAQ,CAAC;MACxBb,MAAM,CAACiB,aAAa,CAAC,IAAIC,KAAK,CAAC,eAAe,CAAC,CAAC;IAClD,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACdC,OAAO,CAACC,IAAI,CAAC,mCAAmCZ,GAAG,IAAI,EAAEU,KAAK,CAAC;IACjE;EACF,CAAC;EAEDZ,SAAS,CAAC,MAAM;IACdgB,cAAc,CAACX,SAAS,CAAC,CAAC,CAAC;IAC3B;EACF,CAAC,EAAE,EAAE,CAAC;EAENL,SAAS,CAAC,MAAM;IACd,MAAMyB,mBAAmB,GAAGA,CAAA,KAAM;MAChCT,cAAc,CAACX,SAAS,CAAC,CAAC,CAAC;IAC7B,CAAC;IAEDC,MAAM,CAACoB,gBAAgB,CAAC,SAAS,EAAED,mBAAmB,CAAC;IACvDnB,MAAM,CAACoB,gBAAgB,CAAC,eAAe,EAAED,mBAAmB,CAAC;IAE7D,OAAO,MAAM;MACXnB,MAAM,CAACqB,mBAAmB,CAAC,SAAS,EAAEF,mBAAmB,CAAC;MAC1DnB,MAAM,CAACqB,mBAAmB,CAAC,eAAe,EAAEF,mBAAmB,CAAC;IAClE,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,CAACV,WAAW,EAAEE,QAAQ,CAAC;AAChC;AAACb,EAAA,CAtDeH,eAAe;AAwD/B,eAAeA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}