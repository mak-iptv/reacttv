{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nexport function useLocalStorage(key, initialValue) {\n  _s();\n  const readValue = useCallback(() => {\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.warn(`Error reading localStorage key \"${key}\":`, error);\n      return initialValue;\n    }\n  }, [key, initialValue]);\n  const [storedValue, setStoredValue] = useState(readValue);\n  const setValue = useCallback(value => {\n    if (typeof window === 'undefined') {\n      console.warn(`Tried setting localStorage key \"${key}\" even though environment is not a client`);\n    }\n    try {\n      const newValue = value instanceof Function ? value(storedValue) : value;\n      window.localStorage.setItem(key, JSON.stringify(newValue));\n      setStoredValue(newValue);\n      window.dispatchEvent(new Event('local-storage'));\n    } catch (error) {\n      console.warn(`Error setting localStorage key \"${key}\":`, error);\n    }\n  }, [key, storedValue]);\n  useEffect(() => {\n    setStoredValue(readValue());\n  }, [readValue]);\n  useEffect(() => {\n    const handleStorageChange = () => {\n      setStoredValue(readValue());\n    };\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('local-storage', handleStorageChange);\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('local-storage', handleStorageChange);\n    };\n  }, [readValue]);\n  return [storedValue, setValue];\n}\n_s(useLocalStorage, \"8LbdEgOHDG1s0wWC9xbol9hlvRM=\");\nexport default useLocalStorage;","map":{"version":3,"names":["useState","useEffect","useCallback","useLocalStorage","key","initialValue","_s","readValue","window","item","localStorage","getItem","JSON","parse","error","console","warn","storedValue","setStoredValue","setValue","value","newValue","Function","setItem","stringify","dispatchEvent","Event","handleStorageChange","addEventListener","removeEventListener"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/hooks/useLocalStorage.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\n\r\nexport function useLocalStorage(key, initialValue) {\r\n  const readValue = useCallback(() => {\r\n    if (typeof window === 'undefined') {\r\n      return initialValue;\r\n    }\r\n\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.warn(`Error reading localStorage key \"${key}\":`, error);\r\n      return initialValue;\r\n    }\r\n  }, [key, initialValue]);\r\n\r\n  const [storedValue, setStoredValue] = useState(readValue);\r\n\r\n  const setValue = useCallback((value) => {\r\n    if (typeof window === 'undefined') {\r\n      console.warn(`Tried setting localStorage key \"${key}\" even though environment is not a client`);\r\n    }\r\n\r\n    try {\r\n      const newValue = value instanceof Function ? value(storedValue) : value;\r\n      window.localStorage.setItem(key, JSON.stringify(newValue));\r\n      setStoredValue(newValue);\r\n      window.dispatchEvent(new Event('local-storage'));\r\n    } catch (error) {\r\n      console.warn(`Error setting localStorage key \"${key}\":`, error);\r\n    }\r\n  }, [key, storedValue]);\r\n\r\n  useEffect(() => {\r\n    setStoredValue(readValue());\r\n  }, [readValue]);\r\n\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      setStoredValue(readValue());\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n    window.addEventListener('local-storage', handleStorageChange);\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n      window.removeEventListener('local-storage', handleStorageChange);\r\n    };\r\n  }, [readValue]);\r\n\r\n  return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAExD,OAAO,SAASC,eAAeA,CAACC,GAAG,EAAEC,YAAY,EAAE;EAAAC,EAAA;EACjD,MAAMC,SAAS,GAAGL,WAAW,CAAC,MAAM;IAClC,IAAI,OAAOM,MAAM,KAAK,WAAW,EAAE;MACjC,OAAOH,YAAY;IACrB;IAEA,IAAI;MACF,MAAMI,IAAI,GAAGD,MAAM,CAACE,YAAY,CAACC,OAAO,CAACP,GAAG,CAAC;MAC7C,OAAOK,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC,GAAGJ,YAAY;IAC/C,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdC,OAAO,CAACC,IAAI,CAAC,mCAAmCZ,GAAG,IAAI,EAAEU,KAAK,CAAC;MAC/D,OAAOT,YAAY;IACrB;EACF,CAAC,EAAE,CAACD,GAAG,EAAEC,YAAY,CAAC,CAAC;EAEvB,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGlB,QAAQ,CAACO,SAAS,CAAC;EAEzD,MAAMY,QAAQ,GAAGjB,WAAW,CAAEkB,KAAK,IAAK;IACtC,IAAI,OAAOZ,MAAM,KAAK,WAAW,EAAE;MACjCO,OAAO,CAACC,IAAI,CAAC,mCAAmCZ,GAAG,2CAA2C,CAAC;IACjG;IAEA,IAAI;MACF,MAAMiB,QAAQ,GAAGD,KAAK,YAAYE,QAAQ,GAAGF,KAAK,CAACH,WAAW,CAAC,GAAGG,KAAK;MACvEZ,MAAM,CAACE,YAAY,CAACa,OAAO,CAACnB,GAAG,EAAEQ,IAAI,CAACY,SAAS,CAACH,QAAQ,CAAC,CAAC;MAC1DH,cAAc,CAACG,QAAQ,CAAC;MACxBb,MAAM,CAACiB,aAAa,CAAC,IAAIC,KAAK,CAAC,eAAe,CAAC,CAAC;IAClD,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACdC,OAAO,CAACC,IAAI,CAAC,mCAAmCZ,GAAG,IAAI,EAAEU,KAAK,CAAC;IACjE;EACF,CAAC,EAAE,CAACV,GAAG,EAAEa,WAAW,CAAC,CAAC;EAEtBhB,SAAS,CAAC,MAAM;IACdiB,cAAc,CAACX,SAAS,CAAC,CAAC,CAAC;EAC7B,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEfN,SAAS,CAAC,MAAM;IACd,MAAM0B,mBAAmB,GAAGA,CAAA,KAAM;MAChCT,cAAc,CAACX,SAAS,CAAC,CAAC,CAAC;IAC7B,CAAC;IAEDC,MAAM,CAACoB,gBAAgB,CAAC,SAAS,EAAED,mBAAmB,CAAC;IACvDnB,MAAM,CAACoB,gBAAgB,CAAC,eAAe,EAAED,mBAAmB,CAAC;IAE7D,OAAO,MAAM;MACXnB,MAAM,CAACqB,mBAAmB,CAAC,SAAS,EAAEF,mBAAmB,CAAC;MAC1DnB,MAAM,CAACqB,mBAAmB,CAAC,eAAe,EAAEF,mBAAmB,CAAC;IAClE,CAAC;EACH,CAAC,EAAE,CAACpB,SAAS,CAAC,CAAC;EAEf,OAAO,CAACU,WAAW,EAAEE,QAAQ,CAAC;AAChC;AAACb,EAAA,CAnDeH,eAAe;AAqD/B,eAAeA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}