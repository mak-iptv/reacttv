{"ast":null,"code":"// services/xtream.js - VERSIONI ME CORS PROXY Q√ã PUNON\n\n/**\r\n * Nderto URL-n√´ e Xtream API\r\n */\nconst buildUrl = (server, user, pass, action = '') => {\n  let baseUrl = server.trim();\n  if (baseUrl.endsWith('/')) {\n    baseUrl = baseUrl.slice(0, -1);\n  }\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\n    baseUrl = 'http://' + baseUrl;\n  }\n  if (action) {\n    return `${baseUrl}/player_api.php?username=${user}&password=${pass}&action=${action}`;\n  } else {\n    return `${baseUrl}/player_api.php?username=${user}&password=${pass}`;\n  }\n};\n\n/**\r\n * Fetch me CORSProxy.io - KY PUNON\r\n */\nconst fetchWithCORSProxy = async url => {\n  var _lastError;\n  // Provo disa proxy derisa nj√´ri t√´ funksionoj√´\n  const proxies = [`https://corsproxy.io/?${encodeURIComponent(url)}`, `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(url)}`, `https://proxy.cors.sh/${url}`, `https://cors-anywhere.herokuapp.com/${url}`];\n  let lastError = null;\n  for (const proxyUrl of proxies) {\n    try {\n      console.log('üîÑ Trying proxy:', proxyUrl);\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000);\n      const response = await fetch(proxyUrl, {\n        signal: controller.signal,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      clearTimeout(timeoutId);\n      if (response.ok) {\n        const text = await response.text();\n        console.log('‚úÖ Proxy success, response length:', text.length);\n\n        // AllOrigins kthen JSON me { contents: ... }\n        if (proxyUrl.includes('allorigins')) {\n          try {\n            const wrapped = JSON.parse(text);\n            if (wrapped.contents) {\n              return JSON.parse(wrapped.contents);\n            }\n          } catch (e) {\n            // Ignore\n          }\n        }\n\n        // Provo t√´ parse-oj JSON direkt\n        try {\n          return JSON.parse(text);\n        } catch (e) {\n          // N√´se nuk √´sht√´ JSON, ktheje text-in\n          return text;\n        }\n      }\n    } catch (err) {\n      console.log('‚ùå Proxy failed:', proxyUrl, err.message);\n      lastError = err;\n      continue;\n    }\n  }\n  throw new Error(((_lastError = lastError) === null || _lastError === void 0 ? void 0 : _lastError.message) || 'T√´ gjitha proxy-t d√´shtuan');\n};\n\n/**\r\n * LOGIN\r\n */\nexport const xtreamLogin = async (server, user, pass) => {\n  try {\n    // Provo fillimisht me HTTP\n    let url = buildUrl(server, user, pass, '');\n    console.log('üîë Login URL:', url);\n    let data;\n    try {\n      data = await fetchWithCORSProxy(url);\n    } catch (err) {\n      // N√´se d√´shton me HTTP, provo me HTTPS\n      if (url.startsWith('http://')) {\n        const httpsUrl = url.replace('http://', 'https://');\n        console.log('üîë Retrying with HTTPS:', httpsUrl);\n        data = await fetchWithCORSProxy(httpsUrl);\n      } else {\n        throw err;\n      }\n    }\n    console.log('üîë Login response:', data);\n\n    // Kontrollo formate t√´ ndryshme t√´ p√´rgjigjes\n    if (data) {\n      // Formati 1: { user_info: { auth: 1 } }\n      if (data.user_info) {\n        if (data.user_info.auth === 1 || data.user_info.status === 'Active') {\n          return {\n            success: true,\n            data: data.user_info,\n            server: server\n          };\n        }\n      }\n\n      // Formati 2: { auth: 1 }\n      if (data.auth === 1) {\n        return {\n          success: true,\n          data: data,\n          server: server\n        };\n      }\n    }\n    return {\n      success: false,\n      error: 'Kredencialet e gabuara'\n    };\n  } catch (error) {\n    console.error('‚ùå Login error:', error);\n    return {\n      success: false,\n      error: 'Nuk u lidh me serverin. Kontrollo URL-n√´ ose provo nj√´ server tjet√´r.'\n    };\n  }\n};\n\n/**\r\n * LIVE STREAMS\r\n */\nexport const getLiveStreams = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_live_streams');\n    console.log('üì∫ Live URL:', url);\n    const data = await fetchWithCORSProxy(url);\n    if (!data) return [];\n\n    // N√´se data √´sht√´ array, ktheje direkt\n    if (Array.isArray(data)) {\n      return data.map(channel => ({\n        id: channel.stream_id,\n        stream_id: channel.stream_id,\n        name: channel.name || 'Pa em√´r',\n        title: channel.name || 'Pa em√´r',\n        logo: channel.stream_icon || null,\n        poster: channel.stream_icon || null,\n        cover: channel.stream_icon || null,\n        category_id: channel.category_id,\n        category: channel.category_name || 'T√´ tjera',\n        category_name: channel.category_name || 'T√´ tjera',\n        epg_channel_id: channel.epg_channel_id,\n        type: 'live',\n        stream_url: null\n      }));\n    }\n    return [];\n  } catch (error) {\n    console.error('‚ùå getLiveStreams error:', error);\n    return [];\n  }\n};\n\n/**\r\n * LIVE CATEGORIES\r\n */\nexport const getLiveCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_live_categories');\n    console.log('üè∑Ô∏è Live Categories URL:', url);\n    const data = await fetchWithCORSProxy(url);\n    if (!data) return [];\n    if (Array.isArray(data)) {\n      return data.map(cat => ({\n        id: cat.category_id,\n        category_id: cat.category_id,\n        name: cat.category_name || 'T√´ tjera',\n        title: cat.category_name || 'T√´ tjera',\n        type: 'live'\n      }));\n    }\n    return [];\n  } catch (error) {\n    console.error('‚ùå getLiveCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * MOVIES\r\n */\nexport const getMovies = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_vod_streams');\n    console.log('üé¨ Movies URL:', url);\n    const data = await fetchWithCORSProxy(url);\n    if (!data) return [];\n    if (Array.isArray(data)) {\n      return data.map(movie => ({\n        id: movie.stream_id,\n        stream_id: movie.stream_id,\n        name: movie.name || 'Pa titull',\n        title: movie.name || 'Pa titull',\n        logo: movie.stream_icon || null,\n        poster: movie.stream_icon || null,\n        cover: movie.stream_icon || null,\n        category_id: movie.category_id,\n        category: movie.category_name || 'Filma',\n        category_name: movie.category_name || 'Filma',\n        year: movie.year || null,\n        rating: movie.rating || null,\n        container_extension: movie.container_extension || 'mp4',\n        type: 'movie'\n      }));\n    }\n    return [];\n  } catch (error) {\n    console.error('‚ùå getMovies error:', error);\n    return [];\n  }\n};\n\n/**\r\n * MOVIES CATEGORIES\r\n */\nexport const getMovieCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_vod_categories');\n    console.log('üè∑Ô∏è Movie Categories URL:', url);\n    const data = await fetchWithCORSProxy(url);\n    if (!data) return [];\n    if (Array.isArray(data)) {\n      return data.map(cat => ({\n        id: cat.category_id,\n        category_id: cat.category_id,\n        name: cat.category_name || 'Filma',\n        title: cat.category_name || 'Filma',\n        type: 'movie'\n      }));\n    }\n    return [];\n  } catch (error) {\n    console.error('‚ùå getMovieCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES\r\n */\nexport const getSeries = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_series');\n    console.log('üì∫ Series URL:', url);\n    const data = await fetchWithCORSProxy(url);\n    if (!data) return [];\n    if (Array.isArray(data)) {\n      return data.map(s => {\n        var _s$seasons;\n        return {\n          id: s.series_id,\n          series_id: s.series_id,\n          name: s.name || 'Pa titull',\n          title: s.name || 'Pa titull',\n          logo: s.cover || null,\n          poster: s.cover || null,\n          cover: s.cover || null,\n          category_id: s.category_id,\n          category: s.category_name || 'Seriale',\n          category_name: s.category_name || 'Seriale',\n          year: s.year || null,\n          rating: s.rating || null,\n          season_count: ((_s$seasons = s.seasons) === null || _s$seasons === void 0 ? void 0 : _s$seasons.length) || 0,\n          type: 'series'\n        };\n      });\n    }\n    return [];\n  } catch (error) {\n    console.error('‚ùå getSeries error:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES CATEGORIES\r\n */\nexport const getSeriesCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_series_categories');\n    console.log('üè∑Ô∏è Series Categories URL:', url);\n    const data = await fetchWithCORSProxy(url);\n    if (!data) return [];\n    if (Array.isArray(data)) {\n      return data.map(cat => ({\n        id: cat.category_id,\n        category_id: cat.category_id,\n        name: cat.category_name || 'Seriale',\n        title: cat.category_name || 'Seriale',\n        type: 'series'\n      }));\n    }\n    return [];\n  } catch (error) {\n    console.error('‚ùå getSeriesCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * EPG\r\n */\nexport const getEPG = async (server, user, pass, streamId) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_epg');\n    const fullUrl = `${url}&stream_id=${streamId}`;\n    console.log('üìÖ EPG URL:', fullUrl);\n    const data = await fetchWithCORSProxy(fullUrl);\n    if (data && data.epg_listings && Array.isArray(data.epg_listings)) {\n      return data.epg_listings.map(epg => ({\n        id: epg.id,\n        title: epg.title || 'Pa titull',\n        description: epg.description || '',\n        start: epg.start,\n        end: epg.end,\n        start_timestamp: epg.start_timestamp,\n        end_timestamp: epg.end_timestamp\n      }));\n    }\n    return [];\n  } catch (error) {\n    console.error('‚ùå getEPG error:', error);\n    return [];\n  }\n};\n\n/**\r\n * BUILD STREAM URL\r\n */\nexport const buildStreamUrl = (server, user, pass, streamId, type = 'live', extension = 'm3u8') => {\n  let baseUrl = server.trim();\n  if (baseUrl.endsWith('/')) {\n    baseUrl = baseUrl.slice(0, -1);\n  }\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\n    baseUrl = 'http://' + baseUrl;\n  }\n  switch (type) {\n    case 'live':\n      return `${baseUrl}/live/${user}/${pass}/${streamId}.m3u8`;\n    case 'movie':\n      return `${baseUrl}/movie/${user}/${pass}/${streamId}.${extension}`;\n    case 'series':\n      return `${baseUrl}/series/${user}/${pass}/${streamId}.mp4`;\n    default:\n      return `${baseUrl}/live/${user}/${pass}/${streamId}.m3u8`;\n  }\n};\n\n/**\r\n * ALL CATEGORIES\r\n */\nexport const getAllCategories = async (server, user, pass) => {\n  try {\n    const [liveCats, movieCats, seriesCats] = await Promise.all([getLiveCategories(server, user, pass).catch(() => []), getMovieCategories(server, user, pass).catch(() => []), getSeriesCategories(server, user, pass).catch(() => [])]);\n    return {\n      live: liveCats,\n      movies: movieCats,\n      series: seriesCats,\n      all: [...liveCats.map(c => ({\n        ...c,\n        type: 'live'\n      })), ...movieCats.map(c => ({\n        ...c,\n        type: 'movie'\n      })), ...seriesCats.map(c => ({\n        ...c,\n        type: 'series'\n      }))]\n    };\n  } catch (error) {\n    console.error('‚ùå getAllCategories error:', error);\n    return {\n      live: [],\n      movies: [],\n      series: [],\n      all: []\n    };\n  }\n};\n\n/**\r\n * ALL CONTENT\r\n */\nexport const getAllContent = async (server, user, pass) => {\n  try {\n    const [live, movies, series] = await Promise.all([getLiveStreams(server, user, pass).catch(() => []), getMovies(server, user, pass).catch(() => []), getSeries(server, user, pass).catch(() => [])]);\n    return {\n      live,\n      movies,\n      series\n    };\n  } catch (error) {\n    console.error('‚ùå getAllContent error:', error);\n    return {\n      live: [],\n      movies: [],\n      series: []\n    };\n  }\n};\nexport default {\n  xtreamLogin,\n  getLiveStreams,\n  getLiveCategories,\n  getMovies,\n  getMovieCategories,\n  getSeries,\n  getSeriesCategories,\n  getEPG,\n  buildStreamUrl,\n  getAllCategories,\n  getAllContent\n};","map":{"version":3,"names":["buildUrl","server","user","pass","action","baseUrl","trim","endsWith","slice","startsWith","fetchWithCORSProxy","url","_lastError","proxies","encodeURIComponent","lastError","proxyUrl","console","log","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","signal","headers","clearTimeout","ok","text","length","includes","wrapped","JSON","parse","contents","e","err","message","Error","xtreamLogin","data","httpsUrl","replace","user_info","auth","status","success","error","getLiveStreams","Array","isArray","map","channel","id","stream_id","name","title","logo","stream_icon","poster","cover","category_id","category","category_name","epg_channel_id","type","stream_url","getLiveCategories","cat","getMovies","movie","year","rating","container_extension","getMovieCategories","getSeries","s","_s$seasons","series_id","season_count","seasons","getSeriesCategories","getEPG","streamId","fullUrl","epg_listings","epg","description","start","end","start_timestamp","end_timestamp","buildStreamUrl","extension","getAllCategories","liveCats","movieCats","seriesCats","Promise","all","catch","live","movies","series","c","getAllContent"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/services/xtream.jsx"],"sourcesContent":["// services/xtream.js - VERSIONI ME CORS PROXY Q√ã PUNON\r\n\r\n/**\r\n * Nderto URL-n√´ e Xtream API\r\n */\r\nconst buildUrl = (server, user, pass, action = '') => {\r\n  let baseUrl = server.trim();\r\n  \r\n  if (baseUrl.endsWith('/')) {\r\n    baseUrl = baseUrl.slice(0, -1);\r\n  }\r\n  \r\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\r\n    baseUrl = 'http://' + baseUrl;\r\n  }\r\n  \r\n  if (action) {\r\n    return `${baseUrl}/player_api.php?username=${user}&password=${pass}&action=${action}`;\r\n  } else {\r\n    return `${baseUrl}/player_api.php?username=${user}&password=${pass}`;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch me CORSProxy.io - KY PUNON\r\n */\r\nconst fetchWithCORSProxy = async (url) => {\r\n  // Provo disa proxy derisa nj√´ri t√´ funksionoj√´\r\n  const proxies = [\r\n    `https://corsproxy.io/?${encodeURIComponent(url)}`,\r\n    `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(url)}`,\r\n    `https://proxy.cors.sh/${url}`,\r\n    `https://cors-anywhere.herokuapp.com/${url}`\r\n  ];\r\n\r\n  let lastError = null;\r\n\r\n  for (const proxyUrl of proxies) {\r\n    try {\r\n      console.log('üîÑ Trying proxy:', proxyUrl);\r\n      \r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 10000);\r\n\r\n      const response = await fetch(proxyUrl, {\r\n        signal: controller.signal,\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      clearTimeout(timeoutId);\r\n\r\n      if (response.ok) {\r\n        const text = await response.text();\r\n        console.log('‚úÖ Proxy success, response length:', text.length);\r\n        \r\n        // AllOrigins kthen JSON me { contents: ... }\r\n        if (proxyUrl.includes('allorigins')) {\r\n          try {\r\n            const wrapped = JSON.parse(text);\r\n            if (wrapped.contents) {\r\n              return JSON.parse(wrapped.contents);\r\n            }\r\n          } catch (e) {\r\n            // Ignore\r\n          }\r\n        }\r\n        \r\n        // Provo t√´ parse-oj JSON direkt\r\n        try {\r\n          return JSON.parse(text);\r\n        } catch (e) {\r\n          // N√´se nuk √´sht√´ JSON, ktheje text-in\r\n          return text;\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log('‚ùå Proxy failed:', proxyUrl, err.message);\r\n      lastError = err;\r\n      continue;\r\n    }\r\n  }\r\n  \r\n  throw new Error(lastError?.message || 'T√´ gjitha proxy-t d√´shtuan');\r\n};\r\n\r\n/**\r\n * LOGIN\r\n */\r\nexport const xtreamLogin = async (server, user, pass) => {\r\n  try {\r\n    // Provo fillimisht me HTTP\r\n    let url = buildUrl(server, user, pass, '');\r\n    console.log('üîë Login URL:', url);\r\n    \r\n    let data;\r\n    try {\r\n      data = await fetchWithCORSProxy(url);\r\n    } catch (err) {\r\n      // N√´se d√´shton me HTTP, provo me HTTPS\r\n      if (url.startsWith('http://')) {\r\n        const httpsUrl = url.replace('http://', 'https://');\r\n        console.log('üîë Retrying with HTTPS:', httpsUrl);\r\n        data = await fetchWithCORSProxy(httpsUrl);\r\n      } else {\r\n        throw err;\r\n      }\r\n    }\r\n    \r\n    console.log('üîë Login response:', data);\r\n    \r\n    // Kontrollo formate t√´ ndryshme t√´ p√´rgjigjes\r\n    if (data) {\r\n      // Formati 1: { user_info: { auth: 1 } }\r\n      if (data.user_info) {\r\n        if (data.user_info.auth === 1 || data.user_info.status === 'Active') {\r\n          return {\r\n            success: true,\r\n            data: data.user_info,\r\n            server: server\r\n          };\r\n        }\r\n      }\r\n      \r\n      // Formati 2: { auth: 1 }\r\n      if (data.auth === 1) {\r\n        return {\r\n          success: true,\r\n          data: data,\r\n          server: server\r\n        };\r\n      }\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      error: 'Kredencialet e gabuara'\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå Login error:', error);\r\n    return {\r\n      success: false,\r\n      error: 'Nuk u lidh me serverin. Kontrollo URL-n√´ ose provo nj√´ server tjet√´r.'\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * LIVE STREAMS\r\n */\r\nexport const getLiveStreams = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_live_streams');\r\n    console.log('üì∫ Live URL:', url);\r\n    \r\n    const data = await fetchWithCORSProxy(url);\r\n    \r\n    if (!data) return [];\r\n    \r\n    // N√´se data √´sht√´ array, ktheje direkt\r\n    if (Array.isArray(data)) {\r\n      return data.map(channel => ({\r\n        id: channel.stream_id,\r\n        stream_id: channel.stream_id,\r\n        name: channel.name || 'Pa em√´r',\r\n        title: channel.name || 'Pa em√´r',\r\n        logo: channel.stream_icon || null,\r\n        poster: channel.stream_icon || null,\r\n        cover: channel.stream_icon || null,\r\n        category_id: channel.category_id,\r\n        category: channel.category_name || 'T√´ tjera',\r\n        category_name: channel.category_name || 'T√´ tjera',\r\n        epg_channel_id: channel.epg_channel_id,\r\n        type: 'live',\r\n        stream_url: null\r\n      }));\r\n    }\r\n    \r\n    return [];\r\n  } catch (error) {\r\n    console.error('‚ùå getLiveStreams error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * LIVE CATEGORIES\r\n */\r\nexport const getLiveCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_live_categories');\r\n    console.log('üè∑Ô∏è Live Categories URL:', url);\r\n    \r\n    const data = await fetchWithCORSProxy(url);\r\n    \r\n    if (!data) return [];\r\n    \r\n    if (Array.isArray(data)) {\r\n      return data.map(cat => ({\r\n        id: cat.category_id,\r\n        category_id: cat.category_id,\r\n        name: cat.category_name || 'T√´ tjera',\r\n        title: cat.category_name || 'T√´ tjera',\r\n        type: 'live'\r\n      }));\r\n    }\r\n    \r\n    return [];\r\n  } catch (error) {\r\n    console.error('‚ùå getLiveCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * MOVIES\r\n */\r\nexport const getMovies = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_vod_streams');\r\n    console.log('üé¨ Movies URL:', url);\r\n    \r\n    const data = await fetchWithCORSProxy(url);\r\n    \r\n    if (!data) return [];\r\n    \r\n    if (Array.isArray(data)) {\r\n      return data.map(movie => ({\r\n        id: movie.stream_id,\r\n        stream_id: movie.stream_id,\r\n        name: movie.name || 'Pa titull',\r\n        title: movie.name || 'Pa titull',\r\n        logo: movie.stream_icon || null,\r\n        poster: movie.stream_icon || null,\r\n        cover: movie.stream_icon || null,\r\n        category_id: movie.category_id,\r\n        category: movie.category_name || 'Filma',\r\n        category_name: movie.category_name || 'Filma',\r\n        year: movie.year || null,\r\n        rating: movie.rating || null,\r\n        container_extension: movie.container_extension || 'mp4',\r\n        type: 'movie'\r\n      }));\r\n    }\r\n    \r\n    return [];\r\n  } catch (error) {\r\n    console.error('‚ùå getMovies error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * MOVIES CATEGORIES\r\n */\r\nexport const getMovieCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_vod_categories');\r\n    console.log('üè∑Ô∏è Movie Categories URL:', url);\r\n    \r\n    const data = await fetchWithCORSProxy(url);\r\n    \r\n    if (!data) return [];\r\n    \r\n    if (Array.isArray(data)) {\r\n      return data.map(cat => ({\r\n        id: cat.category_id,\r\n        category_id: cat.category_id,\r\n        name: cat.category_name || 'Filma',\r\n        title: cat.category_name || 'Filma',\r\n        type: 'movie'\r\n      }));\r\n    }\r\n    \r\n    return [];\r\n  } catch (error) {\r\n    console.error('‚ùå getMovieCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES\r\n */\r\nexport const getSeries = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series');\r\n    console.log('üì∫ Series URL:', url);\r\n    \r\n    const data = await fetchWithCORSProxy(url);\r\n    \r\n    if (!data) return [];\r\n    \r\n    if (Array.isArray(data)) {\r\n      return data.map(s => ({\r\n        id: s.series_id,\r\n        series_id: s.series_id,\r\n        name: s.name || 'Pa titull',\r\n        title: s.name || 'Pa titull',\r\n        logo: s.cover || null,\r\n        poster: s.cover || null,\r\n        cover: s.cover || null,\r\n        category_id: s.category_id,\r\n        category: s.category_name || 'Seriale',\r\n        category_name: s.category_name || 'Seriale',\r\n        year: s.year || null,\r\n        rating: s.rating || null,\r\n        season_count: s.seasons?.length || 0,\r\n        type: 'series'\r\n      }));\r\n    }\r\n    \r\n    return [];\r\n  } catch (error) {\r\n    console.error('‚ùå getSeries error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES CATEGORIES\r\n */\r\nexport const getSeriesCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series_categories');\r\n    console.log('üè∑Ô∏è Series Categories URL:', url);\r\n    \r\n    const data = await fetchWithCORSProxy(url);\r\n    \r\n    if (!data) return [];\r\n    \r\n    if (Array.isArray(data)) {\r\n      return data.map(cat => ({\r\n        id: cat.category_id,\r\n        category_id: cat.category_id,\r\n        name: cat.category_name || 'Seriale',\r\n        title: cat.category_name || 'Seriale',\r\n        type: 'series'\r\n      }));\r\n    }\r\n    \r\n    return [];\r\n  } catch (error) {\r\n    console.error('‚ùå getSeriesCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * EPG\r\n */\r\nexport const getEPG = async (server, user, pass, streamId) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_epg');\r\n    const fullUrl = `${url}&stream_id=${streamId}`;\r\n    console.log('üìÖ EPG URL:', fullUrl);\r\n    \r\n    const data = await fetchWithCORSProxy(fullUrl);\r\n    \r\n    if (data && data.epg_listings && Array.isArray(data.epg_listings)) {\r\n      return data.epg_listings.map(epg => ({\r\n        id: epg.id,\r\n        title: epg.title || 'Pa titull',\r\n        description: epg.description || '',\r\n        start: epg.start,\r\n        end: epg.end,\r\n        start_timestamp: epg.start_timestamp,\r\n        end_timestamp: epg.end_timestamp\r\n      }));\r\n    }\r\n    \r\n    return [];\r\n  } catch (error) {\r\n    console.error('‚ùå getEPG error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * BUILD STREAM URL\r\n */\r\nexport const buildStreamUrl = (server, user, pass, streamId, type = 'live', extension = 'm3u8') => {\r\n  let baseUrl = server.trim();\r\n  \r\n  if (baseUrl.endsWith('/')) {\r\n    baseUrl = baseUrl.slice(0, -1);\r\n  }\r\n  \r\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\r\n    baseUrl = 'http://' + baseUrl;\r\n  }\r\n\r\n  switch (type) {\r\n    case 'live':\r\n      return `${baseUrl}/live/${user}/${pass}/${streamId}.m3u8`;\r\n    case 'movie':\r\n      return `${baseUrl}/movie/${user}/${pass}/${streamId}.${extension}`;\r\n    case 'series':\r\n      return `${baseUrl}/series/${user}/${pass}/${streamId}.mp4`;\r\n    default:\r\n      return `${baseUrl}/live/${user}/${pass}/${streamId}.m3u8`;\r\n  }\r\n};\r\n\r\n/**\r\n * ALL CATEGORIES\r\n */\r\nexport const getAllCategories = async (server, user, pass) => {\r\n  try {\r\n    const [liveCats, movieCats, seriesCats] = await Promise.all([\r\n      getLiveCategories(server, user, pass).catch(() => []),\r\n      getMovieCategories(server, user, pass).catch(() => []),\r\n      getSeriesCategories(server, user, pass).catch(() => [])\r\n    ]);\r\n\r\n    return {\r\n      live: liveCats,\r\n      movies: movieCats,\r\n      series: seriesCats,\r\n      all: [\r\n        ...liveCats.map(c => ({ ...c, type: 'live' })),\r\n        ...movieCats.map(c => ({ ...c, type: 'movie' })),\r\n        ...seriesCats.map(c => ({ ...c, type: 'series' }))\r\n      ]\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå getAllCategories error:', error);\r\n    return { live: [], movies: [], series: [], all: [] };\r\n  }\r\n};\r\n\r\n/**\r\n * ALL CONTENT\r\n */\r\nexport const getAllContent = async (server, user, pass) => {\r\n  try {\r\n    const [live, movies, series] = await Promise.all([\r\n      getLiveStreams(server, user, pass).catch(() => []),\r\n      getMovies(server, user, pass).catch(() => []),\r\n      getSeries(server, user, pass).catch(() => [])\r\n    ]);\r\n\r\n    return {\r\n      live,\r\n      movies,\r\n      series\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå getAllContent error:', error);\r\n    return { live: [], movies: [], series: [] };\r\n  }\r\n};\r\n\r\nexport default {\r\n  xtreamLogin,\r\n  getLiveStreams,\r\n  getLiveCategories,\r\n  getMovies,\r\n  getMovieCategories,\r\n  getSeries,\r\n  getSeriesCategories,\r\n  getEPG,\r\n  buildStreamUrl,\r\n  getAllCategories,\r\n  getAllContent\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}