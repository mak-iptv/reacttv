{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rayuv\\\\OneDrive\\\\Documents\\\\GitHub\\\\Reacttv\\\\src\\\\components\\\\HlsPlayer.jsx\",\n  _s = $RefreshSig$();\n// src/components/HlsPlayer.jsx\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport Hls from 'hls.js';\nimport './HlsPlayer.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HlsPlayer = ({\n  src,\n  isPlaying,\n  onPlayPause,\n  onClose,\n  onError,\n  theme,\n  currentStreamInfo,\n  currentEpg,\n  epgData,\n  onEpgUpdate\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const hlsRef = useRef(null);\n  const [isReady, setIsReady] = useState(false);\n  const [error, setError] = useState(null);\n  const [retryCount, setRetryCount] = useState(0);\n  const [isBuffering, setIsBuffering] = useState(false);\n  const [useNativeControls, setUseNativeControls] = useState(false);\n  const bufferTimerRef = useRef(null);\n  const MAX_RETRIES = 3;\n\n  // Clean up buffer timer\n  useEffect(() => {\n    return () => {\n      if (bufferTimerRef.current) {\n        clearTimeout(bufferTimerRef.current);\n      }\n    };\n  }, []);\n\n  // Initialize player\n  useEffect(() => {\n    if (!src || !videoRef.current) return;\n    let hls = null;\n    setIsReady(false);\n    setError(null);\n    setIsBuffering(false);\n\n    // Clean up previous instance\n    if (hlsRef.current) {\n      hlsRef.current.destroy();\n      hlsRef.current = null;\n    }\n\n    // Detekto llojin e stream-it\n    const isXtreamStream = src.includes('/live/') || src.includes('/movie/') || src.includes('/series/');\n    const isDirectFile = src.endsWith('.mp4') || src.endsWith('.ts') || src.endsWith('.mkv') || src.endsWith('.avi') || src.endsWith('.mov');\n    const isHlsStream = src.includes('.m3u8') || src.includes('playlist.m3u8');\n    const isMpegDash = src.includes('.mpd');\n    console.log('üé¨ Loading stream:', {\n      src,\n      isXtreamStream,\n      isDirectFile,\n      isHlsStream,\n      isMpegDash\n    });\n\n    // Funksion p√´r t√´ luajtur videon\n    const playVideo = async () => {\n      if (!videoRef.current) return;\n      try {\n        await videoRef.current.play();\n        console.log('‚ñ∂Ô∏è Playing successfully');\n        setIsBuffering(false);\n        return true;\n      } catch (err) {\n        console.warn('Play failed:', err);\n        // Autoplay u bllokua ose problem tjet√´r\n        if (err.name === 'NotAllowedError') {\n          // Autoplay u bllokua - useri duhet t√´ klikoj√´ play\n          setIsReady(true);\n        }\n        return false;\n      }\n    };\n\n    // P√´r Xtream streams ose direkt file\n    if (isXtreamStream || isDirectFile || !isHlsStream) {\n      console.log('üé¨ Using direct video playback');\n\n      // Set source dhe load\n      videoRef.current.src = src;\n      videoRef.current.load();\n\n      // Event handlers\n      const onCanPlay = () => {\n        console.log('‚úÖ Video can play');\n        setIsReady(true);\n        if (isPlaying) {\n          playVideo();\n        }\n      };\n      const onLoadedMetadata = () => {\n        console.log('‚úÖ Video metadata loaded');\n        setIsReady(true);\n      };\n      const onWaiting = () => {\n        console.log('‚è≥ Buffering...');\n        setIsBuffering(true);\n        if (bufferTimerRef.current) {\n          clearTimeout(bufferTimerRef.current);\n        }\n        bufferTimerRef.current = setTimeout(() => {\n          console.warn('Buffering timeout');\n          setIsBuffering(false);\n        }, 15000);\n      };\n      const onPlaying = () => {\n        console.log('‚ñ∂Ô∏è Playing');\n        setIsBuffering(false);\n        if (bufferTimerRef.current) {\n          clearTimeout(bufferTimerRef.current);\n        }\n      };\n      const onPause = () => {\n        console.log('‚è∏Ô∏è Paused');\n      };\n      const onEnded = () => {\n        console.log('‚èπÔ∏è Ended');\n        onPlayPause === null || onPlayPause === void 0 ? void 0 : onPlayPause();\n      };\n      const onStalled = () => {\n        console.warn('‚ö†Ô∏è Stalled');\n        setIsBuffering(true);\n      };\n      const onSuspend = () => {\n        console.log('üí§ Suspended');\n      };\n      const onError = e => {\n        var _videoRef$current;\n        const videoError = (_videoRef$current = videoRef.current) === null || _videoRef$current === void 0 ? void 0 : _videoRef$current.error;\n        console.error('üé¨ Video error:', {\n          code: videoError === null || videoError === void 0 ? void 0 : videoError.code,\n          message: videoError === null || videoError === void 0 ? void 0 : videoError.message,\n          event: e\n        });\n\n        // Mos shfaq error p√´r aborte normale\n        if ((videoError === null || videoError === void 0 ? void 0 : videoError.code) === 4) {\n          // Code 4: MEDIA_ERR_SRC_NOT_SUPPORTED\n          setError('Formati i videos nuk mb√´shtetet');\n        } else if ((videoError === null || videoError === void 0 ? void 0 : videoError.code) === 3) {\n          // Code 3: MEDIA_ERR_DECODE\n          setError('Gabim n√´ dekodimin e videos');\n        } else if ((videoError === null || videoError === void 0 ? void 0 : videoError.code) === 2) {\n          // Code 2: MEDIA_ERR_NETWORK\n          setError('Gabim n√´ rrjet');\n        } else if ((videoError === null || videoError === void 0 ? void 0 : videoError.code) === 1) {\n          // Code 1: MEDIA_ERR_ABORTED\n          console.log('Video loading aborted');\n          return;\n        } else {\n          setError('Gabim n√´ ngarkimin e videos');\n        }\n        onError === null || onError === void 0 ? void 0 : onError({\n          type: 'videoError',\n          code: videoError === null || videoError === void 0 ? void 0 : videoError.code,\n          details: videoError === null || videoError === void 0 ? void 0 : videoError.message\n        });\n      };\n\n      // Add event listeners\n      videoRef.current.addEventListener('canplay', onCanPlay);\n      videoRef.current.addEventListener('loadedmetadata', onLoadedMetadata);\n      videoRef.current.addEventListener('waiting', onWaiting);\n      videoRef.current.addEventListener('playing', onPlaying);\n      videoRef.current.addEventListener('pause', onPause);\n      videoRef.current.addEventListener('ended', onEnded);\n      videoRef.current.addEventListener('stalled', onStalled);\n      videoRef.current.addEventListener('suspend', onSuspend);\n      videoRef.current.addEventListener('error', onError);\n\n      // Check if already loaded\n      if (videoRef.current.readyState >= 3) {\n        setIsReady(true);\n        if (isPlaying) {\n          playVideo();\n        }\n      }\n      return () => {\n        if (videoRef.current) {\n          videoRef.current.removeEventListener('canplay', onCanPlay);\n          videoRef.current.removeEventListener('loadedmetadata', onLoadedMetadata);\n          videoRef.current.removeEventListener('waiting', onWaiting);\n          videoRef.current.removeEventListener('playing', onPlaying);\n          videoRef.current.removeEventListener('pause', onPause);\n          videoRef.current.removeEventListener('ended', onEnded);\n          videoRef.current.removeEventListener('stalled', onStalled);\n          videoRef.current.removeEventListener('suspend', onSuspend);\n          videoRef.current.removeEventListener('error', onError);\n          videoRef.current.pause();\n          videoRef.current.removeAttribute('src');\n          videoRef.current.load();\n        }\n      };\n    }\n\n    // P√´r HLS streams\n    if (isHlsStream) {\n      if (Hls.isSupported()) {\n        try {\n          console.log('üé¨ Using HLS.js');\n          hls = new Hls({\n            enableWorker: true,\n            lowLatencyMode: false,\n            // √áaktivizo p√´r stabilitet\n            backBufferLength: 60,\n            maxBufferLength: 30,\n            maxMaxBufferLength: 60,\n            maxBufferSize: 30 * 1000 * 1000,\n            // 30MB\n            maxBufferHole: 0.5,\n            manifestLoadingTimeOut: 15000,\n            manifestLoadingMaxRetry: 5,\n            manifestLoadingRetryDelay: 1000,\n            manifestLoadingMaxRetryTimeout: 30000,\n            levelLoadingTimeOut: 15000,\n            levelLoadingMaxRetry: 4,\n            levelLoadingRetryDelay: 1000,\n            levelLoadingMaxRetryTimeout: 30000,\n            fragLoadingTimeOut: 20000,\n            fragLoadingMaxRetry: 4,\n            fragLoadingRetryDelay: 1000,\n            fragLoadingMaxRetryTimeout: 30000,\n            startLevel: -1,\n            // Auto\n            debug: false\n          });\n          hlsRef.current = hls;\n          hls.on(Hls.Events.MEDIA_ATTACHED, () => {\n            console.log('‚úÖ HLS media attached');\n            hls.loadSource(src);\n          });\n          hls.on(Hls.Events.MANIFEST_PARSED, (event, data) => {\n            console.log('‚úÖ HLS manifest parsed, levels:', data.levels.length);\n            setIsReady(true);\n            setError(null);\n            if (isPlaying) {\n              playVideo();\n            }\n          });\n          hls.on(Hls.Events.ERROR, (event, data) => {\n            console.error('‚ùå HLS error:', data);\n            if (data.fatal) {\n              switch (data.type) {\n                case Hls.ErrorTypes.NETWORK_ERROR:\n                  console.log('Network error, trying to recover...');\n                  hls.startLoad();\n                  break;\n                case Hls.ErrorTypes.MEDIA_ERROR:\n                  console.log('Media error, trying to recover...');\n                  hls.recoverMediaError();\n                  break;\n                default:\n                  console.log('Fatal error, falling back to direct video...');\n                  // Provo me video direkt\n                  setUseNativeControls(true);\n                  if (videoRef.current) {\n                    videoRef.current.src = src;\n                    videoRef.current.load();\n                  }\n                  break;\n              }\n            }\n            onError === null || onError === void 0 ? void 0 : onError(data);\n          });\n          hls.attachMedia(videoRef.current);\n        } catch (err) {\n          console.error('Failed to initialize HLS:', err);\n          // Fallback to direct video\n          videoRef.current.src = src;\n          videoRef.current.load();\n        }\n      } else if (videoRef.current.canPlayType('application/vnd.apple.mpegurl')) {\n        // Safari native HLS\n        console.log('üé¨ Using Safari native HLS');\n        videoRef.current.src = src;\n        videoRef.current.load();\n        const onLoadedMetadata = () => {\n          setIsReady(true);\n          if (isPlaying) {\n            playVideo();\n          }\n        };\n        videoRef.current.addEventListener('loadedmetadata', onLoadedMetadata);\n        return () => {\n          var _videoRef$current2;\n          (_videoRef$current2 = videoRef.current) === null || _videoRef$current2 === void 0 ? void 0 : _videoRef$current2.removeEventListener('loadedmetadata', onLoadedMetadata);\n        };\n      }\n    }\n    return () => {\n      if (hls) {\n        hls.destroy();\n        hlsRef.current = null;\n      }\n    };\n  }, [src]); // Only recreate when src changes\n\n  // Handle play/pause separately\n  useEffect(() => {\n    if (!videoRef.current || !isReady) return;\n    const playVideo = async () => {\n      try {\n        await videoRef.current.play();\n        setIsBuffering(false);\n      } catch (error) {\n        console.warn('Play prevented:', error);\n        if (error.name === 'NotAllowedError') {\n          // Autoplay u bllokua - nuk ka problem, useri klikon play\n        } else {\n          setError('Nuk mund t√´ luhet video');\n        }\n        if (onPlayPause) {\n          onPlayPause();\n        }\n      }\n    };\n    if (isPlaying) {\n      playVideo();\n    } else {\n      videoRef.current.pause();\n    }\n  }, [isPlaying, isReady, onPlayPause]);\n  const handleRetry = useCallback(() => {\n    if (retryCount >= MAX_RETRIES) {\n      setError('Nuk mund t√´ luhet stream-i. Provo nj√´ tjet√´r.');\n      return;\n    }\n    setRetryCount(prev => prev + 1);\n    setError(null);\n    setUseNativeControls(true); // P√´rdor kontrollet native\n\n    // Reload video\n    if (videoRef.current) {\n      const currentSrc = src;\n      videoRef.current.src = '';\n      videoRef.current.load();\n      setTimeout(() => {\n        if (videoRef.current) {\n          videoRef.current.src = currentSrc;\n          videoRef.current.load();\n          setTimeout(() => {\n            if (videoRef.current && isPlaying) {\n              videoRef.current.play().catch(e => {\n                console.warn('Retry failed:', e);\n              });\n            }\n          }, 500);\n        }\n      }, 100);\n    }\n  }, [retryCount, src, isPlaying]);\n  const handleFullscreen = useCallback(() => {\n    if (videoRef.current) {\n      if (videoRef.current.requestFullscreen) {\n        videoRef.current.requestFullscreen();\n      } else if (videoRef.current.webkitRequestFullscreen) {\n        videoRef.current.webkitRequestFullscreen();\n      } else if (videoRef.current.msRequestFullscreen) {\n        videoRef.current.msRequestFullscreen();\n      }\n    }\n  }, []);\n  if (!src) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `hls-player theme-${theme}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        className: \"video-element\",\n        playsInline: true,\n        controls: useNativeControls ? true : true // Gjithmon√´ shfaq controls\n        ,\n        preload: \"auto\",\n        poster: currentStreamInfo === null || currentStreamInfo === void 0 ? void 0 : currentStreamInfo.logo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this), !isReady && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player-loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Duke ngarkuar stream-in...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this), isBuffering && isReady && isPlaying && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player-buffering\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buffering-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Duke bufferuar...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player-error\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error-icon\",\n          children: \"\\u26A0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRetry,\n          className: \"retry-btn\",\n          children: \"Provo p\\xEBrs\\xEBri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.open(src, '_blank'),\n          className: \"direct-link-btn\",\n          children: \"Hap direkt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this), !isPlaying && isReady && !error && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"play-btn-overlay\",\n        onClick: onPlayPause,\n        children: \"\\u25B6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 11\n      }, this), isReady && !error && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"fullscreen-btn\",\n        onClick: handleFullscreen,\n        children: \"\\u26F6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 7\n    }, this), currentStreamInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"channel-info\",\n        children: [currentStreamInfo.logo && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: currentStreamInfo.logo,\n          alt: currentStreamInfo.name,\n          className: \"channel-logo\",\n          onError: e => {\n            e.target.onerror = null;\n            e.target.style.display = 'none';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"channel-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"channel-name\",\n            children: currentStreamInfo.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"channel-category\",\n            children: currentStreamInfo.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this), currentEpg && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"epg-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"epg-title\",\n          children: currentEpg.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"epg-time\",\n          children: new Date(currentEpg.start_timestamp * 1000).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 405,\n    columnNumber: 5\n  }, this);\n};\n_s(HlsPlayer, \"WC7ElYPv+zKfn0X9qcVzYphti/E=\");\n_c = HlsPlayer;\nexport default HlsPlayer;\nvar _c;\n$RefreshReg$(_c, \"HlsPlayer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","Hls","jsxDEV","_jsxDEV","HlsPlayer","src","isPlaying","onPlayPause","onClose","onError","theme","currentStreamInfo","currentEpg","epgData","onEpgUpdate","_s","videoRef","hlsRef","isReady","setIsReady","error","setError","retryCount","setRetryCount","isBuffering","setIsBuffering","useNativeControls","setUseNativeControls","bufferTimerRef","MAX_RETRIES","current","clearTimeout","hls","destroy","isXtreamStream","includes","isDirectFile","endsWith","isHlsStream","isMpegDash","console","log","playVideo","play","err","warn","name","load","onCanPlay","onLoadedMetadata","onWaiting","setTimeout","onPlaying","onPause","onEnded","onStalled","onSuspend","e","_videoRef$current","videoError","code","message","event","type","details","addEventListener","readyState","removeEventListener","pause","removeAttribute","isSupported","enableWorker","lowLatencyMode","backBufferLength","maxBufferLength","maxMaxBufferLength","maxBufferSize","maxBufferHole","manifestLoadingTimeOut","manifestLoadingMaxRetry","manifestLoadingRetryDelay","manifestLoadingMaxRetryTimeout","levelLoadingTimeOut","levelLoadingMaxRetry","levelLoadingRetryDelay","levelLoadingMaxRetryTimeout","fragLoadingTimeOut","fragLoadingMaxRetry","fragLoadingRetryDelay","fragLoadingMaxRetryTimeout","startLevel","debug","on","Events","MEDIA_ATTACHED","loadSource","MANIFEST_PARSED","data","levels","length","ERROR","fatal","ErrorTypes","NETWORK_ERROR","startLoad","MEDIA_ERROR","recoverMediaError","attachMedia","canPlayType","_videoRef$current2","handleRetry","prev","currentSrc","catch","handleFullscreen","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","className","children","ref","playsInline","controls","preload","poster","logo","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","open","alt","target","onerror","style","display","category","title","Date","start_timestamp","toLocaleTimeString","hour","minute","_c","$RefreshReg$"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/components/HlsPlayer.jsx"],"sourcesContent":["// src/components/HlsPlayer.jsx\r\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\r\nimport Hls from 'hls.js';\r\nimport './HlsPlayer.css';\r\n\r\nconst HlsPlayer = ({ \r\n  src, \r\n  isPlaying, \r\n  onPlayPause, \r\n  onClose, \r\n  onError,\r\n  theme,\r\n  currentStreamInfo,\r\n  currentEpg,\r\n  epgData,\r\n  onEpgUpdate\r\n}) => {\r\n  const videoRef = useRef(null);\r\n  const hlsRef = useRef(null);\r\n  const [isReady, setIsReady] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [retryCount, setRetryCount] = useState(0);\r\n  const [isBuffering, setIsBuffering] = useState(false);\r\n  const [useNativeControls, setUseNativeControls] = useState(false);\r\n  const bufferTimerRef = useRef(null);\r\n  const MAX_RETRIES = 3;\r\n\r\n  // Clean up buffer timer\r\n  useEffect(() => {\r\n    return () => {\r\n      if (bufferTimerRef.current) {\r\n        clearTimeout(bufferTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Initialize player\r\n  useEffect(() => {\r\n    if (!src || !videoRef.current) return;\r\n\r\n    let hls = null;\r\n    setIsReady(false);\r\n    setError(null);\r\n    setIsBuffering(false);\r\n\r\n    // Clean up previous instance\r\n    if (hlsRef.current) {\r\n      hlsRef.current.destroy();\r\n      hlsRef.current = null;\r\n    }\r\n\r\n    // Detekto llojin e stream-it\r\n    const isXtreamStream = src.includes('/live/') || src.includes('/movie/') || src.includes('/series/');\r\n    const isDirectFile = src.endsWith('.mp4') || src.endsWith('.ts') || src.endsWith('.mkv') || src.endsWith('.avi') || src.endsWith('.mov');\r\n    const isHlsStream = src.includes('.m3u8') || src.includes('playlist.m3u8');\r\n    const isMpegDash = src.includes('.mpd');\r\n\r\n    console.log('üé¨ Loading stream:', { \r\n      src, \r\n      isXtreamStream, \r\n      isDirectFile, \r\n      isHlsStream,\r\n      isMpegDash \r\n    });\r\n\r\n    // Funksion p√´r t√´ luajtur videon\r\n    const playVideo = async () => {\r\n      if (!videoRef.current) return;\r\n      \r\n      try {\r\n        await videoRef.current.play();\r\n        console.log('‚ñ∂Ô∏è Playing successfully');\r\n        setIsBuffering(false);\r\n        return true;\r\n      } catch (err) {\r\n        console.warn('Play failed:', err);\r\n        // Autoplay u bllokua ose problem tjet√´r\r\n        if (err.name === 'NotAllowedError') {\r\n          // Autoplay u bllokua - useri duhet t√´ klikoj√´ play\r\n          setIsReady(true);\r\n        }\r\n        return false;\r\n      }\r\n    };\r\n\r\n    // P√´r Xtream streams ose direkt file\r\n    if (isXtreamStream || isDirectFile || !isHlsStream) {\r\n      console.log('üé¨ Using direct video playback');\r\n      \r\n      // Set source dhe load\r\n      videoRef.current.src = src;\r\n      videoRef.current.load();\r\n      \r\n      // Event handlers\r\n      const onCanPlay = () => {\r\n        console.log('‚úÖ Video can play');\r\n        setIsReady(true);\r\n        if (isPlaying) {\r\n          playVideo();\r\n        }\r\n      };\r\n\r\n      const onLoadedMetadata = () => {\r\n        console.log('‚úÖ Video metadata loaded');\r\n        setIsReady(true);\r\n      };\r\n\r\n      const onWaiting = () => {\r\n        console.log('‚è≥ Buffering...');\r\n        setIsBuffering(true);\r\n        \r\n        if (bufferTimerRef.current) {\r\n          clearTimeout(bufferTimerRef.current);\r\n        }\r\n        \r\n        bufferTimerRef.current = setTimeout(() => {\r\n          console.warn('Buffering timeout');\r\n          setIsBuffering(false);\r\n        }, 15000);\r\n      };\r\n\r\n      const onPlaying = () => {\r\n        console.log('‚ñ∂Ô∏è Playing');\r\n        setIsBuffering(false);\r\n        if (bufferTimerRef.current) {\r\n          clearTimeout(bufferTimerRef.current);\r\n        }\r\n      };\r\n\r\n      const onPause = () => {\r\n        console.log('‚è∏Ô∏è Paused');\r\n      };\r\n\r\n      const onEnded = () => {\r\n        console.log('‚èπÔ∏è Ended');\r\n        onPlayPause?.();\r\n      };\r\n\r\n      const onStalled = () => {\r\n        console.warn('‚ö†Ô∏è Stalled');\r\n        setIsBuffering(true);\r\n      };\r\n\r\n      const onSuspend = () => {\r\n        console.log('üí§ Suspended');\r\n      };\r\n\r\n      const onError = (e) => {\r\n        const videoError = videoRef.current?.error;\r\n        console.error('üé¨ Video error:', {\r\n          code: videoError?.code,\r\n          message: videoError?.message,\r\n          event: e\r\n        });\r\n\r\n        // Mos shfaq error p√´r aborte normale\r\n        if (videoError?.code === 4) {\r\n          // Code 4: MEDIA_ERR_SRC_NOT_SUPPORTED\r\n          setError('Formati i videos nuk mb√´shtetet');\r\n        } else if (videoError?.code === 3) {\r\n          // Code 3: MEDIA_ERR_DECODE\r\n          setError('Gabim n√´ dekodimin e videos');\r\n        } else if (videoError?.code === 2) {\r\n          // Code 2: MEDIA_ERR_NETWORK\r\n          setError('Gabim n√´ rrjet');\r\n        } else if (videoError?.code === 1) {\r\n          // Code 1: MEDIA_ERR_ABORTED\r\n          console.log('Video loading aborted');\r\n          return;\r\n        } else {\r\n          setError('Gabim n√´ ngarkimin e videos');\r\n        }\r\n        \r\n        onError?.({ \r\n          type: 'videoError', \r\n          code: videoError?.code,\r\n          details: videoError?.message \r\n        });\r\n      };\r\n\r\n      // Add event listeners\r\n      videoRef.current.addEventListener('canplay', onCanPlay);\r\n      videoRef.current.addEventListener('loadedmetadata', onLoadedMetadata);\r\n      videoRef.current.addEventListener('waiting', onWaiting);\r\n      videoRef.current.addEventListener('playing', onPlaying);\r\n      videoRef.current.addEventListener('pause', onPause);\r\n      videoRef.current.addEventListener('ended', onEnded);\r\n      videoRef.current.addEventListener('stalled', onStalled);\r\n      videoRef.current.addEventListener('suspend', onSuspend);\r\n      videoRef.current.addEventListener('error', onError);\r\n      \r\n      // Check if already loaded\r\n      if (videoRef.current.readyState >= 3) {\r\n        setIsReady(true);\r\n        if (isPlaying) {\r\n          playVideo();\r\n        }\r\n      }\r\n      \r\n      return () => {\r\n        if (videoRef.current) {\r\n          videoRef.current.removeEventListener('canplay', onCanPlay);\r\n          videoRef.current.removeEventListener('loadedmetadata', onLoadedMetadata);\r\n          videoRef.current.removeEventListener('waiting', onWaiting);\r\n          videoRef.current.removeEventListener('playing', onPlaying);\r\n          videoRef.current.removeEventListener('pause', onPause);\r\n          videoRef.current.removeEventListener('ended', onEnded);\r\n          videoRef.current.removeEventListener('stalled', onStalled);\r\n          videoRef.current.removeEventListener('suspend', onSuspend);\r\n          videoRef.current.removeEventListener('error', onError);\r\n          videoRef.current.pause();\r\n          videoRef.current.removeAttribute('src');\r\n          videoRef.current.load();\r\n        }\r\n      };\r\n    }\r\n\r\n    // P√´r HLS streams\r\n    if (isHlsStream) {\r\n      if (Hls.isSupported()) {\r\n        try {\r\n          console.log('üé¨ Using HLS.js');\r\n          \r\n          hls = new Hls({\r\n            enableWorker: true,\r\n            lowLatencyMode: false, // √áaktivizo p√´r stabilitet\r\n            backBufferLength: 60,\r\n            maxBufferLength: 30,\r\n            maxMaxBufferLength: 60,\r\n            maxBufferSize: 30 * 1000 * 1000, // 30MB\r\n            maxBufferHole: 0.5,\r\n            manifestLoadingTimeOut: 15000,\r\n            manifestLoadingMaxRetry: 5,\r\n            manifestLoadingRetryDelay: 1000,\r\n            manifestLoadingMaxRetryTimeout: 30000,\r\n            levelLoadingTimeOut: 15000,\r\n            levelLoadingMaxRetry: 4,\r\n            levelLoadingRetryDelay: 1000,\r\n            levelLoadingMaxRetryTimeout: 30000,\r\n            fragLoadingTimeOut: 20000,\r\n            fragLoadingMaxRetry: 4,\r\n            fragLoadingRetryDelay: 1000,\r\n            fragLoadingMaxRetryTimeout: 30000,\r\n            startLevel: -1, // Auto\r\n            debug: false,\r\n          });\r\n\r\n          hlsRef.current = hls;\r\n\r\n          hls.on(Hls.Events.MEDIA_ATTACHED, () => {\r\n            console.log('‚úÖ HLS media attached');\r\n            hls.loadSource(src);\r\n          });\r\n\r\n          hls.on(Hls.Events.MANIFEST_PARSED, (event, data) => {\r\n            console.log('‚úÖ HLS manifest parsed, levels:', data.levels.length);\r\n            setIsReady(true);\r\n            setError(null);\r\n            \r\n            if (isPlaying) {\r\n              playVideo();\r\n            }\r\n          });\r\n\r\n          hls.on(Hls.Events.ERROR, (event, data) => {\r\n            console.error('‚ùå HLS error:', data);\r\n            \r\n            if (data.fatal) {\r\n              switch (data.type) {\r\n                case Hls.ErrorTypes.NETWORK_ERROR:\r\n                  console.log('Network error, trying to recover...');\r\n                  hls.startLoad();\r\n                  break;\r\n                case Hls.ErrorTypes.MEDIA_ERROR:\r\n                  console.log('Media error, trying to recover...');\r\n                  hls.recoverMediaError();\r\n                  break;\r\n                default:\r\n                  console.log('Fatal error, falling back to direct video...');\r\n                  // Provo me video direkt\r\n                  setUseNativeControls(true);\r\n                  if (videoRef.current) {\r\n                    videoRef.current.src = src;\r\n                    videoRef.current.load();\r\n                  }\r\n                  break;\r\n              }\r\n            }\r\n            \r\n            onError?.(data);\r\n          });\r\n\r\n          hls.attachMedia(videoRef.current);\r\n        } catch (err) {\r\n          console.error('Failed to initialize HLS:', err);\r\n          // Fallback to direct video\r\n          videoRef.current.src = src;\r\n          videoRef.current.load();\r\n        }\r\n      } else if (videoRef.current.canPlayType('application/vnd.apple.mpegurl')) {\r\n        // Safari native HLS\r\n        console.log('üé¨ Using Safari native HLS');\r\n        videoRef.current.src = src;\r\n        videoRef.current.load();\r\n        \r\n        const onLoadedMetadata = () => {\r\n          setIsReady(true);\r\n          if (isPlaying) {\r\n            playVideo();\r\n          }\r\n        };\r\n        \r\n        videoRef.current.addEventListener('loadedmetadata', onLoadedMetadata);\r\n        \r\n        return () => {\r\n          videoRef.current?.removeEventListener('loadedmetadata', onLoadedMetadata);\r\n        };\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      if (hls) {\r\n        hls.destroy();\r\n        hlsRef.current = null;\r\n      }\r\n    };\r\n  }, [src]); // Only recreate when src changes\r\n\r\n  // Handle play/pause separately\r\n  useEffect(() => {\r\n    if (!videoRef.current || !isReady) return;\r\n\r\n    const playVideo = async () => {\r\n      try {\r\n        await videoRef.current.play();\r\n        setIsBuffering(false);\r\n      } catch (error) {\r\n        console.warn('Play prevented:', error);\r\n        if (error.name === 'NotAllowedError') {\r\n          // Autoplay u bllokua - nuk ka problem, useri klikon play\r\n        } else {\r\n          setError('Nuk mund t√´ luhet video');\r\n        }\r\n        if (onPlayPause) {\r\n          onPlayPause();\r\n        }\r\n      }\r\n    };\r\n\r\n    if (isPlaying) {\r\n      playVideo();\r\n    } else {\r\n      videoRef.current.pause();\r\n    }\r\n  }, [isPlaying, isReady, onPlayPause]);\r\n\r\n  const handleRetry = useCallback(() => {\r\n    if (retryCount >= MAX_RETRIES) {\r\n      setError('Nuk mund t√´ luhet stream-i. Provo nj√´ tjet√´r.');\r\n      return;\r\n    }\r\n\r\n    setRetryCount(prev => prev + 1);\r\n    setError(null);\r\n    setUseNativeControls(true); // P√´rdor kontrollet native\r\n    \r\n    // Reload video\r\n    if (videoRef.current) {\r\n      const currentSrc = src;\r\n      videoRef.current.src = '';\r\n      videoRef.current.load();\r\n      \r\n      setTimeout(() => {\r\n        if (videoRef.current) {\r\n          videoRef.current.src = currentSrc;\r\n          videoRef.current.load();\r\n          \r\n          setTimeout(() => {\r\n            if (videoRef.current && isPlaying) {\r\n              videoRef.current.play().catch(e => {\r\n                console.warn('Retry failed:', e);\r\n              });\r\n            }\r\n          }, 500);\r\n        }\r\n      }, 100);\r\n    }\r\n  }, [retryCount, src, isPlaying]);\r\n\r\n  const handleFullscreen = useCallback(() => {\r\n    if (videoRef.current) {\r\n      if (videoRef.current.requestFullscreen) {\r\n        videoRef.current.requestFullscreen();\r\n      } else if (videoRef.current.webkitRequestFullscreen) {\r\n        videoRef.current.webkitRequestFullscreen();\r\n      } else if (videoRef.current.msRequestFullscreen) {\r\n        videoRef.current.msRequestFullscreen();\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  if (!src) return null;\r\n\r\n  return (\r\n    <div className={`hls-player theme-${theme}`}>\r\n      <div className=\"video-container\">\r\n        <video\r\n          ref={videoRef}\r\n          className=\"video-element\"\r\n          playsInline\r\n          controls={useNativeControls ? true : true} // Gjithmon√´ shfaq controls\r\n          preload=\"auto\"\r\n          poster={currentStreamInfo?.logo}\r\n        />\r\n        \r\n        {/* Loading Indicator */}\r\n        {!isReady && !error && (\r\n          <div className=\"player-loading\">\r\n            <div className=\"loading-spinner\"></div>\r\n            <p>Duke ngarkuar stream-in...</p>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Buffering Indicator */}\r\n        {isBuffering && isReady && isPlaying && (\r\n          <div className=\"player-buffering\">\r\n            <div className=\"buffering-spinner\"></div>\r\n            <p>Duke bufferuar...</p>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Error Display */}\r\n        {error && (\r\n          <div className=\"player-error\">\r\n            <span className=\"error-icon\">‚ö†Ô∏è</span>\r\n            <p>{error}</p>\r\n            <button onClick={handleRetry} className=\"retry-btn\">\r\n              Provo p√´rs√´ri\r\n            </button>\r\n            <button \r\n              onClick={() => window.open(src, '_blank')} \r\n              className=\"direct-link-btn\"\r\n            >\r\n              Hap direkt\r\n            </button>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Play Button Overlay */}\r\n        {!isPlaying && isReady && !error && (\r\n          <button className=\"play-btn-overlay\" onClick={onPlayPause}>\r\n            ‚ñ∂\r\n          </button>\r\n        )}\r\n\r\n        {/* Fullscreen Button */}\r\n        {isReady && !error && (\r\n          <button className=\"fullscreen-btn\" onClick={handleFullscreen}>\r\n            ‚õ∂\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Channel Info */}\r\n      {currentStreamInfo && (\r\n        <div className=\"player-info\">\r\n          <div className=\"channel-info\">\r\n            {currentStreamInfo.logo && (\r\n              <img \r\n                src={currentStreamInfo.logo} \r\n                alt={currentStreamInfo.name}\r\n                className=\"channel-logo\"\r\n                onError={(e) => {\r\n                  e.target.onerror = null;\r\n                  e.target.style.display = 'none';\r\n                }}\r\n              />\r\n            )}\r\n            <div className=\"channel-details\">\r\n              <span className=\"channel-name\">{currentStreamInfo.name}</span>\r\n              <span className=\"channel-category\">{currentStreamInfo.category}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          {currentEpg && (\r\n            <div className=\"epg-info\">\r\n              <span className=\"epg-title\">{currentEpg.title}</span>\r\n              <span className=\"epg-time\">\r\n                {new Date(currentEpg.start_timestamp * 1000).toLocaleTimeString([], { \r\n                  hour: '2-digit', \r\n                  minute: '2-digit' \r\n                })}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HlsPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}