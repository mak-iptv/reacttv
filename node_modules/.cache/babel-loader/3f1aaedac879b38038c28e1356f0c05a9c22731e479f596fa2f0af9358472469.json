{"ast":null,"code":"// services/xtream.js\n\n/**\r\n * Nderto URL-n√´ e Xtream API\r\n */\nconst buildUrl = (server, user, pass, action = '') => {\n  let baseUrl = server.trim();\n\n  // Pastro URL-n√´\n  if (baseUrl.endsWith('/')) {\n    baseUrl = baseUrl.slice(0, -1);\n  }\n\n  // Shto protocol n√´se mungon\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\n    baseUrl = 'http://' + baseUrl;\n  }\n\n  // Player API URL\n  if (action) {\n    return `${baseUrl}/player_api.php?username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}&action=${action}`;\n  } else {\n    return `${baseUrl}/player_api.php?username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}`;\n  }\n};\n\n/**\r\n * Fetch me CORS proxy\r\n */\nconst fetchWithProxy = async url => {\n  const proxies = ['https://api.allorigins.win/raw?url=', 'https://corsproxy.io/?', 'https://proxy.cors.sh/', 'https://cors-anywhere.herokuapp.com/'];\n  for (const proxy of proxies) {\n    try {\n      console.log('üîÑ Trying proxy:', proxy);\n      const proxyUrl = `${proxy}${encodeURIComponent(url)}`;\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 15000);\n      const response = await fetch(proxyUrl, {\n        signal: controller.signal,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      clearTimeout(timeoutId);\n      if (response.ok) {\n        const text = await response.text();\n        console.log('‚úÖ Proxy success:', proxy);\n        try {\n          return JSON.parse(text);\n        } catch (e) {\n          return {\n            error: 'Invalid JSON',\n            raw: text.substring(0, 200)\n          };\n        }\n      }\n    } catch (err) {\n      console.log('‚ùå Proxy failed:', proxy, err.message);\n      continue;\n    }\n  }\n  throw new Error('All proxies failed');\n};\n\n/**\r\n * Fetch direkt pa proxy\r\n */\nconst fetchDirect = async url => {\n  console.log('üåê Fetching directly:', url);\n  try {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 10000);\n    const response = await fetch(url, {\n      signal: controller.signal,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials: 'omit'\n    });\n    clearTimeout(timeoutId);\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n    const text = await response.text();\n    console.log('üì¶ Direct response:', text.substring(0, 200));\n    try {\n      return JSON.parse(text);\n    } catch (e) {\n      return {\n        error: 'Invalid JSON',\n        raw: text.substring(0, 200)\n      };\n    }\n  } catch (error) {\n    console.log('‚ùå Direct fetch failed:', error.message);\n    throw error;\n  }\n};\n\n/**\r\n * Fetch me fallback\r\n */\nconst fetchWithFallback = async url => {\n  try {\n    return await fetchDirect(url);\n  } catch (directError) {\n    console.log('‚ö†Ô∏è Direct failed, trying proxies...', directError.message);\n    try {\n      return await fetchWithProxy(url);\n    } catch (proxyError) {\n      console.log('‚ùå All proxies failed', proxyError.message);\n      throw new Error('Nuk mund t√´ lidhemi me serverin. Kontrollo URL-n√´ ose provo nj√´ server tjet√´r.');\n    }\n  }\n};\n\n/**\r\n * TEST SERVER\r\n */\nexport const testServer = async server => {\n  try {\n    let baseUrl = server.trim();\n    if (baseUrl.endsWith('/')) baseUrl = baseUrl.slice(0, -1);\n    if (!baseUrl.startsWith('http')) baseUrl = 'http://' + baseUrl;\n    const testUrl = `${baseUrl}/player_api.php`;\n    console.log('üîç Testing server:', testUrl);\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 5000);\n    const response = await fetch(testUrl, {\n      method: 'HEAD',\n      signal: controller.signal,\n      mode: 'cors',\n      cache: 'no-cache'\n    }).catch(() => null);\n    clearTimeout(timeoutId);\n    return {\n      online: response && response.ok,\n      url: baseUrl\n    };\n  } catch (error) {\n    return {\n      online: false,\n      url: server\n    };\n  }\n};\n\n/**\r\n * LOGIN\r\n */\nexport const xtreamLogin = async (server, user, pass) => {\n  try {\n    let url = buildUrl(server, user, pass, '');\n    console.log('üîë Trying login with:', url);\n    let data = null;\n    try {\n      data = await fetchWithFallback(url);\n    } catch (err) {\n      if (url.startsWith('http://')) {\n        const httpsUrl = url.replace('http://', 'https://');\n        console.log('üîë Retrying with HTTPS:', httpsUrl);\n        data = await fetchWithFallback(httpsUrl);\n      } else {\n        throw err;\n      }\n    }\n    console.log('üîë Login response:', data);\n    if (data && data.user_info) {\n      if (data.user_info.auth === 1 || data.user_info.status === 'Active') {\n        return {\n          success: true,\n          data: data.user_info,\n          server: server\n        };\n      }\n    }\n    if (data && data.error) {\n      return {\n        success: false,\n        error: data.error\n      };\n    }\n    return {\n      success: false,\n      error: 'Kredencialet e gabuara ose serveri nuk p√´rgjigjet'\n    };\n  } catch (error) {\n    console.error('‚ùå Login error:', error);\n    return {\n      success: false,\n      error: 'Nuk u lidh me serverin. Kontrollo: \\n‚Ä¢ URL-n√´ e serverit\\n‚Ä¢ Lidhjen e internetit\\n‚Ä¢ N√´se serveri √´sht√´ online'\n    };\n  }\n};\n\n/**\r\n * LIVE STREAMS\r\n */\nexport const getLiveStreams = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_live_streams');\n    console.log('üì∫ Live URL:', url);\n    const data = await fetchWithFallback(url);\n    if (!data) return [];\n    let streams = [];\n    if (Array.isArray(data)) streams = data;else if (data.live) streams = data.live;else if (data.channels) streams = data.channels;\n    return streams.map(channel => ({\n      id: channel.stream_id,\n      stream_id: channel.stream_id,\n      name: channel.name || 'Pa em√´r',\n      title: channel.name || 'Pa em√´r',\n      logo: channel.stream_icon || channel.logo || null,\n      poster: channel.stream_icon || null,\n      cover: channel.stream_icon || null,\n      category_id: channel.category_id,\n      category: channel.category_name || 'T√´ tjera',\n      category_name: channel.category_name || 'T√´ tjera',\n      epg_channel_id: channel.epg_channel_id,\n      tv_archive: channel.tv_archive === 1,\n      tv_archive_duration: channel.tv_archive_duration || 0,\n      type: 'live',\n      stream_url: null\n    }));\n  } catch (error) {\n    console.error('‚ùå getLiveStreams error:', error);\n    return [];\n  }\n};\n\n/**\r\n * LIVE CATEGORIES\r\n */\nexport const getLiveCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_live_categories');\n    console.log('üè∑Ô∏è Live Categories URL:', url);\n    const data = await fetchWithFallback(url);\n    if (!data) return [];\n    let categories = [];\n    if (Array.isArray(data)) categories = data;else if (data.categories) categories = data.categories;\n    return categories.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name || 'T√´ tjera',\n      title: cat.category_name || 'T√´ tjera',\n      parent_id: cat.parent_id || 0,\n      type: 'live'\n    }));\n  } catch (error) {\n    console.error('‚ùå getLiveCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * MOVIES\r\n */\nexport const getMovies = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_vod_streams');\n    console.log('üé¨ Movies URL:', url);\n    const data = await fetchWithFallback(url);\n    if (!data) return [];\n    let movies = [];\n    if (Array.isArray(data)) movies = data;else if (data.vod) movies = data.vod;else if (data.movies) movies = data.movies;\n    return movies.map(movie => ({\n      id: movie.stream_id,\n      stream_id: movie.stream_id,\n      name: movie.name || 'Pa titull',\n      title: movie.name || 'Pa titull',\n      logo: movie.stream_icon || null,\n      poster: movie.stream_icon || null,\n      cover: movie.stream_icon || null,\n      backdrop: movie.backdrop_path || null,\n      category_id: movie.category_id,\n      category: movie.category_name || 'Filma',\n      category_name: movie.category_name || 'Filma',\n      year: movie.year || null,\n      rating: movie.rating || null,\n      duration: movie.duration || 0,\n      description: movie.description || null,\n      plot: movie.plot || null,\n      cast: movie.cast || null,\n      director: movie.director || null,\n      genre: movie.genre || null,\n      container_extension: movie.container_extension || 'mp4',\n      type: 'movie'\n    }));\n  } catch (error) {\n    console.error('‚ùå getMovies error:', error);\n    return [];\n  }\n};\n\n/**\r\n * MOVIES CATEGORIES\r\n */\nexport const getMovieCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_vod_categories');\n    console.log('üè∑Ô∏è Movie Categories URL:', url);\n    const data = await fetchWithFallback(url);\n    if (!data) return [];\n    let categories = [];\n    if (Array.isArray(data)) categories = data;else if (data.categories) categories = data.categories;\n    return categories.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name || 'Filma',\n      title: cat.category_name || 'Filma',\n      parent_id: cat.parent_id || 0,\n      type: 'movie'\n    }));\n  } catch (error) {\n    console.error('‚ùå getMovieCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES\r\n */\nexport const getSeries = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_series');\n    console.log('üì∫ Series URL:', url);\n    const data = await fetchWithFallback(url);\n    if (!data) return [];\n    let series = [];\n    if (Array.isArray(data)) series = data;else if (data.series) series = data.series;\n    return series.map(s => {\n      var _s$seasons;\n      return {\n        id: s.series_id,\n        series_id: s.series_id,\n        name: s.name || 'Pa titull',\n        title: s.name || 'Pa titull',\n        logo: s.cover || null,\n        poster: s.cover || null,\n        cover: s.cover || null,\n        backdrop: s.backdrop_path || null,\n        category_id: s.category_id,\n        category: s.category_name || 'Seriale',\n        category_name: s.category_name || 'Seriale',\n        year: s.year || null,\n        rating: s.rating || null,\n        description: s.description || null,\n        plot: s.plot || null,\n        cast: s.cast || null,\n        director: s.director || null,\n        genre: s.genre || null,\n        seasons: s.seasons || [],\n        season_count: ((_s$seasons = s.seasons) === null || _s$seasons === void 0 ? void 0 : _s$seasons.length) || 0,\n        type: 'series'\n      };\n    });\n  } catch (error) {\n    console.error('‚ùå getSeries error:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES CATEGORIES\r\n */\nexport const getSeriesCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_series_categories');\n    console.log('üè∑Ô∏è Series Categories URL:', url);\n    const data = await fetchWithFallback(url);\n    if (!data) return [];\n    let categories = [];\n    if (Array.isArray(data)) categories = data;else if (data.categories) categories = data.categories;\n    return categories.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name || 'Seriale',\n      title: cat.category_name || 'Seriale',\n      parent_id: cat.parent_id || 0,\n      type: 'series'\n    }));\n  } catch (error) {\n    console.error('‚ùå getSeriesCategories error:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES INFO\r\n */\nexport const getSeriesInfo = async (server, user, pass, seriesId) => {\n  try {\n    var _data$info, _data$info2, _data$info3, _data$info4, _data$info5, _data$info6, _data$info7, _data$info8, _data$info9;\n    const url = buildUrl(server, user, pass, 'get_series_info');\n    const fullUrl = `${url}&series_id=${seriesId}`;\n    console.log('üì∫ Series Info URL:', fullUrl);\n    const data = await fetchWithFallback(fullUrl);\n    if (!data) return null;\n    return {\n      id: seriesId,\n      name: ((_data$info = data.info) === null || _data$info === void 0 ? void 0 : _data$info.name) || '',\n      cover: ((_data$info2 = data.info) === null || _data$info2 === void 0 ? void 0 : _data$info2.cover) || '',\n      backdrop: ((_data$info3 = data.info) === null || _data$info3 === void 0 ? void 0 : _data$info3.backdrop_path) || '',\n      plot: ((_data$info4 = data.info) === null || _data$info4 === void 0 ? void 0 : _data$info4.plot) || '',\n      cast: ((_data$info5 = data.info) === null || _data$info5 === void 0 ? void 0 : _data$info5.cast) || '',\n      director: ((_data$info6 = data.info) === null || _data$info6 === void 0 ? void 0 : _data$info6.director) || '',\n      genre: ((_data$info7 = data.info) === null || _data$info7 === void 0 ? void 0 : _data$info7.genre) || '',\n      release_date: ((_data$info8 = data.info) === null || _data$info8 === void 0 ? void 0 : _data$info8.release_date) || '',\n      rating: ((_data$info9 = data.info) === null || _data$info9 === void 0 ? void 0 : _data$info9.rating) || '',\n      seasons: data.episodes || {}\n    };\n  } catch (error) {\n    console.error('‚ùå getSeriesInfo error:', error);\n    return null;\n  }\n};\n\n/**\r\n * EPG\r\n */\nexport const getEPG = async (server, user, pass, streamId, date = null) => {\n  try {\n    let url = buildUrl(server, user, pass, 'get_epg');\n    url = `${url}&stream_id=${streamId}`;\n    if (date) {\n      url = `${url}&date=${date}`;\n    }\n    console.log('üìÖ EPG URL:', url);\n    const data = await fetchWithFallback(url);\n    if (!data || !data.epg_listings) {\n      return [];\n    }\n    return data.epg_listings.map(epg => ({\n      id: epg.id,\n      epg_id: epg.id,\n      channel_id: streamId,\n      title: epg.title || 'Pa titull',\n      description: epg.description || '',\n      start: epg.start,\n      end: epg.end,\n      start_timestamp: epg.start_timestamp,\n      end_timestamp: epg.end_timestamp,\n      now_playing: epg.now_playing || false\n    }));\n  } catch (error) {\n    console.error('‚ùå getEPG error:', error);\n    return [];\n  }\n};\n\n/**\r\n * BUILD STREAM URL\r\n */\nexport const buildStreamUrl = (server, user, pass, streamId, type = 'live', extension = 'm3u8') => {\n  let baseUrl = server.trim();\n  if (baseUrl.endsWith('/')) {\n    baseUrl = baseUrl.slice(0, -1);\n  }\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\n    baseUrl = 'http://' + baseUrl;\n  }\n  switch (type) {\n    case 'live':\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\n    case 'movie':\n      return `${baseUrl}/movie/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.${extension}`;\n    case 'series':\n      return `${baseUrl}/series/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.mp4`;\n    default:\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\n  }\n};\n\n/**\r\n * ALL CATEGORIES\r\n */\nexport const getAllCategories = async (server, user, pass) => {\n  try {\n    const [liveCats, movieCats, seriesCats] = await Promise.allSettled([getLiveCategories(server, user, pass), getMovieCategories(server, user, pass), getSeriesCategories(server, user, pass)]);\n    return {\n      live: liveCats.status === 'fulfilled' ? liveCats.value : [],\n      movies: movieCats.status === 'fulfilled' ? movieCats.value : [],\n      series: seriesCats.status === 'fulfilled' ? seriesCats.value : [],\n      all: [...(liveCats.status === 'fulfilled' ? liveCats.value.map(c => ({\n        ...c,\n        type: 'live'\n      })) : []), ...(movieCats.status === 'fulfilled' ? movieCats.value.map(c => ({\n        ...c,\n        type: 'movie'\n      })) : []), ...(seriesCats.status === 'fulfilled' ? seriesCats.value.map(c => ({\n        ...c,\n        type: 'series'\n      })) : [])]\n    };\n  } catch (error) {\n    console.error('‚ùå getAllCategories error:', error);\n    return {\n      live: [],\n      movies: [],\n      series: [],\n      all: []\n    };\n  }\n};\n\n/**\r\n * ALL CONTENT\r\n */\nexport const getAllContent = async (server, user, pass) => {\n  try {\n    const [live, movies, series] = await Promise.allSettled([getLiveStreams(server, user, pass), getMovies(server, user, pass), getSeries(server, user, pass)]);\n    return {\n      live: live.status === 'fulfilled' ? live.value : [],\n      movies: movies.status === 'fulfilled' ? movies.value : [],\n      series: series.status === 'fulfilled' ? series.value : []\n    };\n  } catch (error) {\n    console.error('‚ùå getAllContent error:', error);\n    return {\n      live: [],\n      movies: [],\n      series: []\n    };\n  }\n};\n\n// DEFAULT EXPORT\nexport default {\n  xtreamLogin,\n  testServer,\n  getLiveStreams,\n  getLiveCategories,\n  getMovies,\n  getMovieCategories,\n  getSeries,\n  getSeriesCategories,\n  getSeriesInfo,\n  getEPG,\n  buildStreamUrl,\n  getAllCategories,\n  getAllContent\n};","map":{"version":3,"names":["buildUrl","server","user","pass","action","baseUrl","trim","endsWith","slice","startsWith","encodeURIComponent","fetchWithProxy","url","proxies","proxy","console","log","proxyUrl","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","signal","headers","clearTimeout","ok","text","JSON","parse","e","error","raw","substring","err","message","Error","fetchDirect","mode","credentials","status","fetchWithFallback","directError","proxyError","testServer","testUrl","method","cache","catch","online","xtreamLogin","data","httpsUrl","replace","user_info","auth","success","getLiveStreams","streams","Array","isArray","live","channels","map","channel","id","stream_id","name","title","logo","stream_icon","poster","cover","category_id","category","category_name","epg_channel_id","tv_archive","tv_archive_duration","type","stream_url","getLiveCategories","categories","cat","parent_id","getMovies","movies","vod","movie","backdrop","backdrop_path","year","rating","duration","description","plot","cast","director","genre","container_extension","getMovieCategories","getSeries","series","s","_s$seasons","series_id","seasons","season_count","length","getSeriesCategories","getSeriesInfo","seriesId","_data$info","_data$info2","_data$info3","_data$info4","_data$info5","_data$info6","_data$info7","_data$info8","_data$info9","fullUrl","info","release_date","episodes","getEPG","streamId","date","epg_listings","epg","epg_id","channel_id","start","end","start_timestamp","end_timestamp","now_playing","buildStreamUrl","extension","getAllCategories","liveCats","movieCats","seriesCats","Promise","allSettled","value","all","c","getAllContent"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/services/xtream.jsx"],"sourcesContent":["// services/xtream.js\r\n\r\n/**\r\n * Nderto URL-n√´ e Xtream API\r\n */\r\nconst buildUrl = (server, user, pass, action = '') => {\r\n  let baseUrl = server.trim();\r\n  \r\n  // Pastro URL-n√´\r\n  if (baseUrl.endsWith('/')) {\r\n    baseUrl = baseUrl.slice(0, -1);\r\n  }\r\n  \r\n  // Shto protocol n√´se mungon\r\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\r\n    baseUrl = 'http://' + baseUrl;\r\n  }\r\n  \r\n  // Player API URL\r\n  if (action) {\r\n    return `${baseUrl}/player_api.php?username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}&action=${action}`;\r\n  } else {\r\n    return `${baseUrl}/player_api.php?username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}`;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch me CORS proxy\r\n */\r\nconst fetchWithProxy = async (url) => {\r\n  const proxies = [\r\n    'https://api.allorigins.win/raw?url=',\r\n    'https://corsproxy.io/?',\r\n    'https://proxy.cors.sh/',\r\n    'https://cors-anywhere.herokuapp.com/'\r\n  ];\r\n\r\n  for (const proxy of proxies) {\r\n    try {\r\n      console.log('üîÑ Trying proxy:', proxy);\r\n      const proxyUrl = `${proxy}${encodeURIComponent(url)}`;\r\n      \r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 15000);\r\n\r\n      const response = await fetch(proxyUrl, {\r\n        signal: controller.signal,\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      clearTimeout(timeoutId);\r\n\r\n      if (response.ok) {\r\n        const text = await response.text();\r\n        console.log('‚úÖ Proxy success:', proxy);\r\n        \r\n        try {\r\n          return JSON.parse(text);\r\n        } catch (e) {\r\n          return { error: 'Invalid JSON', raw: text.substring(0, 200) };\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log('‚ùå Proxy failed:', proxy, err.message);\r\n      continue;\r\n    }\r\n  }\r\n  \r\n  throw new Error('All proxies failed');\r\n};\r\n\r\n/**\r\n * Fetch direkt pa proxy\r\n */\r\nconst fetchDirect = async (url) => {\r\n  console.log('üåê Fetching directly:', url);\r\n  \r\n  try {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 10000);\r\n\r\n    const response = await fetch(url, {\r\n      signal: controller.signal,\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      mode: 'cors',\r\n      credentials: 'omit'\r\n    });\r\n\r\n    clearTimeout(timeoutId);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP ${response.status}`);\r\n    }\r\n\r\n    const text = await response.text();\r\n    console.log('üì¶ Direct response:', text.substring(0, 200));\r\n    \r\n    try {\r\n      return JSON.parse(text);\r\n    } catch (e) {\r\n      return { error: 'Invalid JSON', raw: text.substring(0, 200) };\r\n    }\r\n  } catch (error) {\r\n    console.log('‚ùå Direct fetch failed:', error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch me fallback\r\n */\r\nconst fetchWithFallback = async (url) => {\r\n  try {\r\n    return await fetchDirect(url);\r\n  } catch (directError) {\r\n    console.log('‚ö†Ô∏è Direct failed, trying proxies...', directError.message);\r\n    try {\r\n      return await fetchWithProxy(url);\r\n    } catch (proxyError) {\r\n      console.log('‚ùå All proxies failed', proxyError.message);\r\n      throw new Error('Nuk mund t√´ lidhemi me serverin. Kontrollo URL-n√´ ose provo nj√´ server tjet√´r.');\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * TEST SERVER\r\n */\r\nexport const testServer = async (server) => {\r\n  try {\r\n    let baseUrl = server.trim();\r\n    if (baseUrl.endsWith('/')) baseUrl = baseUrl.slice(0, -1);\r\n    if (!baseUrl.startsWith('http')) baseUrl = 'http://' + baseUrl;\r\n    \r\n    const testUrl = `${baseUrl}/player_api.php`;\r\n    console.log('üîç Testing server:', testUrl);\r\n    \r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 5000);\r\n    \r\n    const response = await fetch(testUrl, {\r\n      method: 'HEAD',\r\n      signal: controller.signal,\r\n      mode: 'cors',\r\n      cache: 'no-cache'\r\n    }).catch(() => null);\r\n    \r\n    clearTimeout(timeoutId);\r\n    \r\n    return {\r\n      online: response && response.ok,\r\n      url: baseUrl\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      online: false,\r\n      url: server\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * LOGIN\r\n */\r\nexport const xtreamLogin = async (server, user, pass) => {\r\n  try {\r\n    let url = buildUrl(server, user, pass, '');\r\n    console.log('üîë Trying login with:', url);\r\n    \r\n    let data = null;\r\n    \r\n    try {\r\n      data = await fetchWithFallback(url);\r\n    } catch (err) {\r\n      if (url.startsWith('http://')) {\r\n        const httpsUrl = url.replace('http://', 'https://');\r\n        console.log('üîë Retrying with HTTPS:', httpsUrl);\r\n        data = await fetchWithFallback(httpsUrl);\r\n      } else {\r\n        throw err;\r\n      }\r\n    }\r\n    \r\n    console.log('üîë Login response:', data);\r\n    \r\n    if (data && data.user_info) {\r\n      if (data.user_info.auth === 1 || data.user_info.status === 'Active') {\r\n        return {\r\n          success: true,\r\n          data: data.user_info,\r\n          server: server\r\n        };\r\n      }\r\n    }\r\n    \r\n    if (data && data.error) {\r\n      return {\r\n        success: false,\r\n        error: data.error\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      error: 'Kredencialet e gabuara ose serveri nuk p√´rgjigjet'\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå Login error:', error);\r\n    return {\r\n      success: false,\r\n      error: 'Nuk u lidh me serverin. Kontrollo: \\n‚Ä¢ URL-n√´ e serverit\\n‚Ä¢ Lidhjen e internetit\\n‚Ä¢ N√´se serveri √´sht√´ online'\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * LIVE STREAMS\r\n */\r\nexport const getLiveStreams = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_live_streams');\r\n    console.log('üì∫ Live URL:', url);\r\n    \r\n    const data = await fetchWithFallback(url);\r\n    \r\n    if (!data) return [];\r\n\r\n    let streams = [];\r\n    if (Array.isArray(data)) streams = data;\r\n    else if (data.live) streams = data.live;\r\n    else if (data.channels) streams = data.channels;\r\n\r\n    return streams.map(channel => ({\r\n      id: channel.stream_id,\r\n      stream_id: channel.stream_id,\r\n      name: channel.name || 'Pa em√´r',\r\n      title: channel.name || 'Pa em√´r',\r\n      logo: channel.stream_icon || channel.logo || null,\r\n      poster: channel.stream_icon || null,\r\n      cover: channel.stream_icon || null,\r\n      category_id: channel.category_id,\r\n      category: channel.category_name || 'T√´ tjera',\r\n      category_name: channel.category_name || 'T√´ tjera',\r\n      epg_channel_id: channel.epg_channel_id,\r\n      tv_archive: channel.tv_archive === 1,\r\n      tv_archive_duration: channel.tv_archive_duration || 0,\r\n      type: 'live',\r\n      stream_url: null\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getLiveStreams error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * LIVE CATEGORIES\r\n */\r\nexport const getLiveCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_live_categories');\r\n    console.log('üè∑Ô∏è Live Categories URL:', url);\r\n    \r\n    const data = await fetchWithFallback(url);\r\n    \r\n    if (!data) return [];\r\n\r\n    let categories = [];\r\n    if (Array.isArray(data)) categories = data;\r\n    else if (data.categories) categories = data.categories;\r\n\r\n    return categories.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name || 'T√´ tjera',\r\n      title: cat.category_name || 'T√´ tjera',\r\n      parent_id: cat.parent_id || 0,\r\n      type: 'live'\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getLiveCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * MOVIES\r\n */\r\nexport const getMovies = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_vod_streams');\r\n    console.log('üé¨ Movies URL:', url);\r\n    \r\n    const data = await fetchWithFallback(url);\r\n    \r\n    if (!data) return [];\r\n\r\n    let movies = [];\r\n    if (Array.isArray(data)) movies = data;\r\n    else if (data.vod) movies = data.vod;\r\n    else if (data.movies) movies = data.movies;\r\n\r\n    return movies.map(movie => ({\r\n      id: movie.stream_id,\r\n      stream_id: movie.stream_id,\r\n      name: movie.name || 'Pa titull',\r\n      title: movie.name || 'Pa titull',\r\n      logo: movie.stream_icon || null,\r\n      poster: movie.stream_icon || null,\r\n      cover: movie.stream_icon || null,\r\n      backdrop: movie.backdrop_path || null,\r\n      category_id: movie.category_id,\r\n      category: movie.category_name || 'Filma',\r\n      category_name: movie.category_name || 'Filma',\r\n      year: movie.year || null,\r\n      rating: movie.rating || null,\r\n      duration: movie.duration || 0,\r\n      description: movie.description || null,\r\n      plot: movie.plot || null,\r\n      cast: movie.cast || null,\r\n      director: movie.director || null,\r\n      genre: movie.genre || null,\r\n      container_extension: movie.container_extension || 'mp4',\r\n      type: 'movie'\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getMovies error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * MOVIES CATEGORIES\r\n */\r\nexport const getMovieCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_vod_categories');\r\n    console.log('üè∑Ô∏è Movie Categories URL:', url);\r\n    \r\n    const data = await fetchWithFallback(url);\r\n    \r\n    if (!data) return [];\r\n\r\n    let categories = [];\r\n    if (Array.isArray(data)) categories = data;\r\n    else if (data.categories) categories = data.categories;\r\n\r\n    return categories.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name || 'Filma',\r\n      title: cat.category_name || 'Filma',\r\n      parent_id: cat.parent_id || 0,\r\n      type: 'movie'\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getMovieCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES\r\n */\r\nexport const getSeries = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series');\r\n    console.log('üì∫ Series URL:', url);\r\n    \r\n    const data = await fetchWithFallback(url);\r\n    \r\n    if (!data) return [];\r\n\r\n    let series = [];\r\n    if (Array.isArray(data)) series = data;\r\n    else if (data.series) series = data.series;\r\n\r\n    return series.map(s => ({\r\n      id: s.series_id,\r\n      series_id: s.series_id,\r\n      name: s.name || 'Pa titull',\r\n      title: s.name || 'Pa titull',\r\n      logo: s.cover || null,\r\n      poster: s.cover || null,\r\n      cover: s.cover || null,\r\n      backdrop: s.backdrop_path || null,\r\n      category_id: s.category_id,\r\n      category: s.category_name || 'Seriale',\r\n      category_name: s.category_name || 'Seriale',\r\n      year: s.year || null,\r\n      rating: s.rating || null,\r\n      description: s.description || null,\r\n      plot: s.plot || null,\r\n      cast: s.cast || null,\r\n      director: s.director || null,\r\n      genre: s.genre || null,\r\n      seasons: s.seasons || [],\r\n      season_count: s.seasons?.length || 0,\r\n      type: 'series'\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getSeries error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES CATEGORIES\r\n */\r\nexport const getSeriesCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series_categories');\r\n    console.log('üè∑Ô∏è Series Categories URL:', url);\r\n    \r\n    const data = await fetchWithFallback(url);\r\n    \r\n    if (!data) return [];\r\n\r\n    let categories = [];\r\n    if (Array.isArray(data)) categories = data;\r\n    else if (data.categories) categories = data.categories;\r\n\r\n    return categories.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name || 'Seriale',\r\n      title: cat.category_name || 'Seriale',\r\n      parent_id: cat.parent_id || 0,\r\n      type: 'series'\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getSeriesCategories error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES INFO\r\n */\r\nexport const getSeriesInfo = async (server, user, pass, seriesId) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series_info');\r\n    const fullUrl = `${url}&series_id=${seriesId}`;\r\n    console.log('üì∫ Series Info URL:', fullUrl);\r\n    \r\n    const data = await fetchWithFallback(fullUrl);\r\n    \r\n    if (!data) return null;\r\n\r\n    return {\r\n      id: seriesId,\r\n      name: data.info?.name || '',\r\n      cover: data.info?.cover || '',\r\n      backdrop: data.info?.backdrop_path || '',\r\n      plot: data.info?.plot || '',\r\n      cast: data.info?.cast || '',\r\n      director: data.info?.director || '',\r\n      genre: data.info?.genre || '',\r\n      release_date: data.info?.release_date || '',\r\n      rating: data.info?.rating || '',\r\n      seasons: data.episodes || {}\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå getSeriesInfo error:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * EPG\r\n */\r\nexport const getEPG = async (server, user, pass, streamId, date = null) => {\r\n  try {\r\n    let url = buildUrl(server, user, pass, 'get_epg');\r\n    url = `${url}&stream_id=${streamId}`;\r\n    \r\n    if (date) {\r\n      url = `${url}&date=${date}`;\r\n    }\r\n    \r\n    console.log('üìÖ EPG URL:', url);\r\n    \r\n    const data = await fetchWithFallback(url);\r\n    \r\n    if (!data || !data.epg_listings) {\r\n      return [];\r\n    }\r\n\r\n    return data.epg_listings.map(epg => ({\r\n      id: epg.id,\r\n      epg_id: epg.id,\r\n      channel_id: streamId,\r\n      title: epg.title || 'Pa titull',\r\n      description: epg.description || '',\r\n      start: epg.start,\r\n      end: epg.end,\r\n      start_timestamp: epg.start_timestamp,\r\n      end_timestamp: epg.end_timestamp,\r\n      now_playing: epg.now_playing || false\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ùå getEPG error:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * BUILD STREAM URL\r\n */\r\nexport const buildStreamUrl = (server, user, pass, streamId, type = 'live', extension = 'm3u8') => {\r\n  let baseUrl = server.trim();\r\n  \r\n  if (baseUrl.endsWith('/')) {\r\n    baseUrl = baseUrl.slice(0, -1);\r\n  }\r\n  \r\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\r\n    baseUrl = 'http://' + baseUrl;\r\n  }\r\n\r\n  switch (type) {\r\n    case 'live':\r\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\r\n    case 'movie':\r\n      return `${baseUrl}/movie/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.${extension}`;\r\n    case 'series':\r\n      return `${baseUrl}/series/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.mp4`;\r\n    default:\r\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\r\n  }\r\n};\r\n\r\n/**\r\n * ALL CATEGORIES\r\n */\r\nexport const getAllCategories = async (server, user, pass) => {\r\n  try {\r\n    const [liveCats, movieCats, seriesCats] = await Promise.allSettled([\r\n      getLiveCategories(server, user, pass),\r\n      getMovieCategories(server, user, pass),\r\n      getSeriesCategories(server, user, pass)\r\n    ]);\r\n\r\n    return {\r\n      live: liveCats.status === 'fulfilled' ? liveCats.value : [],\r\n      movies: movieCats.status === 'fulfilled' ? movieCats.value : [],\r\n      series: seriesCats.status === 'fulfilled' ? seriesCats.value : [],\r\n      all: [\r\n        ...(liveCats.status === 'fulfilled' ? liveCats.value.map(c => ({ ...c, type: 'live' })) : []),\r\n        ...(movieCats.status === 'fulfilled' ? movieCats.value.map(c => ({ ...c, type: 'movie' })) : []),\r\n        ...(seriesCats.status === 'fulfilled' ? seriesCats.value.map(c => ({ ...c, type: 'series' })) : [])\r\n      ]\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå getAllCategories error:', error);\r\n    return { live: [], movies: [], series: [], all: [] };\r\n  }\r\n};\r\n\r\n/**\r\n * ALL CONTENT\r\n */\r\nexport const getAllContent = async (server, user, pass) => {\r\n  try {\r\n    const [live, movies, series] = await Promise.allSettled([\r\n      getLiveStreams(server, user, pass),\r\n      getMovies(server, user, pass),\r\n      getSeries(server, user, pass)\r\n    ]);\r\n\r\n    return {\r\n      live: live.status === 'fulfilled' ? live.value : [],\r\n      movies: movies.status === 'fulfilled' ? movies.value : [],\r\n      series: series.status === 'fulfilled' ? series.value : []\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå getAllContent error:', error);\r\n    return { live: [], movies: [], series: [] };\r\n  }\r\n};\r\n\r\n// DEFAULT EXPORT\r\nexport default {\r\n  xtreamLogin,\r\n  testServer,\r\n  getLiveStreams,\r\n  getLiveCategories,\r\n  getMovies,\r\n  getMovieCategories,\r\n  getSeries,\r\n  getSeriesCategories,\r\n  getSeriesInfo,\r\n  getEPG,\r\n  buildStreamUrl,\r\n  getAllCategories,\r\n  getAllContent\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}