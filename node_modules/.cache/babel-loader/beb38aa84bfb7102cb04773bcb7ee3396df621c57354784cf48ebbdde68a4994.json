{"ast":null,"code":"// xtream.js - Versioni i rregulluar\n\nimport axios from 'axios';\n\n// ==================== XTREAM CODES API ====================\n\n/**\r\n * Login në Xtream Codes API\r\n */\nexport async function xtreamLogin(server, username, password) {\n  try {\n    // Pastro URL-në\n    let baseUrl = server.trim();\n    if (baseUrl.endsWith('/')) {\n      baseUrl = baseUrl.slice(0, -1);\n    }\n    const url = `${baseUrl}/player_api.php?username=${username}&password=${password}`;\n    const response = await axios.get(url, {\n      timeout: 10000,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    if (response.data && response.data.user_info) {\n      return {\n        success: true,\n        data: response.data\n      };\n    } else {\n      return {\n        success: false,\n        error: 'Kredencialet e gabuara ose serveri nuk përgjigjet'\n      };\n    }\n  } catch (error) {\n    console.error('Xtream login error:', error);\n    return {\n      success: false,\n      error: error.message || 'Gabim në lidhje me serverin'\n    };\n  }\n}\n\n/**\r\n * Merr të gjithë përmbajtjen\r\n */\nexport async function getAllContent(server, username, password) {\n  try {\n    let baseUrl = server.trim();\n    if (baseUrl.endsWith('/')) {\n      baseUrl = baseUrl.slice(0, -1);\n    }\n    const baseUrlApi = `${baseUrl}/player_api.php?username=${username}&password=${password}`;\n\n    // Merr LIVE kanale\n    const liveResponse = await axios.get(`${baseUrlApi}&action=get_live_streams`, {\n      timeout: 15000\n    });\n\n    // Merr VOD (Filma)\n    const vodResponse = await axios.get(`${baseUrlApi}&action=get_vod_streams`, {\n      timeout: 15000\n    });\n\n    // Merr SERIES\n    const seriesResponse = await axios.get(`${baseUrlApi}&action=get_series`, {\n      timeout: 15000\n    });\n    return {\n      live: liveResponse.data || [],\n      movies: vodResponse.data || [],\n      series: seriesResponse.data || []\n    };\n  } catch (error) {\n    console.error('Get content error:', error);\n    return {\n      live: [],\n      movies: [],\n      series: []\n    };\n  }\n}\n\n/**\r\n * Merr të gjitha kategoritë\r\n */\nexport async function getAllCategories(server, username, password) {\n  try {\n    let baseUrl = server.trim();\n    if (baseUrl.endsWith('/')) {\n      baseUrl = baseUrl.slice(0, -1);\n    }\n    const baseUrlApi = `${baseUrl}/player_api.php?username=${username}&password=${password}`;\n\n    // Kategoritë LIVE\n    const liveCats = await axios.get(`${baseUrlApi}&action=get_live_categories`, {\n      timeout: 10000\n    });\n\n    // Kategoritë VOD\n    const vodCats = await axios.get(`${baseUrlApi}&action=get_vod_categories`, {\n      timeout: 10000\n    });\n\n    // Kategoritë SERIES\n    const seriesCats = await axios.get(`${baseUrlApi}&action=get_series_categories`, {\n      timeout: 10000\n    });\n    return {\n      live: liveCats.data || [],\n      movies: vodCats.data || [],\n      series: seriesCats.data || []\n    };\n  } catch (error) {\n    console.error('Get categories error:', error);\n    return {\n      live: [],\n      movies: [],\n      series: []\n    };\n  }\n}\n\n/**\r\n * Ndërton URL për stream\r\n */\nexport function buildStreamUrl(server, username, password, streamId, type, extension = 'mp4') {\n  try {\n    let baseUrl = server.trim();\n    if (baseUrl.endsWith('/')) {\n      baseUrl = baseUrl.slice(0, -1);\n    }\n    if (type === 'live') {\n      return `${baseUrl}/live/${username}/${password}/${streamId}.m3u8`;\n    } else if (type === 'movie') {\n      return `${baseUrl}/movie/${username}/${password}/${streamId}.${extension}`;\n    } else if (type === 'series') {\n      return `${baseUrl}/series/${username}/${password}/${streamId}.${extension}`;\n    }\n    return null;\n  } catch (error) {\n    console.error('Build stream URL error:', error);\n    return null;\n  }\n}\n\n/**\r\n * Merr EPG për kanalin\r\n */\nexport async function getEPG(server, username, password, streamId) {\n  try {\n    var _response$data;\n    let baseUrl = server.trim();\n    if (baseUrl.endsWith('/')) {\n      baseUrl = baseUrl.slice(0, -1);\n    }\n    const url = `${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_short_epg&stream_id=${streamId}&limit=10`;\n    const response = await axios.get(url, {\n      timeout: 10000\n    });\n    return ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.epg_listings) || response.data || [];\n  } catch (error) {\n    console.error('EPG error:', error);\n    return [];\n  }\n}\n\n// ==================== M3U FUNKSIONET ====================\n\n/**\r\n * Fetch M3U nga URL\r\n */\nexport async function fetchM3UFromUrl(url) {\n  try {\n    if (!url || !url.trim()) {\n      throw new Error('URL nuk mund të jetë bosh');\n    }\n\n    // Validimi i URL\n    let validUrl = url.trim();\n\n    // Shto https:// nëse nuk ka protocol\n    if (!validUrl.startsWith('http://') && !validUrl.startsWith('https://')) {\n      validUrl = 'https://' + validUrl;\n    }\n    console.log('Fetching M3U from:', validUrl);\n\n    // Provo me fetch API\n    try {\n      const response = await fetch(validUrl, {\n        method: 'GET',\n        headers: {\n          'Accept': 'text/plain, text/html, application/vnd.apple.mpegurl, audio/x-mpegurl, */*',\n          'Content-Type': 'text/plain'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const text = await response.text();\n      if (!text || text.length < 10) {\n        throw new Error('Skedari M3U është bosh ose shumë i vogël');\n      }\n      if (!text.includes('#EXTM3U')) {\n        throw new Error('Skedari nuk është M3U playlist valid');\n      }\n      return text;\n    } catch (fetchError) {\n      console.warn('Fetch failed, trying axios...', fetchError);\n\n      // Nëse fetch dështon, provo me axios\n      const response = await axios.get(validUrl, {\n        timeout: 15000,\n        headers: {\n          'Accept': 'text/plain, text/html, application/vnd.apple.mpegurl, audio/x-mpegurl, */*',\n          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n        },\n        responseType: 'text'\n      });\n      const text = response.data;\n      if (!text || !text.includes('#EXTM3U')) {\n        throw new Error('Skedari nuk është M3U playlist valid');\n      }\n      return text;\n    }\n  } catch (error) {\n    console.error('M3U fetch error:', error);\n    throw new Error(`Nuk arrihet të ngarkohet M3U nga URL e dhënë: ${error.message}`);\n  }\n}\n\n/**\r\n * Parse M3U text\r\n */\nexport function parseM3U(m3uText) {\n  try {\n    if (!m3uText || !m3uText.includes('#EXTM3U')) {\n      throw new Error('M3U playlist invalid');\n    }\n    const lines = m3uText.split('\\n');\n    const channels = [];\n    let currentChannel = {};\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i].trim();\n      if (line.startsWith('#EXTINF:')) {\n        // Parse EXTINF line\n        try {\n          const extinf = line.substring(8);\n\n          // Merr duration\n          const durationMatch = extinf.match(/^(-?\\d+)/);\n          const duration = durationMatch ? parseInt(durationMatch[0]) : -1;\n\n          // Merr attributes\n          const attributes = {};\n          const attrRegex = /([a-zA-Z-]+)=\"([^\"]*)\"/g;\n          let match;\n          while ((match = attrRegex.exec(extinf)) !== null) {\n            attributes[match[1]] = match[2];\n          }\n\n          // Merr emrin (pas -)\n          let name = '';\n          const nameParts = extinf.split(',');\n          if (nameParts.length > 1) {\n            name = nameParts[nameParts.length - 1].trim();\n          }\n          currentChannel = {\n            name: name || 'Pa emër',\n            url: '',\n            duration,\n            tvg_id: attributes['tvg-id'] || '',\n            tvg_name: attributes['tvg-name'] || '',\n            tvg_logo: attributes['tvg-logo'] || attributes.logo || '',\n            group: attributes['group-title'] || 'Të tjera',\n            stream_url: '',\n            type: 'live'\n          };\n        } catch (e) {\n          console.warn('Error parsing EXTINF:', e);\n          currentChannel = {};\n        }\n      } else if (line && !line.startsWith('#') && currentChannel) {\n        // Kjo është URL\n        currentChannel.url = line;\n        currentChannel.stream_url = line;\n\n        // Ruaje kanalin\n        if (currentChannel.name && currentChannel.url) {\n          channels.push({\n            ...currentChannel,\n            id: channels.length + 1,\n            stream_id: channels.length + 1,\n            category: currentChannel.group,\n            category_name: currentChannel.group,\n            stream_icon: currentChannel.tvg_logo,\n            logo: currentChannel.tvg_logo\n          });\n        }\n        currentChannel = {};\n      }\n    }\n    return channels;\n  } catch (error) {\n    console.error('Parse M3U error:', error);\n    return [];\n  }\n}\n\n/**\r\n * Fetch dhe parse M3U direkt\r\n */\nexport async function fetchAndParseM3U(url) {\n  try {\n    const m3uText = await fetchM3UFromUrl(url);\n    const channels = parseM3U(m3uText);\n    return channels;\n  } catch (error) {\n    console.error('Fetch and parse M3U error:', error);\n    throw error;\n  }\n}","map":{"version":3,"names":["axios","xtreamLogin","server","username","password","baseUrl","trim","endsWith","slice","url","response","get","timeout","headers","data","user_info","success","error","console","message","getAllContent","baseUrlApi","liveResponse","vodResponse","seriesResponse","live","movies","series","getAllCategories","liveCats","vodCats","seriesCats","buildStreamUrl","streamId","type","extension","getEPG","_response$data","epg_listings","fetchM3UFromUrl","Error","validUrl","startsWith","log","fetch","method","mode","cache","ok","status","text","length","includes","fetchError","warn","responseType","parseM3U","m3uText","lines","split","channels","currentChannel","i","line","extinf","substring","durationMatch","match","duration","parseInt","attributes","attrRegex","exec","name","nameParts","tvg_id","tvg_name","tvg_logo","logo","group","stream_url","e","push","id","stream_id","category","category_name","stream_icon","fetchAndParseM3U"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/services/xtream.jsx"],"sourcesContent":["// xtream.js - Versioni i rregulluar\r\n\r\nimport axios from 'axios';\r\n\r\n// ==================== XTREAM CODES API ====================\r\n\r\n/**\r\n * Login në Xtream Codes API\r\n */\r\nexport async function xtreamLogin(server, username, password) {\r\n  try {\r\n    // Pastro URL-në\r\n    let baseUrl = server.trim();\r\n    if (baseUrl.endsWith('/')) {\r\n      baseUrl = baseUrl.slice(0, -1);\r\n    }\r\n\r\n    const url = `${baseUrl}/player_api.php?username=${username}&password=${password}`;\r\n    \r\n    const response = await axios.get(url, {\r\n      timeout: 10000,\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n\r\n    if (response.data && response.data.user_info) {\r\n      return {\r\n        success: true,\r\n        data: response.data\r\n      };\r\n    } else {\r\n      return {\r\n        success: false,\r\n        error: 'Kredencialet e gabuara ose serveri nuk përgjigjet'\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error('Xtream login error:', error);\r\n    return {\r\n      success: false,\r\n      error: error.message || 'Gabim në lidhje me serverin'\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Merr të gjithë përmbajtjen\r\n */\r\nexport async function getAllContent(server, username, password) {\r\n  try {\r\n    let baseUrl = server.trim();\r\n    if (baseUrl.endsWith('/')) {\r\n      baseUrl = baseUrl.slice(0, -1);\r\n    }\r\n\r\n    const baseUrlApi = `${baseUrl}/player_api.php?username=${username}&password=${password}`;\r\n\r\n    // Merr LIVE kanale\r\n    const liveResponse = await axios.get(`${baseUrlApi}&action=get_live_streams`, {\r\n      timeout: 15000\r\n    });\r\n    \r\n    // Merr VOD (Filma)\r\n    const vodResponse = await axios.get(`${baseUrlApi}&action=get_vod_streams`, {\r\n      timeout: 15000\r\n    });\r\n    \r\n    // Merr SERIES\r\n    const seriesResponse = await axios.get(`${baseUrlApi}&action=get_series`, {\r\n      timeout: 15000\r\n    });\r\n\r\n    return {\r\n      live: liveResponse.data || [],\r\n      movies: vodResponse.data || [],\r\n      series: seriesResponse.data || []\r\n    };\r\n  } catch (error) {\r\n    console.error('Get content error:', error);\r\n    return {\r\n      live: [],\r\n      movies: [],\r\n      series: []\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Merr të gjitha kategoritë\r\n */\r\nexport async function getAllCategories(server, username, password) {\r\n  try {\r\n    let baseUrl = server.trim();\r\n    if (baseUrl.endsWith('/')) {\r\n      baseUrl = baseUrl.slice(0, -1);\r\n    }\r\n\r\n    const baseUrlApi = `${baseUrl}/player_api.php?username=${username}&password=${password}`;\r\n\r\n    // Kategoritë LIVE\r\n    const liveCats = await axios.get(`${baseUrlApi}&action=get_live_categories`, {\r\n      timeout: 10000\r\n    });\r\n    \r\n    // Kategoritë VOD\r\n    const vodCats = await axios.get(`${baseUrlApi}&action=get_vod_categories`, {\r\n      timeout: 10000\r\n    });\r\n    \r\n    // Kategoritë SERIES\r\n    const seriesCats = await axios.get(`${baseUrlApi}&action=get_series_categories`, {\r\n      timeout: 10000\r\n    });\r\n\r\n    return {\r\n      live: liveCats.data || [],\r\n      movies: vodCats.data || [],\r\n      series: seriesCats.data || []\r\n    };\r\n  } catch (error) {\r\n    console.error('Get categories error:', error);\r\n    return {\r\n      live: [],\r\n      movies: [],\r\n      series: []\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Ndërton URL për stream\r\n */\r\nexport function buildStreamUrl(server, username, password, streamId, type, extension = 'mp4') {\r\n  try {\r\n    let baseUrl = server.trim();\r\n    if (baseUrl.endsWith('/')) {\r\n      baseUrl = baseUrl.slice(0, -1);\r\n    }\r\n\r\n    if (type === 'live') {\r\n      return `${baseUrl}/live/${username}/${password}/${streamId}.m3u8`;\r\n    } else if (type === 'movie') {\r\n      return `${baseUrl}/movie/${username}/${password}/${streamId}.${extension}`;\r\n    } else if (type === 'series') {\r\n      return `${baseUrl}/series/${username}/${password}/${streamId}.${extension}`;\r\n    }\r\n    \r\n    return null;\r\n  } catch (error) {\r\n    console.error('Build stream URL error:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Merr EPG për kanalin\r\n */\r\nexport async function getEPG(server, username, password, streamId) {\r\n  try {\r\n    let baseUrl = server.trim();\r\n    if (baseUrl.endsWith('/')) {\r\n      baseUrl = baseUrl.slice(0, -1);\r\n    }\r\n\r\n    const url = `${baseUrl}/player_api.php?username=${username}&password=${password}&action=get_short_epg&stream_id=${streamId}&limit=10`;\r\n    \r\n    const response = await axios.get(url, {\r\n      timeout: 10000\r\n    });\r\n\r\n    return response.data?.epg_listings || response.data || [];\r\n  } catch (error) {\r\n    console.error('EPG error:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// ==================== M3U FUNKSIONET ====================\r\n\r\n/**\r\n * Fetch M3U nga URL\r\n */\r\nexport async function fetchM3UFromUrl(url) {\r\n  try {\r\n    if (!url || !url.trim()) {\r\n      throw new Error('URL nuk mund të jetë bosh');\r\n    }\r\n\r\n    // Validimi i URL\r\n    let validUrl = url.trim();\r\n    \r\n    // Shto https:// nëse nuk ka protocol\r\n    if (!validUrl.startsWith('http://') && !validUrl.startsWith('https://')) {\r\n      validUrl = 'https://' + validUrl;\r\n    }\r\n\r\n    console.log('Fetching M3U from:', validUrl);\r\n\r\n    // Provo me fetch API\r\n    try {\r\n      const response = await fetch(validUrl, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Accept': 'text/plain, text/html, application/vnd.apple.mpegurl, audio/x-mpegurl, */*',\r\n          'Content-Type': 'text/plain'\r\n        },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const text = await response.text();\r\n      \r\n      if (!text || text.length < 10) {\r\n        throw new Error('Skedari M3U është bosh ose shumë i vogël');\r\n      }\r\n\r\n      if (!text.includes('#EXTM3U')) {\r\n        throw new Error('Skedari nuk është M3U playlist valid');\r\n      }\r\n\r\n      return text;\r\n      \r\n    } catch (fetchError) {\r\n      console.warn('Fetch failed, trying axios...', fetchError);\r\n      \r\n      // Nëse fetch dështon, provo me axios\r\n      const response = await axios.get(validUrl, {\r\n        timeout: 15000,\r\n        headers: {\r\n          'Accept': 'text/plain, text/html, application/vnd.apple.mpegurl, audio/x-mpegurl, */*',\r\n          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\r\n        },\r\n        responseType: 'text'\r\n      });\r\n\r\n      const text = response.data;\r\n      \r\n      if (!text || !text.includes('#EXTM3U')) {\r\n        throw new Error('Skedari nuk është M3U playlist valid');\r\n      }\r\n\r\n      return text;\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('M3U fetch error:', error);\r\n    throw new Error(`Nuk arrihet të ngarkohet M3U nga URL e dhënë: ${error.message}`);\r\n  }\r\n}\r\n\r\n/**\r\n * Parse M3U text\r\n */\r\nexport function parseM3U(m3uText) {\r\n  try {\r\n    if (!m3uText || !m3uText.includes('#EXTM3U')) {\r\n      throw new Error('M3U playlist invalid');\r\n    }\r\n\r\n    const lines = m3uText.split('\\n');\r\n    const channels = [];\r\n    \r\n    let currentChannel = {};\r\n\r\n    for (let i = 0; i < lines.length; i++) {\r\n      const line = lines[i].trim();\r\n      \r\n      if (line.startsWith('#EXTINF:')) {\r\n        // Parse EXTINF line\r\n        try {\r\n          const extinf = line.substring(8);\r\n          \r\n          // Merr duration\r\n          const durationMatch = extinf.match(/^(-?\\d+)/);\r\n          const duration = durationMatch ? parseInt(durationMatch[0]) : -1;\r\n          \r\n          // Merr attributes\r\n          const attributes = {};\r\n          const attrRegex = /([a-zA-Z-]+)=\"([^\"]*)\"/g;\r\n          let match;\r\n          \r\n          while ((match = attrRegex.exec(extinf)) !== null) {\r\n            attributes[match[1]] = match[2];\r\n          }\r\n\r\n          // Merr emrin (pas -)\r\n          let name = '';\r\n          const nameParts = extinf.split(',');\r\n          if (nameParts.length > 1) {\r\n            name = nameParts[nameParts.length - 1].trim();\r\n          }\r\n\r\n          currentChannel = {\r\n            name: name || 'Pa emër',\r\n            url: '',\r\n            duration,\r\n            tvg_id: attributes['tvg-id'] || '',\r\n            tvg_name: attributes['tvg-name'] || '',\r\n            tvg_logo: attributes['tvg-logo'] || attributes.logo || '',\r\n            group: attributes['group-title'] || 'Të tjera',\r\n            stream_url: '',\r\n            type: 'live'\r\n          };\r\n        } catch (e) {\r\n          console.warn('Error parsing EXTINF:', e);\r\n          currentChannel = {};\r\n        }\r\n        \r\n      } else if (line && !line.startsWith('#') && currentChannel) {\r\n        // Kjo është URL\r\n        currentChannel.url = line;\r\n        currentChannel.stream_url = line;\r\n        \r\n        // Ruaje kanalin\r\n        if (currentChannel.name && currentChannel.url) {\r\n          channels.push({\r\n            ...currentChannel,\r\n            id: channels.length + 1,\r\n            stream_id: channels.length + 1,\r\n            category: currentChannel.group,\r\n            category_name: currentChannel.group,\r\n            stream_icon: currentChannel.tvg_logo,\r\n            logo: currentChannel.tvg_logo\r\n          });\r\n        }\r\n        \r\n        currentChannel = {};\r\n      }\r\n    }\r\n\r\n    return channels;\r\n    \r\n  } catch (error) {\r\n    console.error('Parse M3U error:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Fetch dhe parse M3U direkt\r\n */\r\nexport async function fetchAndParseM3U(url) {\r\n  try {\r\n    const m3uText = await fetchM3UFromUrl(url);\r\n    const channels = parseM3U(m3uText);\r\n    return channels;\r\n  } catch (error) {\r\n    console.error('Fetch and parse M3U error:', error);\r\n    throw error;\r\n  }\r\n}"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;;AAEA;AACA;AACA;AACA,OAAO,eAAeC,WAAWA,CAACC,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EAC5D,IAAI;IACF;IACA,IAAIC,OAAO,GAAGH,MAAM,CAACI,IAAI,CAAC,CAAC;IAC3B,IAAID,OAAO,CAACE,QAAQ,CAAC,GAAG,CAAC,EAAE;MACzBF,OAAO,GAAGA,OAAO,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC;IAEA,MAAMC,GAAG,GAAG,GAAGJ,OAAO,4BAA4BF,QAAQ,aAAaC,QAAQ,EAAE;IAEjF,MAAMM,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAACF,GAAG,EAAE;MACpCG,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE;QACP,QAAQ,EAAE,kBAAkB;QAC5B,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEF,IAAIH,QAAQ,CAACI,IAAI,IAAIJ,QAAQ,CAACI,IAAI,CAACC,SAAS,EAAE;MAC5C,OAAO;QACLC,OAAO,EAAE,IAAI;QACbF,IAAI,EAAEJ,QAAQ,CAACI;MACjB,CAAC;IACH,CAAC,MAAM;MACL,OAAO;QACLE,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IACH;EACF,CAAC,CAAC,OAAOA,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC3C,OAAO;MACLD,OAAO,EAAE,KAAK;MACdC,KAAK,EAAEA,KAAK,CAACE,OAAO,IAAI;IAC1B,CAAC;EACH;AACF;;AAEA;AACA;AACA;AACA,OAAO,eAAeC,aAAaA,CAAClB,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EAC9D,IAAI;IACF,IAAIC,OAAO,GAAGH,MAAM,CAACI,IAAI,CAAC,CAAC;IAC3B,IAAID,OAAO,CAACE,QAAQ,CAAC,GAAG,CAAC,EAAE;MACzBF,OAAO,GAAGA,OAAO,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC;IAEA,MAAMa,UAAU,GAAG,GAAGhB,OAAO,4BAA4BF,QAAQ,aAAaC,QAAQ,EAAE;;IAExF;IACA,MAAMkB,YAAY,GAAG,MAAMtB,KAAK,CAACW,GAAG,CAAC,GAAGU,UAAU,0BAA0B,EAAE;MAC5ET,OAAO,EAAE;IACX,CAAC,CAAC;;IAEF;IACA,MAAMW,WAAW,GAAG,MAAMvB,KAAK,CAACW,GAAG,CAAC,GAAGU,UAAU,yBAAyB,EAAE;MAC1ET,OAAO,EAAE;IACX,CAAC,CAAC;;IAEF;IACA,MAAMY,cAAc,GAAG,MAAMxB,KAAK,CAACW,GAAG,CAAC,GAAGU,UAAU,oBAAoB,EAAE;MACxET,OAAO,EAAE;IACX,CAAC,CAAC;IAEF,OAAO;MACLa,IAAI,EAAEH,YAAY,CAACR,IAAI,IAAI,EAAE;MAC7BY,MAAM,EAAEH,WAAW,CAACT,IAAI,IAAI,EAAE;MAC9Ba,MAAM,EAAEH,cAAc,CAACV,IAAI,IAAI;IACjC,CAAC;EACH,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC1C,OAAO;MACLQ,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,EAAE;MACVC,MAAM,EAAE;IACV,CAAC;EACH;AACF;;AAEA;AACA;AACA;AACA,OAAO,eAAeC,gBAAgBA,CAAC1B,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EACjE,IAAI;IACF,IAAIC,OAAO,GAAGH,MAAM,CAACI,IAAI,CAAC,CAAC;IAC3B,IAAID,OAAO,CAACE,QAAQ,CAAC,GAAG,CAAC,EAAE;MACzBF,OAAO,GAAGA,OAAO,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC;IAEA,MAAMa,UAAU,GAAG,GAAGhB,OAAO,4BAA4BF,QAAQ,aAAaC,QAAQ,EAAE;;IAExF;IACA,MAAMyB,QAAQ,GAAG,MAAM7B,KAAK,CAACW,GAAG,CAAC,GAAGU,UAAU,6BAA6B,EAAE;MAC3ET,OAAO,EAAE;IACX,CAAC,CAAC;;IAEF;IACA,MAAMkB,OAAO,GAAG,MAAM9B,KAAK,CAACW,GAAG,CAAC,GAAGU,UAAU,4BAA4B,EAAE;MACzET,OAAO,EAAE;IACX,CAAC,CAAC;;IAEF;IACA,MAAMmB,UAAU,GAAG,MAAM/B,KAAK,CAACW,GAAG,CAAC,GAAGU,UAAU,+BAA+B,EAAE;MAC/ET,OAAO,EAAE;IACX,CAAC,CAAC;IAEF,OAAO;MACLa,IAAI,EAAEI,QAAQ,CAACf,IAAI,IAAI,EAAE;MACzBY,MAAM,EAAEI,OAAO,CAAChB,IAAI,IAAI,EAAE;MAC1Ba,MAAM,EAAEI,UAAU,CAACjB,IAAI,IAAI;IAC7B,CAAC;EACH,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,OAAO;MACLQ,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,EAAE;MACVC,MAAM,EAAE;IACV,CAAC;EACH;AACF;;AAEA;AACA;AACA;AACA,OAAO,SAASK,cAAcA,CAAC9B,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAE6B,QAAQ,EAAEC,IAAI,EAAEC,SAAS,GAAG,KAAK,EAAE;EAC5F,IAAI;IACF,IAAI9B,OAAO,GAAGH,MAAM,CAACI,IAAI,CAAC,CAAC;IAC3B,IAAID,OAAO,CAACE,QAAQ,CAAC,GAAG,CAAC,EAAE;MACzBF,OAAO,GAAGA,OAAO,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC;IAEA,IAAI0B,IAAI,KAAK,MAAM,EAAE;MACnB,OAAO,GAAG7B,OAAO,SAASF,QAAQ,IAAIC,QAAQ,IAAI6B,QAAQ,OAAO;IACnE,CAAC,MAAM,IAAIC,IAAI,KAAK,OAAO,EAAE;MAC3B,OAAO,GAAG7B,OAAO,UAAUF,QAAQ,IAAIC,QAAQ,IAAI6B,QAAQ,IAAIE,SAAS,EAAE;IAC5E,CAAC,MAAM,IAAID,IAAI,KAAK,QAAQ,EAAE;MAC5B,OAAO,GAAG7B,OAAO,WAAWF,QAAQ,IAAIC,QAAQ,IAAI6B,QAAQ,IAAIE,SAAS,EAAE;IAC7E;IAEA,OAAO,IAAI;EACb,CAAC,CAAC,OAAOlB,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,OAAO,IAAI;EACb;AACF;;AAEA;AACA;AACA;AACA,OAAO,eAAemB,MAAMA,CAAClC,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAE6B,QAAQ,EAAE;EACjE,IAAI;IAAA,IAAAI,cAAA;IACF,IAAIhC,OAAO,GAAGH,MAAM,CAACI,IAAI,CAAC,CAAC;IAC3B,IAAID,OAAO,CAACE,QAAQ,CAAC,GAAG,CAAC,EAAE;MACzBF,OAAO,GAAGA,OAAO,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC;IAEA,MAAMC,GAAG,GAAG,GAAGJ,OAAO,4BAA4BF,QAAQ,aAAaC,QAAQ,mCAAmC6B,QAAQ,WAAW;IAErI,MAAMvB,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAACF,GAAG,EAAE;MACpCG,OAAO,EAAE;IACX,CAAC,CAAC;IAEF,OAAO,EAAAyB,cAAA,GAAA3B,QAAQ,CAACI,IAAI,cAAAuB,cAAA,uBAAbA,cAAA,CAAeC,YAAY,KAAI5B,QAAQ,CAACI,IAAI,IAAI,EAAE;EAC3D,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;IAClC,OAAO,EAAE;EACX;AACF;;AAEA;;AAEA;AACA;AACA;AACA,OAAO,eAAesB,eAAeA,CAAC9B,GAAG,EAAE;EACzC,IAAI;IACF,IAAI,CAACA,GAAG,IAAI,CAACA,GAAG,CAACH,IAAI,CAAC,CAAC,EAAE;MACvB,MAAM,IAAIkC,KAAK,CAAC,2BAA2B,CAAC;IAC9C;;IAEA;IACA,IAAIC,QAAQ,GAAGhC,GAAG,CAACH,IAAI,CAAC,CAAC;;IAEzB;IACA,IAAI,CAACmC,QAAQ,CAACC,UAAU,CAAC,SAAS,CAAC,IAAI,CAACD,QAAQ,CAACC,UAAU,CAAC,UAAU,CAAC,EAAE;MACvED,QAAQ,GAAG,UAAU,GAAGA,QAAQ;IAClC;IAEAvB,OAAO,CAACyB,GAAG,CAAC,oBAAoB,EAAEF,QAAQ,CAAC;;IAE3C;IACA,IAAI;MACF,MAAM/B,QAAQ,GAAG,MAAMkC,KAAK,CAACH,QAAQ,EAAE;QACrCI,MAAM,EAAE,KAAK;QACbhC,OAAO,EAAE;UACP,QAAQ,EAAE,4EAA4E;UACtF,cAAc,EAAE;QAClB,CAAC;QACDiC,IAAI,EAAE,MAAM;QACZC,KAAK,EAAE;MACT,CAAC,CAAC;MAEF,IAAI,CAACrC,QAAQ,CAACsC,EAAE,EAAE;QAChB,MAAM,IAAIR,KAAK,CAAC,uBAAuB9B,QAAQ,CAACuC,MAAM,EAAE,CAAC;MAC3D;MAEA,MAAMC,IAAI,GAAG,MAAMxC,QAAQ,CAACwC,IAAI,CAAC,CAAC;MAElC,IAAI,CAACA,IAAI,IAAIA,IAAI,CAACC,MAAM,GAAG,EAAE,EAAE;QAC7B,MAAM,IAAIX,KAAK,CAAC,0CAA0C,CAAC;MAC7D;MAEA,IAAI,CAACU,IAAI,CAACE,QAAQ,CAAC,SAAS,CAAC,EAAE;QAC7B,MAAM,IAAIZ,KAAK,CAAC,sCAAsC,CAAC;MACzD;MAEA,OAAOU,IAAI;IAEb,CAAC,CAAC,OAAOG,UAAU,EAAE;MACnBnC,OAAO,CAACoC,IAAI,CAAC,+BAA+B,EAAED,UAAU,CAAC;;MAEzD;MACA,MAAM3C,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC8B,QAAQ,EAAE;QACzC7B,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE;UACP,QAAQ,EAAE,4EAA4E;UACtF,YAAY,EAAE;QAChB,CAAC;QACD0C,YAAY,EAAE;MAChB,CAAC,CAAC;MAEF,MAAML,IAAI,GAAGxC,QAAQ,CAACI,IAAI;MAE1B,IAAI,CAACoC,IAAI,IAAI,CAACA,IAAI,CAACE,QAAQ,CAAC,SAAS,CAAC,EAAE;QACtC,MAAM,IAAIZ,KAAK,CAAC,sCAAsC,CAAC;MACzD;MAEA,OAAOU,IAAI;IACb;EAEF,CAAC,CAAC,OAAOjC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IACxC,MAAM,IAAIuB,KAAK,CAAC,iDAAiDvB,KAAK,CAACE,OAAO,EAAE,CAAC;EACnF;AACF;;AAEA;AACA;AACA;AACA,OAAO,SAASqC,QAAQA,CAACC,OAAO,EAAE;EAChC,IAAI;IACF,IAAI,CAACA,OAAO,IAAI,CAACA,OAAO,CAACL,QAAQ,CAAC,SAAS,CAAC,EAAE;MAC5C,MAAM,IAAIZ,KAAK,CAAC,sBAAsB,CAAC;IACzC;IAEA,MAAMkB,KAAK,GAAGD,OAAO,CAACE,KAAK,CAAC,IAAI,CAAC;IACjC,MAAMC,QAAQ,GAAG,EAAE;IAEnB,IAAIC,cAAc,GAAG,CAAC,CAAC;IAEvB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,KAAK,CAACP,MAAM,EAAEW,CAAC,EAAE,EAAE;MACrC,MAAMC,IAAI,GAAGL,KAAK,CAACI,CAAC,CAAC,CAACxD,IAAI,CAAC,CAAC;MAE5B,IAAIyD,IAAI,CAACrB,UAAU,CAAC,UAAU,CAAC,EAAE;QAC/B;QACA,IAAI;UACF,MAAMsB,MAAM,GAAGD,IAAI,CAACE,SAAS,CAAC,CAAC,CAAC;;UAEhC;UACA,MAAMC,aAAa,GAAGF,MAAM,CAACG,KAAK,CAAC,UAAU,CAAC;UAC9C,MAAMC,QAAQ,GAAGF,aAAa,GAAGG,QAAQ,CAACH,aAAa,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;;UAEhE;UACA,MAAMI,UAAU,GAAG,CAAC,CAAC;UACrB,MAAMC,SAAS,GAAG,yBAAyB;UAC3C,IAAIJ,KAAK;UAET,OAAO,CAACA,KAAK,GAAGI,SAAS,CAACC,IAAI,CAACR,MAAM,CAAC,MAAM,IAAI,EAAE;YAChDM,UAAU,CAACH,KAAK,CAAC,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC;UACjC;;UAEA;UACA,IAAIM,IAAI,GAAG,EAAE;UACb,MAAMC,SAAS,GAAGV,MAAM,CAACL,KAAK,CAAC,GAAG,CAAC;UACnC,IAAIe,SAAS,CAACvB,MAAM,GAAG,CAAC,EAAE;YACxBsB,IAAI,GAAGC,SAAS,CAACA,SAAS,CAACvB,MAAM,GAAG,CAAC,CAAC,CAAC7C,IAAI,CAAC,CAAC;UAC/C;UAEAuD,cAAc,GAAG;YACfY,IAAI,EAAEA,IAAI,IAAI,SAAS;YACvBhE,GAAG,EAAE,EAAE;YACP2D,QAAQ;YACRO,MAAM,EAAEL,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAE;YAClCM,QAAQ,EAAEN,UAAU,CAAC,UAAU,CAAC,IAAI,EAAE;YACtCO,QAAQ,EAAEP,UAAU,CAAC,UAAU,CAAC,IAAIA,UAAU,CAACQ,IAAI,IAAI,EAAE;YACzDC,KAAK,EAAET,UAAU,CAAC,aAAa,CAAC,IAAI,UAAU;YAC9CU,UAAU,EAAE,EAAE;YACd9C,IAAI,EAAE;UACR,CAAC;QACH,CAAC,CAAC,OAAO+C,CAAC,EAAE;UACV/D,OAAO,CAACoC,IAAI,CAAC,uBAAuB,EAAE2B,CAAC,CAAC;UACxCpB,cAAc,GAAG,CAAC,CAAC;QACrB;MAEF,CAAC,MAAM,IAAIE,IAAI,IAAI,CAACA,IAAI,CAACrB,UAAU,CAAC,GAAG,CAAC,IAAImB,cAAc,EAAE;QAC1D;QACAA,cAAc,CAACpD,GAAG,GAAGsD,IAAI;QACzBF,cAAc,CAACmB,UAAU,GAAGjB,IAAI;;QAEhC;QACA,IAAIF,cAAc,CAACY,IAAI,IAAIZ,cAAc,CAACpD,GAAG,EAAE;UAC7CmD,QAAQ,CAACsB,IAAI,CAAC;YACZ,GAAGrB,cAAc;YACjBsB,EAAE,EAAEvB,QAAQ,CAACT,MAAM,GAAG,CAAC;YACvBiC,SAAS,EAAExB,QAAQ,CAACT,MAAM,GAAG,CAAC;YAC9BkC,QAAQ,EAAExB,cAAc,CAACkB,KAAK;YAC9BO,aAAa,EAAEzB,cAAc,CAACkB,KAAK;YACnCQ,WAAW,EAAE1B,cAAc,CAACgB,QAAQ;YACpCC,IAAI,EAAEjB,cAAc,CAACgB;UACvB,CAAC,CAAC;QACJ;QAEAhB,cAAc,GAAG,CAAC,CAAC;MACrB;IACF;IAEA,OAAOD,QAAQ;EAEjB,CAAC,CAAC,OAAO3C,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IACxC,OAAO,EAAE;EACX;AACF;;AAEA;AACA;AACA;AACA,OAAO,eAAeuE,gBAAgBA,CAAC/E,GAAG,EAAE;EAC1C,IAAI;IACF,MAAMgD,OAAO,GAAG,MAAMlB,eAAe,CAAC9B,GAAG,CAAC;IAC1C,MAAMmD,QAAQ,GAAGJ,QAAQ,CAACC,OAAO,CAAC;IAClC,OAAOG,QAAQ;EACjB,CAAC,CAAC,OAAO3C,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,MAAMA,KAAK;EACb;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}