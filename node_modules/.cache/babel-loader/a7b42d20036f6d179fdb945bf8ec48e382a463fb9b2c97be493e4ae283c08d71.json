{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rayuv\\\\OneDrive\\\\Documents\\\\GitHub\\\\Reacttv\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// App.js - IPTV Player gati për proxy\nimport React, { useState, useEffect, useRef } from \"react\";\nimport LiveTVContent from \"./components/LiveTVContent\";\nimport MoviesContent from \"./components/MoviesContent\";\nimport SeriesContent from \"./components/SeriesContent\";\nimport HlsPlayer from \"./components/HlsPlayer\";\nimport SearchModal from \"./components/SearchModal\";\nimport SettingsModal from \"./components/SettingsModal\";\nimport { getLive, getMovies, getSeries, getCategories, buildStream, fetchM3U } from \"./services/iptvService\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // Credentials\n  const [server, setServer] = useState(localStorage.getItem(\"server\") || \"\");\n  const [user, setUser] = useState(localStorage.getItem(\"user\") || \"\");\n  const [pass, setPass] = useState(localStorage.getItem(\"pass\") || \"\");\n  const [m3uUrl, setM3uUrl] = useState(localStorage.getItem(\"m3uUrl\") || \"\");\n\n  // Data\n  const [channels, setChannels] = useState([]);\n  const [movies, setMovies] = useState([]);\n  const [series, setSeries] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [currentStream, setCurrentStream] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // Modals\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\n  const [showSearchModal, setShowSearchModal] = useState(false);\n\n  // Favorites\n  const [favorites, setFavorites] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"favorites\")) || [];\n    } catch {\n      return [];\n    }\n  });\n\n  // Save credentials/favorites\n  useEffect(() => {\n    localStorage.setItem(\"server\", server);\n    localStorage.setItem(\"user\", user);\n    localStorage.setItem(\"pass\", pass);\n    localStorage.setItem(\"m3uUrl\", m3uUrl);\n    localStorage.setItem(\"favorites\", JSON.stringify(favorites));\n  }, [server, user, pass, m3uUrl, favorites]);\n\n  // Safe API wrapper\n  const safeApiCall = async (fn, name) => {\n    try {\n      const result = await fn();\n      if (!result || typeof result !== \"object\") throw new Error(`Invalid JSON for ${name}`);\n      return result;\n    } catch (err) {\n      toast.error(`Gabim te ${name}: ${err.message}`);\n      console.error(`Error in ${name}:`, err);\n      return [];\n    }\n  };\n\n  // Fetch all IPTV data\n  const fetchData = async () => {\n    if (!server || !user || !pass) return;\n    setLoading(true);\n    const liveData = await safeApiCall(() => getLive(server, user, pass), \"Live Streams\");\n    const movieData = await safeApiCall(() => getMovies(server, user, pass), \"Movies\");\n    const seriesData = await safeApiCall(() => getSeries(server, user, pass), \"Series\");\n    const catData = await safeApiCall(() => getCategories(server, user, pass), \"Categories\");\n    setChannels(liveData);\n    setMovies(movieData);\n    setSeries(seriesData);\n    setCategories(catData);\n    setLoading(false);\n  };\n  useEffect(() => {\n    fetchData();\n  }, [server, user, pass]);\n\n  // Play stream\n  const playStream = async (type, id) => {\n    const url = buildStream(server, user, pass, type, id);\n    const m3u = await fetchM3U(url);\n    if (m3u) setCurrentStream(url);else toast.error(\"Failed to load stream\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [currentStream && /*#__PURE__*/_jsxDEV(HlsPlayer, {\n      url: currentStream\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }, this), showSettingsModal && /*#__PURE__*/_jsxDEV(SettingsModal, {\n      server: server,\n      user: user,\n      pass: pass,\n      m3uUrl: m3uUrl,\n      onServerChange: setServer,\n      onUserChange: setUser,\n      onPassChange: setPass,\n      onM3uUrlChange: setM3uUrl,\n      onFetchData: fetchData,\n      onClose: () => setShowSettingsModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), showSearchModal && /*#__PURE__*/_jsxDEV(SearchModal, {\n      onPlay: playStream,\n      onClose: () => setShowSearchModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"WWU63srw31ZX8YVw5NWxdNa0xAw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","LiveTVContent","MoviesContent","SeriesContent","HlsPlayer","SearchModal","SettingsModal","getLive","getMovies","getSeries","getCategories","buildStream","fetchM3U","ToastContainer","toast","jsxDEV","_jsxDEV","App","_s","server","setServer","localStorage","getItem","user","setUser","pass","setPass","m3uUrl","setM3uUrl","channels","setChannels","movies","setMovies","series","setSeries","categories","setCategories","currentStream","setCurrentStream","loading","setLoading","showSettingsModal","setShowSettingsModal","showSearchModal","setShowSearchModal","favorites","setFavorites","JSON","parse","setItem","stringify","safeApiCall","fn","name","result","Error","err","error","message","console","fetchData","liveData","movieData","seriesData","catData","playStream","type","id","url","m3u","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onServerChange","onUserChange","onPassChange","onM3uUrlChange","onFetchData","onClose","onPlay","_c","$RefreshReg$"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/App.js"],"sourcesContent":["// App.js - IPTV Player gati për proxy\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport LiveTVContent from \"./components/LiveTVContent\";\r\nimport MoviesContent from \"./components/MoviesContent\";\r\nimport SeriesContent from \"./components/SeriesContent\";\r\nimport HlsPlayer from \"./components/HlsPlayer\";\r\nimport SearchModal from \"./components/SearchModal\";\r\nimport SettingsModal from \"./components/SettingsModal\";\r\nimport { getLive, getMovies, getSeries, getCategories, buildStream, fetchM3U } from \"./services/iptvService\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nfunction App() {\r\n  // Credentials\r\n  const [server, setServer] = useState(localStorage.getItem(\"server\") || \"\");\r\n  const [user, setUser] = useState(localStorage.getItem(\"user\") || \"\");\r\n  const [pass, setPass] = useState(localStorage.getItem(\"pass\") || \"\");\r\n  const [m3uUrl, setM3uUrl] = useState(localStorage.getItem(\"m3uUrl\") || \"\");\r\n\r\n  // Data\r\n  const [channels, setChannels] = useState([]);\r\n  const [movies, setMovies] = useState([]);\r\n  const [series, setSeries] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [currentStream, setCurrentStream] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Modals\r\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\r\n  const [showSearchModal, setShowSearchModal] = useState(false);\r\n\r\n  // Favorites\r\n  const [favorites, setFavorites] = useState(() => {\r\n    try { return JSON.parse(localStorage.getItem(\"favorites\")) || []; } \r\n    catch { return []; }\r\n  });\r\n\r\n  // Save credentials/favorites\r\n  useEffect(() => {\r\n    localStorage.setItem(\"server\", server);\r\n    localStorage.setItem(\"user\", user);\r\n    localStorage.setItem(\"pass\", pass);\r\n    localStorage.setItem(\"m3uUrl\", m3uUrl);\r\n    localStorage.setItem(\"favorites\", JSON.stringify(favorites));\r\n  }, [server, user, pass, m3uUrl, favorites]);\r\n\r\n  // Safe API wrapper\r\n  const safeApiCall = async (fn, name) => {\r\n    try {\r\n      const result = await fn();\r\n      if (!result || typeof result !== \"object\") throw new Error(`Invalid JSON for ${name}`);\r\n      return result;\r\n    } catch (err) {\r\n      toast.error(`Gabim te ${name}: ${err.message}`);\r\n      console.error(`Error in ${name}:`, err);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // Fetch all IPTV data\r\n  const fetchData = async () => {\r\n    if (!server || !user || !pass) return;\r\n    setLoading(true);\r\n\r\n    const liveData = await safeApiCall(() => getLive(server,user,pass), \"Live Streams\");\r\n    const movieData = await safeApiCall(() => getMovies(server,user,pass), \"Movies\");\r\n    const seriesData = await safeApiCall(() => getSeries(server,user,pass), \"Series\");\r\n    const catData = await safeApiCall(() => getCategories(server,user,pass), \"Categories\");\r\n\r\n    setChannels(liveData);\r\n    setMovies(movieData);\r\n    setSeries(seriesData);\r\n    setCategories(catData);\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => { fetchData(); }, [server,user,pass]);\r\n\r\n  // Play stream\r\n  const playStream = async (type, id) => {\r\n    const url = buildStream(server,user,pass,type,id);\r\n    const m3u = await fetchM3U(url);\r\n    if (m3u) setCurrentStream(url);\r\n    else toast.error(\"Failed to load stream\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {/* HLS Player */}\r\n      {currentStream && <HlsPlayer url={currentStream} />}\r\n\r\n      {/* Settings Modal */}\r\n      {showSettingsModal && (\r\n        <SettingsModal\r\n          server={server} user={user} pass={pass} m3uUrl={m3uUrl}\r\n          onServerChange={setServer} onUserChange={setUser} onPassChange={setPass} onM3uUrlChange={setM3uUrl}\r\n          onFetchData={fetchData}\r\n          onClose={() => setShowSettingsModal(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Search Modal */}\r\n      {showSearchModal && (\r\n        <SearchModal\r\n          onPlay={playStream}\r\n          onClose={() => setShowSearchModal(false)}\r\n        />\r\n      )}\r\n\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,aAAa,MAAM,4BAA4B;AACtD,SAASC,OAAO,EAAEC,SAAS,EAAEC,SAAS,EAAEC,aAAa,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,wBAAwB;AAC5G,SAASC,cAAc,EAAEC,KAAK,QAAQ,gBAAgB;AACtD,OAAO,uCAAuC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb;EACA,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGtB,QAAQ,CAACuB,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;EAC1E,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAG1B,QAAQ,CAACuB,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;EACpE,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAG5B,QAAQ,CAACuB,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;EACpE,MAAM,CAACK,MAAM,EAAEC,SAAS,CAAC,GAAG9B,QAAQ,CAACuB,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;;EAE1E;EACA,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACiC,MAAM,EAAEC,SAAS,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACmC,MAAM,EAAEC,SAAS,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACqC,UAAU,EAAEC,aAAa,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACuC,aAAa,EAAEC,gBAAgB,CAAC,GAAGxC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACyC,OAAO,EAAEC,UAAU,CAAC,GAAG1C,QAAQ,CAAC,KAAK,CAAC;;EAE7C;EACA,MAAM,CAAC2C,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG5C,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAAC6C,eAAe,EAAEC,kBAAkB,CAAC,GAAG9C,QAAQ,CAAC,KAAK,CAAC;;EAE7D;EACA,MAAM,CAAC+C,SAAS,EAAEC,YAAY,CAAC,GAAGhD,QAAQ,CAAC,MAAM;IAC/C,IAAI;MAAE,OAAOiD,IAAI,CAACC,KAAK,CAAC3B,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE;IAAE,CAAC,CACnE,MAAM;MAAE,OAAO,EAAE;IAAE;EACrB,CAAC,CAAC;;EAEF;EACAvB,SAAS,CAAC,MAAM;IACdsB,YAAY,CAAC4B,OAAO,CAAC,QAAQ,EAAE9B,MAAM,CAAC;IACtCE,YAAY,CAAC4B,OAAO,CAAC,MAAM,EAAE1B,IAAI,CAAC;IAClCF,YAAY,CAAC4B,OAAO,CAAC,MAAM,EAAExB,IAAI,CAAC;IAClCJ,YAAY,CAAC4B,OAAO,CAAC,QAAQ,EAAEtB,MAAM,CAAC;IACtCN,YAAY,CAAC4B,OAAO,CAAC,WAAW,EAAEF,IAAI,CAACG,SAAS,CAACL,SAAS,CAAC,CAAC;EAC9D,CAAC,EAAE,CAAC1B,MAAM,EAAEI,IAAI,EAAEE,IAAI,EAAEE,MAAM,EAAEkB,SAAS,CAAC,CAAC;;EAE3C;EACA,MAAMM,WAAW,GAAG,MAAAA,CAAOC,EAAE,EAAEC,IAAI,KAAK;IACtC,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMF,EAAE,CAAC,CAAC;MACzB,IAAI,CAACE,MAAM,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE,MAAM,IAAIC,KAAK,CAAC,oBAAoBF,IAAI,EAAE,CAAC;MACtF,OAAOC,MAAM;IACf,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZ1C,KAAK,CAAC2C,KAAK,CAAC,YAAYJ,IAAI,KAAKG,GAAG,CAACE,OAAO,EAAE,CAAC;MAC/CC,OAAO,CAACF,KAAK,CAAC,YAAYJ,IAAI,GAAG,EAAEG,GAAG,CAAC;MACvC,OAAO,EAAE;IACX;EACF,CAAC;;EAED;EACA,MAAMI,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI,CAACzC,MAAM,IAAI,CAACI,IAAI,IAAI,CAACE,IAAI,EAAE;IAC/Be,UAAU,CAAC,IAAI,CAAC;IAEhB,MAAMqB,QAAQ,GAAG,MAAMV,WAAW,CAAC,MAAM5C,OAAO,CAACY,MAAM,EAACI,IAAI,EAACE,IAAI,CAAC,EAAE,cAAc,CAAC;IACnF,MAAMqC,SAAS,GAAG,MAAMX,WAAW,CAAC,MAAM3C,SAAS,CAACW,MAAM,EAACI,IAAI,EAACE,IAAI,CAAC,EAAE,QAAQ,CAAC;IAChF,MAAMsC,UAAU,GAAG,MAAMZ,WAAW,CAAC,MAAM1C,SAAS,CAACU,MAAM,EAACI,IAAI,EAACE,IAAI,CAAC,EAAE,QAAQ,CAAC;IACjF,MAAMuC,OAAO,GAAG,MAAMb,WAAW,CAAC,MAAMzC,aAAa,CAACS,MAAM,EAACI,IAAI,EAACE,IAAI,CAAC,EAAE,YAAY,CAAC;IAEtFK,WAAW,CAAC+B,QAAQ,CAAC;IACrB7B,SAAS,CAAC8B,SAAS,CAAC;IACpB5B,SAAS,CAAC6B,UAAU,CAAC;IACrB3B,aAAa,CAAC4B,OAAO,CAAC;IACtBxB,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAEDzC,SAAS,CAAC,MAAM;IAAE6D,SAAS,CAAC,CAAC;EAAE,CAAC,EAAE,CAACzC,MAAM,EAACI,IAAI,EAACE,IAAI,CAAC,CAAC;;EAErD;EACA,MAAMwC,UAAU,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;IACrC,MAAMC,GAAG,GAAGzD,WAAW,CAACQ,MAAM,EAACI,IAAI,EAACE,IAAI,EAACyC,IAAI,EAACC,EAAE,CAAC;IACjD,MAAME,GAAG,GAAG,MAAMzD,QAAQ,CAACwD,GAAG,CAAC;IAC/B,IAAIC,GAAG,EAAE/B,gBAAgB,CAAC8B,GAAG,CAAC,CAAC,KAC1BtD,KAAK,CAAC2C,KAAK,CAAC,uBAAuB,CAAC;EAC3C,CAAC;EAED,oBACEzC,OAAA;IAAKsD,SAAS,EAAC,KAAK;IAAAC,QAAA,GAEjBlC,aAAa,iBAAIrB,OAAA,CAACZ,SAAS;MAACgE,GAAG,EAAE/B;IAAc;MAAAmC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAGlDlC,iBAAiB,iBAChBzB,OAAA,CAACV,aAAa;MACZa,MAAM,EAAEA,MAAO;MAACI,IAAI,EAAEA,IAAK;MAACE,IAAI,EAAEA,IAAK;MAACE,MAAM,EAAEA,MAAO;MACvDiD,cAAc,EAAExD,SAAU;MAACyD,YAAY,EAAErD,OAAQ;MAACsD,YAAY,EAAEpD,OAAQ;MAACqD,cAAc,EAAEnD,SAAU;MACnGoD,WAAW,EAAEpB,SAAU;MACvBqB,OAAO,EAAEA,CAAA,KAAMvC,oBAAoB,CAAC,KAAK;IAAE;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CACF,EAGAhC,eAAe,iBACd3B,OAAA,CAACX,WAAW;MACV6E,MAAM,EAAEjB,UAAW;MACnBgB,OAAO,EAAEA,CAAA,KAAMrC,kBAAkB,CAAC,KAAK;IAAE;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CACF,eAED3D,OAAA,CAACH,cAAc;MAAA2D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACf,CAAC;AAEV;AAACzD,EAAA,CApGQD,GAAG;AAAAkE,EAAA,GAAHlE,GAAG;AAsGZ,eAAeA,GAAG;AAAC,IAAAkE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}