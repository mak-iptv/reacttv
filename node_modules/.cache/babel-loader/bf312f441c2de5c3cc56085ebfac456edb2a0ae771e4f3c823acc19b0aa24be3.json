{"ast":null,"code":"// =====================\n// Helper\n// =====================\nconst fetchProxy = async params => {\n  const res = await fetch(`/api/iptv?${params}`);\n  if (!res.ok) {\n    throw new Error(`Proxy error ${res.status}`);\n  }\n  return res;\n};\n\n// =====================\n// XTREAM API\n// =====================\nexport const getLive = async (server, user, pass) => {\n  const res = await fetchProxy(`server=${encodeURIComponent(server)}&user=${encodeURIComponent(user)}&pass=${encodeURIComponent(pass)}&action=get_live_streams`);\n  return res.json();\n};\nexport const getMovies = async (server, user, pass) => {\n  const res = await fetchProxy(`server=${encodeURIComponent(server)}&user=${encodeURIComponent(user)}&pass=${encodeURIComponent(pass)}&action=get_vod_streams`);\n  return res.json();\n};\nexport const getSeries = async (server, user, pass) => {\n  const res = await fetchProxy(`server=${encodeURIComponent(server)}&user=${encodeURIComponent(user)}&pass=${encodeURIComponent(pass)}&action=get_series`);\n  return res.json();\n};\nexport const getCategories = async (server, user, pass) => {\n  const res = await fetchProxy(`server=${encodeURIComponent(server)}&user=${encodeURIComponent(user)}&pass=${encodeURIComponent(pass)}&action=get_live_categories`);\n  return res.json();\n};\n\n// =====================\n// STREAM BUILDER\n// =====================\nexport const buildStream = (server, user, pass, type, id) => {\n  const base = server.replace(/\\/$/, \"\");\n  switch (type) {\n    case \"live\":\n      return `${base}/live/${user}/${pass}/${id}.m3u8`;\n    case \"movie\":\n      return `${base}/movie/${user}/${pass}/${id}.m3u8`;\n    case \"series\":\n      return `${base}/series/${user}/${pass}/${id}.m3u8`;\n    default:\n      return `${base}/${type}/${user}/${pass}/${id}`;\n  }\n};\n\n// =====================\n// RAW M3U\n// =====================\nexport const fetchM3U = async m3uUrl => {\n  const res = await fetchProxy(`m3u=${encodeURIComponent(m3uUrl)}`);\n  return res.text();\n};","map":{"version":3,"names":["fetchProxy","params","res","fetch","ok","Error","status","getLive","server","user","pass","encodeURIComponent","json","getMovies","getSeries","getCategories","buildStream","type","id","base","replace","fetchM3U","m3uUrl","text"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/services/iptvService.jsx"],"sourcesContent":["// =====================\r\n// Helper\r\n// =====================\r\nconst fetchProxy = async (params) => {\r\n  const res = await fetch(`/api/iptv?${params}`);\r\n  if (!res.ok) {\r\n    throw new Error(`Proxy error ${res.status}`);\r\n  }\r\n  return res;\r\n};\r\n\r\n// =====================\r\n// XTREAM API\r\n// =====================\r\nexport const getLive = async (server, user, pass) => {\r\n  const res = await fetchProxy(\r\n    `server=${encodeURIComponent(server)}&user=${encodeURIComponent(\r\n      user\r\n    )}&pass=${encodeURIComponent(pass)}&action=get_live_streams`\r\n  );\r\n  return res.json();\r\n};\r\n\r\nexport const getMovies = async (server, user, pass) => {\r\n  const res = await fetchProxy(\r\n    `server=${encodeURIComponent(server)}&user=${encodeURIComponent(\r\n      user\r\n    )}&pass=${encodeURIComponent(pass)}&action=get_vod_streams`\r\n  );\r\n  return res.json();\r\n};\r\n\r\nexport const getSeries = async (server, user, pass) => {\r\n  const res = await fetchProxy(\r\n    `server=${encodeURIComponent(server)}&user=${encodeURIComponent(\r\n      user\r\n    )}&pass=${encodeURIComponent(pass)}&action=get_series`\r\n  );\r\n  return res.json();\r\n};\r\n\r\nexport const getCategories = async (server, user, pass) => {\r\n  const res = await fetchProxy(\r\n    `server=${encodeURIComponent(server)}&user=${encodeURIComponent(\r\n      user\r\n    )}&pass=${encodeURIComponent(pass)}&action=get_live_categories`\r\n  );\r\n  return res.json();\r\n};\r\n\r\n// =====================\r\n// STREAM BUILDER\r\n// =====================\r\nexport const buildStream = (server, user, pass, type, id) => {\r\n  const base = server.replace(/\\/$/, \"\");\r\n\r\n  switch (type) {\r\n    case \"live\":\r\n      return `${base}/live/${user}/${pass}/${id}.m3u8`;\r\n    case \"movie\":\r\n      return `${base}/movie/${user}/${pass}/${id}.m3u8`;\r\n    case \"series\":\r\n      return `${base}/series/${user}/${pass}/${id}.m3u8`;\r\n    default:\r\n      return `${base}/${type}/${user}/${pass}/${id}`;\r\n  }\r\n};\r\n\r\n// =====================\r\n// RAW M3U\r\n// =====================\r\nexport const fetchM3U = async (m3uUrl) => {\r\n  const res = await fetchProxy(`m3u=${encodeURIComponent(m3uUrl)}`);\r\n  return res.text();\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,MAAMA,UAAU,GAAG,MAAOC,MAAM,IAAK;EACnC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,aAAaF,MAAM,EAAE,CAAC;EAC9C,IAAI,CAACC,GAAG,CAACE,EAAE,EAAE;IACX,MAAM,IAAIC,KAAK,CAAC,eAAeH,GAAG,CAACI,MAAM,EAAE,CAAC;EAC9C;EACA,OAAOJ,GAAG;AACZ,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMK,OAAO,GAAG,MAAAA,CAAOC,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACnD,MAAMR,GAAG,GAAG,MAAMF,UAAU,CAC1B,UAAUW,kBAAkB,CAACH,MAAM,CAAC,SAASG,kBAAkB,CAC7DF,IACF,CAAC,SAASE,kBAAkB,CAACD,IAAI,CAAC,0BACpC,CAAC;EACD,OAAOR,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB,CAAC;AAED,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOL,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACrD,MAAMR,GAAG,GAAG,MAAMF,UAAU,CAC1B,UAAUW,kBAAkB,CAACH,MAAM,CAAC,SAASG,kBAAkB,CAC7DF,IACF,CAAC,SAASE,kBAAkB,CAACD,IAAI,CAAC,yBACpC,CAAC;EACD,OAAOR,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB,CAAC;AAED,OAAO,MAAME,SAAS,GAAG,MAAAA,CAAON,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACrD,MAAMR,GAAG,GAAG,MAAMF,UAAU,CAC1B,UAAUW,kBAAkB,CAACH,MAAM,CAAC,SAASG,kBAAkB,CAC7DF,IACF,CAAC,SAASE,kBAAkB,CAACD,IAAI,CAAC,oBACpC,CAAC;EACD,OAAOR,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB,CAAC;AAED,OAAO,MAAMG,aAAa,GAAG,MAAAA,CAAOP,MAAM,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACzD,MAAMR,GAAG,GAAG,MAAMF,UAAU,CAC1B,UAAUW,kBAAkB,CAACH,MAAM,CAAC,SAASG,kBAAkB,CAC7DF,IACF,CAAC,SAASE,kBAAkB,CAACD,IAAI,CAAC,6BACpC,CAAC;EACD,OAAOR,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMI,WAAW,GAAGA,CAACR,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAEO,IAAI,EAAEC,EAAE,KAAK;EAC3D,MAAMC,IAAI,GAAGX,MAAM,CAACY,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EAEtC,QAAQH,IAAI;IACV,KAAK,MAAM;MACT,OAAO,GAAGE,IAAI,SAASV,IAAI,IAAIC,IAAI,IAAIQ,EAAE,OAAO;IAClD,KAAK,OAAO;MACV,OAAO,GAAGC,IAAI,UAAUV,IAAI,IAAIC,IAAI,IAAIQ,EAAE,OAAO;IACnD,KAAK,QAAQ;MACX,OAAO,GAAGC,IAAI,WAAWV,IAAI,IAAIC,IAAI,IAAIQ,EAAE,OAAO;IACpD;MACE,OAAO,GAAGC,IAAI,IAAIF,IAAI,IAAIR,IAAI,IAAIC,IAAI,IAAIQ,EAAE,EAAE;EAClD;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMG,QAAQ,GAAG,MAAOC,MAAM,IAAK;EACxC,MAAMpB,GAAG,GAAG,MAAMF,UAAU,CAAC,OAAOW,kBAAkB,CAACW,MAAM,CAAC,EAAE,CAAC;EACjE,OAAOpB,GAAG,CAACqB,IAAI,CAAC,CAAC;AACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}