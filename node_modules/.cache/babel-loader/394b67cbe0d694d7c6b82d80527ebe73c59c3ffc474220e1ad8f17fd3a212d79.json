{"ast":null,"code":"// services/xtream.js\n\nconst CORS_PROXIES = ['https://api.allorigins.win/raw?url=', 'https://corsproxy.io/?', 'https://proxy.cors.sh/', 'https://cors-anywhere.herokuapp.com/'];\n\n/**\r\n * Fetch me proxy pÃ«r tÃ« shmangur CORS\r\n */\nconst fetchProxy = async (url, retryCount = 0) => {\n  if (retryCount > CORS_PROXIES.length) {\n    throw new Error('Nuk u arrit tÃ« lidhet pas disa pÃ«rpjekjeve');\n  }\n  try {\n    // PÃ«rdor proxy nÃ«se nuk Ã«shtÃ« localhost\n    if (!url.includes('localhost') && !url.includes('127.0.0.1')) {\n      const proxy = CORS_PROXIES[retryCount];\n      const proxyUrl = `${proxy}${encodeURIComponent(url)}`;\n      console.log(`ðŸ”„ Duke u lidhur me proxy ${retryCount + 1}: ${proxy}`);\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 15000);\n      const response = await fetch(proxyUrl, {\n        signal: controller.signal,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'X-Requested-With': 'XMLHttpRequest'\n        }\n      });\n      clearTimeout(timeoutId);\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}`);\n      }\n      const text = await response.text();\n\n      // PÃ«rpiqu tÃ« parse-oj JSON\n      try {\n        return JSON.parse(text);\n      } catch {\n        // NÃ«se nuk Ã«shtÃ« JSON, kthe text\n        return text;\n      }\n    } else {\n      // Pa proxy pÃ«r localhost\n      const response = await fetch(url);\n      return await response.json();\n    }\n  } catch (error) {\n    console.warn(`âš ï¸ Proxy ${retryCount + 1} dÃ«shtoi:`, error.message);\n    // Provo proxy tjetÃ«r\n    return fetchProxy(url, retryCount + 1);\n  }\n};\n\n/**\r\n * Nderto URL-nÃ« e Xtream API\r\n */\nconst buildUrl = (server, user, pass, action) => {\n  let baseUrl = server.trim();\n\n  // Pastro URL-nÃ«\n  if (baseUrl.endsWith('/')) {\n    baseUrl = baseUrl.slice(0, -1);\n  }\n\n  // Shto protocol nÃ«se mungon\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\n    baseUrl = 'https://' + baseUrl;\n  }\n\n  // Player API URL\n  return `${baseUrl}/player_api.php?username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}&action=${action}`;\n};\n\n/**\r\n * LOGIN - Verifikon kredencialet\r\n */\nexport const xtreamLogin = async (server, user, pass) => {\n  try {\n    var _data$user_info;\n    const url = buildUrl(server, user, pass, '');\n    const data = await fetchProxy(url);\n    if ((data === null || data === void 0 ? void 0 : (_data$user_info = data.user_info) === null || _data$user_info === void 0 ? void 0 : _data$user_info.auth) === 1) {\n      return {\n        success: true,\n        data: data.user_info,\n        server: server\n      };\n    } else {\n      return {\n        success: false,\n        error: 'Kredencialet e gabuara'\n      };\n    }\n  } catch (error) {\n    return {\n      success: false,\n      error: error.message\n    };\n  }\n};\n\n/**\r\n * LIVE STREAMS - Kanalet\r\n */\nexport const getLiveStreams = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_live_streams');\n    const data = await fetchProxy(url);\n    if (!Array.isArray(data)) {\n      return [];\n    }\n    return data.map(channel => ({\n      id: channel.stream_id,\n      stream_id: channel.stream_id,\n      name: channel.name,\n      title: channel.name,\n      logo: channel.stream_icon || null,\n      poster: channel.stream_icon || null,\n      cover: channel.stream_icon || null,\n      category_id: channel.category_id,\n      category: channel.category_name || 'TÃ« tjera',\n      category_name: channel.category_name || 'TÃ« tjera',\n      epg_channel_id: channel.epg_channel_id,\n      tv_archive: channel.tv_archive === 1,\n      tv_archive_duration: channel.tv_archive_duration || 0,\n      type: 'live',\n      stream_url: null,\n      // Do tÃ« ndÃ«rtohet dynamically\n      added: channel.added,\n      custom_sid: channel.custom_sid,\n      direct_source: channel.direct_source\n    }));\n  } catch (error) {\n    console.error('Gabim nÃ« getLiveStreams:', error);\n    return [];\n  }\n};\n\n/**\r\n * LIVE CATEGORIES - KategoritÃ« e kanaleve\r\n */\nexport const getLiveCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_live_categories');\n    const data = await fetchProxy(url);\n    if (!Array.isArray(data)) {\n      return [];\n    }\n    return data.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name,\n      title: cat.category_name,\n      parent_id: cat.parent_id || 0,\n      type: 'live'\n    }));\n  } catch (error) {\n    console.error('Gabim nÃ« getLiveCategories:', error);\n    return [];\n  }\n};\n\n/**\r\n * MOVIES - Filmat\r\n */\nexport const getMovies = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_vod_streams');\n    const data = await fetchProxy(url);\n    if (!Array.isArray(data)) {\n      return [];\n    }\n    return data.map(movie => ({\n      id: movie.stream_id,\n      stream_id: movie.stream_id,\n      name: movie.name,\n      title: movie.name,\n      logo: movie.stream_icon || null,\n      poster: movie.stream_icon || null,\n      cover: movie.stream_icon || null,\n      backdrop: movie.backdrop_path || null,\n      category_id: movie.category_id,\n      category: movie.category_name || 'Filma',\n      category_name: movie.category_name || 'Filma',\n      year: movie.year || null,\n      rating: movie.rating || null,\n      rating_5based: movie.rating_5based || null,\n      duration: movie.duration || 0,\n      duration_secs: movie.duration_secs || 0,\n      description: movie.description || null,\n      plot: movie.plot || null,\n      cast: movie.cast || null,\n      director: movie.director || null,\n      genre: movie.genre || null,\n      release_date: movie.release_date || null,\n      youtube_trailer: movie.youtube_trailer || null,\n      episode_run_time: movie.episode_run_time || null,\n      container_extension: movie.container_extension || 'mp4',\n      type: 'movie'\n    }));\n  } catch (error) {\n    console.error('Gabim nÃ« getMovies:', error);\n    return [];\n  }\n};\n\n/**\r\n * MOVIES CATEGORIES - KategoritÃ« e filmave\r\n */\nexport const getMovieCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_vod_categories');\n    const data = await fetchProxy(url);\n    if (!Array.isArray(data)) {\n      return [];\n    }\n    return data.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name,\n      title: cat.category_name,\n      parent_id: cat.parent_id || 0,\n      type: 'movie'\n    }));\n  } catch (error) {\n    console.error('Gabim nÃ« getMovieCategories:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES - Serialet\r\n */\nexport const getSeries = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_series');\n    const data = await fetchProxy(url);\n    if (!Array.isArray(data)) {\n      return [];\n    }\n    return data.map(series => {\n      var _series$seasons;\n      return {\n        id: series.series_id,\n        series_id: series.series_id,\n        name: series.name,\n        title: series.name,\n        logo: series.cover || null,\n        poster: series.cover || null,\n        cover: series.cover || null,\n        backdrop: series.backdrop_path || null,\n        category_id: series.category_id,\n        category: series.category_name || 'Seriale',\n        category_name: series.category_name || 'Seriale',\n        year: series.year || null,\n        rating: series.rating || null,\n        rating_5based: series.rating_5based || null,\n        description: series.description || null,\n        plot: series.plot || null,\n        cast: series.cast || null,\n        director: series.director || null,\n        genre: series.genre || null,\n        release_date: series.release_date || null,\n        youtube_trailer: series.youtube_trailer || null,\n        episode_run_time: series.episode_run_time || null,\n        seasons: series.seasons || [],\n        season_count: ((_series$seasons = series.seasons) === null || _series$seasons === void 0 ? void 0 : _series$seasons.length) || 0,\n        type: 'series'\n      };\n    });\n  } catch (error) {\n    console.error('Gabim nÃ« getSeries:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES CATEGORIES - KategoritÃ« e serialeve\r\n */\nexport const getSeriesCategories = async (server, user, pass) => {\n  try {\n    const url = buildUrl(server, user, pass, 'get_series_categories');\n    const data = await fetchProxy(url);\n    if (!Array.isArray(data)) {\n      return [];\n    }\n    return data.map(cat => ({\n      id: cat.category_id,\n      category_id: cat.category_id,\n      name: cat.category_name,\n      title: cat.category_name,\n      parent_id: cat.parent_id || 0,\n      type: 'series'\n    }));\n  } catch (error) {\n    console.error('Gabim nÃ« getSeriesCategories:', error);\n    return [];\n  }\n};\n\n/**\r\n * SERIES INFO - Detajet e serialit dhe sezonet\r\n */\nexport const getSeriesInfo = async (server, user, pass, seriesId) => {\n  try {\n    var _data$info, _data$info2, _data$info3, _data$info4, _data$info5, _data$info6, _data$info7, _data$info8, _data$info9;\n    const url = buildUrl(server, user, pass, 'get_series_info');\n    const data = await fetchProxy(`${url}&series_id=${seriesId}`);\n    if (!data) {\n      return null;\n    }\n    return {\n      id: seriesId,\n      name: ((_data$info = data.info) === null || _data$info === void 0 ? void 0 : _data$info.name) || '',\n      cover: ((_data$info2 = data.info) === null || _data$info2 === void 0 ? void 0 : _data$info2.cover) || '',\n      backdrop: ((_data$info3 = data.info) === null || _data$info3 === void 0 ? void 0 : _data$info3.backdrop_path) || '',\n      plot: ((_data$info4 = data.info) === null || _data$info4 === void 0 ? void 0 : _data$info4.plot) || '',\n      cast: ((_data$info5 = data.info) === null || _data$info5 === void 0 ? void 0 : _data$info5.cast) || '',\n      director: ((_data$info6 = data.info) === null || _data$info6 === void 0 ? void 0 : _data$info6.director) || '',\n      genre: ((_data$info7 = data.info) === null || _data$info7 === void 0 ? void 0 : _data$info7.genre) || '',\n      release_date: ((_data$info8 = data.info) === null || _data$info8 === void 0 ? void 0 : _data$info8.release_date) || '',\n      rating: ((_data$info9 = data.info) === null || _data$info9 === void 0 ? void 0 : _data$info9.rating) || '',\n      seasons: data.episodes || {}\n    };\n  } catch (error) {\n    console.error('Gabim nÃ« getSeriesInfo:', error);\n    return null;\n  }\n};\n\n/**\r\n * EPG - Electronic Program Guide\r\n */\nexport const getEPG = async (server, user, pass, channelId, date = null) => {\n  try {\n    let url = buildUrl(server, user, pass, 'get_epg');\n    url = `${url}&stream_id=${channelId}`;\n    if (date) {\n      url = `${url}&date=${date}`;\n    }\n    const data = await fetchProxy(url);\n    if (!(data !== null && data !== void 0 && data.epg_listings)) {\n      return [];\n    }\n    return data.epg_listings.map(epg => ({\n      id: epg.id,\n      channel_id: channelId,\n      title: epg.title,\n      description: epg.description || '',\n      start: epg.start,\n      end: epg.end,\n      start_timestamp: epg.start_timestamp,\n      end_timestamp: epg.end_timestamp,\n      now_playing: epg.now_playing || false\n    }));\n  } catch (error) {\n    console.error('Gabim nÃ« getEPG:', error);\n    return [];\n  }\n};\n\n/**\r\n * Nderto stream URL pÃ«r Xtream\r\n */\nexport const buildStreamUrl = (server, user, pass, streamId, type = 'live', extension = 'm3u8') => {\n  let baseUrl = server.trim();\n  if (baseUrl.endsWith('/')) {\n    baseUrl = baseUrl.slice(0, -1);\n  }\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\n    baseUrl = 'https://' + baseUrl;\n  }\n  switch (type) {\n    case 'live':\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\n    case 'movie':\n      return `${baseUrl}/movie/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.${extension}`;\n    case 'series':\n      return `${baseUrl}/series/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.mp4`;\n    default:\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\n  }\n};\n\n/**\r\n * KategoritÃ« e plota - Live, Movies, Series\r\n */\nexport const getAllCategories = async (server, user, pass) => {\n  try {\n    const [liveCats, movieCats, seriesCats] = await Promise.all([getLiveCategories(server, user, pass), getMovieCategories(server, user, pass), getSeriesCategories(server, user, pass)]);\n    return {\n      live: liveCats,\n      movies: movieCats,\n      series: seriesCats,\n      all: [...liveCats.map(c => ({\n        ...c,\n        type: 'live'\n      })), ...movieCats.map(c => ({\n        ...c,\n        type: 'movie'\n      })), ...seriesCats.map(c => ({\n        ...c,\n        type: 'series'\n      }))]\n    };\n  } catch (error) {\n    console.error('Gabim nÃ« getAllCategories:', error);\n    return {\n      live: [],\n      movies: [],\n      series: [],\n      all: []\n    };\n  }\n};\n\n/**\r\n * TÃ« dhÃ«nat e plota - Live, Movies, Series\r\n */\nexport const getAllContent = async (server, user, pass) => {\n  try {\n    const [live, movies, series] = await Promise.all([getLiveStreams(server, user, pass), getMovies(server, user, pass), getSeries(server, user, pass)]);\n    return {\n      live,\n      movies,\n      series\n    };\n  } catch (error) {\n    console.error('Gabim nÃ« getAllContent:', error);\n    return {\n      live: [],\n      movies: [],\n      series: []\n    };\n  }\n};\nexport default {\n  xtreamLogin,\n  getLiveStreams,\n  getLiveCategories,\n  getMovies,\n  getMovieCategories,\n  getSeries,\n  getSeriesCategories,\n  getSeriesInfo,\n  getEPG,\n  buildStreamUrl,\n  getAllCategories,\n  getAllContent\n};","map":{"version":3,"names":["CORS_PROXIES","fetchProxy","url","retryCount","length","Error","includes","proxy","proxyUrl","encodeURIComponent","console","log","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","signal","headers","clearTimeout","ok","status","text","JSON","parse","json","error","warn","message","buildUrl","server","user","pass","action","baseUrl","trim","endsWith","slice","startsWith","xtreamLogin","_data$user_info","data","user_info","auth","success","getLiveStreams","Array","isArray","map","channel","id","stream_id","name","title","logo","stream_icon","poster","cover","category_id","category","category_name","epg_channel_id","tv_archive","tv_archive_duration","type","stream_url","added","custom_sid","direct_source","getLiveCategories","cat","parent_id","getMovies","movie","backdrop","backdrop_path","year","rating","rating_5based","duration","duration_secs","description","plot","cast","director","genre","release_date","youtube_trailer","episode_run_time","container_extension","getMovieCategories","getSeries","series","_series$seasons","series_id","seasons","season_count","getSeriesCategories","getSeriesInfo","seriesId","_data$info","_data$info2","_data$info3","_data$info4","_data$info5","_data$info6","_data$info7","_data$info8","_data$info9","info","episodes","getEPG","channelId","date","epg_listings","epg","channel_id","start","end","start_timestamp","end_timestamp","now_playing","buildStreamUrl","streamId","extension","getAllCategories","liveCats","movieCats","seriesCats","Promise","all","live","movies","c","getAllContent"],"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reacttv/src/services/xtream.jsx"],"sourcesContent":["// services/xtream.js\r\n\r\nconst CORS_PROXIES = [\r\n  'https://api.allorigins.win/raw?url=',\r\n  'https://corsproxy.io/?',\r\n  'https://proxy.cors.sh/',\r\n  'https://cors-anywhere.herokuapp.com/'\r\n];\r\n\r\n/**\r\n * Fetch me proxy pÃ«r tÃ« shmangur CORS\r\n */\r\nconst fetchProxy = async (url, retryCount = 0) => {\r\n  if (retryCount > CORS_PROXIES.length) {\r\n    throw new Error('Nuk u arrit tÃ« lidhet pas disa pÃ«rpjekjeve');\r\n  }\r\n\r\n  try {\r\n    // PÃ«rdor proxy nÃ«se nuk Ã«shtÃ« localhost\r\n    if (!url.includes('localhost') && !url.includes('127.0.0.1')) {\r\n      const proxy = CORS_PROXIES[retryCount];\r\n      const proxyUrl = `${proxy}${encodeURIComponent(url)}`;\r\n      \r\n      console.log(`ðŸ”„ Duke u lidhur me proxy ${retryCount + 1}: ${proxy}`);\r\n      \r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 15000);\r\n\r\n      const response = await fetch(proxyUrl, {\r\n        signal: controller.signal,\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'X-Requested-With': 'XMLHttpRequest'\r\n        }\r\n      });\r\n\r\n      clearTimeout(timeoutId);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n      const text = await response.text();\r\n      \r\n      // PÃ«rpiqu tÃ« parse-oj JSON\r\n      try {\r\n        return JSON.parse(text);\r\n      } catch {\r\n        // NÃ«se nuk Ã«shtÃ« JSON, kthe text\r\n        return text;\r\n      }\r\n    } else {\r\n      // Pa proxy pÃ«r localhost\r\n      const response = await fetch(url);\r\n      return await response.json();\r\n    }\r\n  } catch (error) {\r\n    console.warn(`âš ï¸ Proxy ${retryCount + 1} dÃ«shtoi:`, error.message);\r\n    // Provo proxy tjetÃ«r\r\n    return fetchProxy(url, retryCount + 1);\r\n  }\r\n};\r\n\r\n/**\r\n * Nderto URL-nÃ« e Xtream API\r\n */\r\nconst buildUrl = (server, user, pass, action) => {\r\n  let baseUrl = server.trim();\r\n  \r\n  // Pastro URL-nÃ«\r\n  if (baseUrl.endsWith('/')) {\r\n    baseUrl = baseUrl.slice(0, -1);\r\n  }\r\n  \r\n  // Shto protocol nÃ«se mungon\r\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\r\n    baseUrl = 'https://' + baseUrl;\r\n  }\r\n  \r\n  // Player API URL\r\n  return `${baseUrl}/player_api.php?username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}&action=${action}`;\r\n};\r\n\r\n/**\r\n * LOGIN - Verifikon kredencialet\r\n */\r\nexport const xtreamLogin = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, '');\r\n    const data = await fetchProxy(url);\r\n    \r\n    if (data?.user_info?.auth === 1) {\r\n      return {\r\n        success: true,\r\n        data: data.user_info,\r\n        server: server\r\n      };\r\n    } else {\r\n      return {\r\n        success: false,\r\n        error: 'Kredencialet e gabuara'\r\n      };\r\n    }\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * LIVE STREAMS - Kanalet\r\n */\r\nexport const getLiveStreams = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_live_streams');\r\n    const data = await fetchProxy(url);\r\n    \r\n    if (!Array.isArray(data)) {\r\n      return [];\r\n    }\r\n\r\n    return data.map(channel => ({\r\n      id: channel.stream_id,\r\n      stream_id: channel.stream_id,\r\n      name: channel.name,\r\n      title: channel.name,\r\n      logo: channel.stream_icon || null,\r\n      poster: channel.stream_icon || null,\r\n      cover: channel.stream_icon || null,\r\n      category_id: channel.category_id,\r\n      category: channel.category_name || 'TÃ« tjera',\r\n      category_name: channel.category_name || 'TÃ« tjera',\r\n      epg_channel_id: channel.epg_channel_id,\r\n      tv_archive: channel.tv_archive === 1,\r\n      tv_archive_duration: channel.tv_archive_duration || 0,\r\n      type: 'live',\r\n      stream_url: null, // Do tÃ« ndÃ«rtohet dynamically\r\n      added: channel.added,\r\n      custom_sid: channel.custom_sid,\r\n      direct_source: channel.direct_source\r\n    }));\r\n  } catch (error) {\r\n    console.error('Gabim nÃ« getLiveStreams:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * LIVE CATEGORIES - KategoritÃ« e kanaleve\r\n */\r\nexport const getLiveCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_live_categories');\r\n    const data = await fetchProxy(url);\r\n    \r\n    if (!Array.isArray(data)) {\r\n      return [];\r\n    }\r\n\r\n    return data.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name,\r\n      title: cat.category_name,\r\n      parent_id: cat.parent_id || 0,\r\n      type: 'live'\r\n    }));\r\n  } catch (error) {\r\n    console.error('Gabim nÃ« getLiveCategories:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * MOVIES - Filmat\r\n */\r\nexport const getMovies = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_vod_streams');\r\n    const data = await fetchProxy(url);\r\n    \r\n    if (!Array.isArray(data)) {\r\n      return [];\r\n    }\r\n\r\n    return data.map(movie => ({\r\n      id: movie.stream_id,\r\n      stream_id: movie.stream_id,\r\n      name: movie.name,\r\n      title: movie.name,\r\n      logo: movie.stream_icon || null,\r\n      poster: movie.stream_icon || null,\r\n      cover: movie.stream_icon || null,\r\n      backdrop: movie.backdrop_path || null,\r\n      category_id: movie.category_id,\r\n      category: movie.category_name || 'Filma',\r\n      category_name: movie.category_name || 'Filma',\r\n      year: movie.year || null,\r\n      rating: movie.rating || null,\r\n      rating_5based: movie.rating_5based || null,\r\n      duration: movie.duration || 0,\r\n      duration_secs: movie.duration_secs || 0,\r\n      description: movie.description || null,\r\n      plot: movie.plot || null,\r\n      cast: movie.cast || null,\r\n      director: movie.director || null,\r\n      genre: movie.genre || null,\r\n      release_date: movie.release_date || null,\r\n      youtube_trailer: movie.youtube_trailer || null,\r\n      episode_run_time: movie.episode_run_time || null,\r\n      container_extension: movie.container_extension || 'mp4',\r\n      type: 'movie'\r\n    }));\r\n  } catch (error) {\r\n    console.error('Gabim nÃ« getMovies:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * MOVIES CATEGORIES - KategoritÃ« e filmave\r\n */\r\nexport const getMovieCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_vod_categories');\r\n    const data = await fetchProxy(url);\r\n    \r\n    if (!Array.isArray(data)) {\r\n      return [];\r\n    }\r\n\r\n    return data.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name,\r\n      title: cat.category_name,\r\n      parent_id: cat.parent_id || 0,\r\n      type: 'movie'\r\n    }));\r\n  } catch (error) {\r\n    console.error('Gabim nÃ« getMovieCategories:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES - Serialet\r\n */\r\nexport const getSeries = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series');\r\n    const data = await fetchProxy(url);\r\n    \r\n    if (!Array.isArray(data)) {\r\n      return [];\r\n    }\r\n\r\n    return data.map(series => ({\r\n      id: series.series_id,\r\n      series_id: series.series_id,\r\n      name: series.name,\r\n      title: series.name,\r\n      logo: series.cover || null,\r\n      poster: series.cover || null,\r\n      cover: series.cover || null,\r\n      backdrop: series.backdrop_path || null,\r\n      category_id: series.category_id,\r\n      category: series.category_name || 'Seriale',\r\n      category_name: series.category_name || 'Seriale',\r\n      year: series.year || null,\r\n      rating: series.rating || null,\r\n      rating_5based: series.rating_5based || null,\r\n      description: series.description || null,\r\n      plot: series.plot || null,\r\n      cast: series.cast || null,\r\n      director: series.director || null,\r\n      genre: series.genre || null,\r\n      release_date: series.release_date || null,\r\n      youtube_trailer: series.youtube_trailer || null,\r\n      episode_run_time: series.episode_run_time || null,\r\n      seasons: series.seasons || [],\r\n      season_count: series.seasons?.length || 0,\r\n      type: 'series'\r\n    }));\r\n  } catch (error) {\r\n    console.error('Gabim nÃ« getSeries:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES CATEGORIES - KategoritÃ« e serialeve\r\n */\r\nexport const getSeriesCategories = async (server, user, pass) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series_categories');\r\n    const data = await fetchProxy(url);\r\n    \r\n    if (!Array.isArray(data)) {\r\n      return [];\r\n    }\r\n\r\n    return data.map(cat => ({\r\n      id: cat.category_id,\r\n      category_id: cat.category_id,\r\n      name: cat.category_name,\r\n      title: cat.category_name,\r\n      parent_id: cat.parent_id || 0,\r\n      type: 'series'\r\n    }));\r\n  } catch (error) {\r\n    console.error('Gabim nÃ« getSeriesCategories:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * SERIES INFO - Detajet e serialit dhe sezonet\r\n */\r\nexport const getSeriesInfo = async (server, user, pass, seriesId) => {\r\n  try {\r\n    const url = buildUrl(server, user, pass, 'get_series_info');\r\n    const data = await fetchProxy(`${url}&series_id=${seriesId}`);\r\n    \r\n    if (!data) {\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      id: seriesId,\r\n      name: data.info?.name || '',\r\n      cover: data.info?.cover || '',\r\n      backdrop: data.info?.backdrop_path || '',\r\n      plot: data.info?.plot || '',\r\n      cast: data.info?.cast || '',\r\n      director: data.info?.director || '',\r\n      genre: data.info?.genre || '',\r\n      release_date: data.info?.release_date || '',\r\n      rating: data.info?.rating || '',\r\n      seasons: data.episodes || {}\r\n    };\r\n  } catch (error) {\r\n    console.error('Gabim nÃ« getSeriesInfo:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * EPG - Electronic Program Guide\r\n */\r\nexport const getEPG = async (server, user, pass, channelId, date = null) => {\r\n  try {\r\n    let url = buildUrl(server, user, pass, 'get_epg');\r\n    url = `${url}&stream_id=${channelId}`;\r\n    \r\n    if (date) {\r\n      url = `${url}&date=${date}`;\r\n    }\r\n    \r\n    const data = await fetchProxy(url);\r\n    \r\n    if (!data?.epg_listings) {\r\n      return [];\r\n    }\r\n\r\n    return data.epg_listings.map(epg => ({\r\n      id: epg.id,\r\n      channel_id: channelId,\r\n      title: epg.title,\r\n      description: epg.description || '',\r\n      start: epg.start,\r\n      end: epg.end,\r\n      start_timestamp: epg.start_timestamp,\r\n      end_timestamp: epg.end_timestamp,\r\n      now_playing: epg.now_playing || false\r\n    }));\r\n  } catch (error) {\r\n    console.error('Gabim nÃ« getEPG:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * Nderto stream URL pÃ«r Xtream\r\n */\r\nexport const buildStreamUrl = (server, user, pass, streamId, type = 'live', extension = 'm3u8') => {\r\n  let baseUrl = server.trim();\r\n  \r\n  if (baseUrl.endsWith('/')) {\r\n    baseUrl = baseUrl.slice(0, -1);\r\n  }\r\n  \r\n  if (!baseUrl.startsWith('http://') && !baseUrl.startsWith('https://')) {\r\n    baseUrl = 'https://' + baseUrl;\r\n  }\r\n\r\n  switch (type) {\r\n    case 'live':\r\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\r\n    case 'movie':\r\n      return `${baseUrl}/movie/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.${extension}`;\r\n    case 'series':\r\n      return `${baseUrl}/series/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.mp4`;\r\n    default:\r\n      return `${baseUrl}/live/${encodeURIComponent(user)}/${encodeURIComponent(pass)}/${streamId}.m3u8`;\r\n  }\r\n};\r\n\r\n/**\r\n * KategoritÃ« e plota - Live, Movies, Series\r\n */\r\nexport const getAllCategories = async (server, user, pass) => {\r\n  try {\r\n    const [liveCats, movieCats, seriesCats] = await Promise.all([\r\n      getLiveCategories(server, user, pass),\r\n      getMovieCategories(server, user, pass),\r\n      getSeriesCategories(server, user, pass)\r\n    ]);\r\n\r\n    return {\r\n      live: liveCats,\r\n      movies: movieCats,\r\n      series: seriesCats,\r\n      all: [\r\n        ...liveCats.map(c => ({ ...c, type: 'live' })),\r\n        ...movieCats.map(c => ({ ...c, type: 'movie' })),\r\n        ...seriesCats.map(c => ({ ...c, type: 'series' }))\r\n      ]\r\n    };\r\n  } catch (error) {\r\n    console.error('Gabim nÃ« getAllCategories:', error);\r\n    return { live: [], movies: [], series: [], all: [] };\r\n  }\r\n};\r\n\r\n/**\r\n * TÃ« dhÃ«nat e plota - Live, Movies, Series\r\n */\r\nexport const getAllContent = async (server, user, pass) => {\r\n  try {\r\n    const [live, movies, series] = await Promise.all([\r\n      getLiveStreams(server, user, pass),\r\n      getMovies(server, user, pass),\r\n      getSeries(server, user, pass)\r\n    ]);\r\n\r\n    return {\r\n      live,\r\n      movies,\r\n      series\r\n    };\r\n  } catch (error) {\r\n    console.error('Gabim nÃ« getAllContent:', error);\r\n    return { live: [], movies: [], series: [] };\r\n  }\r\n};\r\n\r\nexport default {\r\n  xtreamLogin,\r\n  getLiveStreams,\r\n  getLiveCategories,\r\n  getMovies,\r\n  getMovieCategories,\r\n  getSeries,\r\n  getSeriesCategories,\r\n  getSeriesInfo,\r\n  getEPG,\r\n  buildStreamUrl,\r\n  getAllCategories,\r\n  getAllContent\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}